<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>7.3. Date operations (JSR-310 Date and Time API) &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</title>
    <link rel="stylesheet" href="../../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.4.1.RELEASE',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.4. Date Operations (Joda Time)" href="JodaTime.html" />
    <link rel="prev" title="7.2. Properties Management" href="PropertyManagement.html" /><script src="../../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../../_static/solarized-dark.css" rel="stylesheet">
<link href="../../_static/jquery.treeview.css" rel="stylesheet">
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="JodaTime.html" title="7.4. Date Operations (Joda Time)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="PropertyManagement.html" title="7.2. Properties Management"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">7. General-purpose functions that do not depend on the application</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.3. Date operations (JSR-310 Date and Time API)</a><ul>
<li><a class="reference internal" href="#overview">7.3.1. Overview</a></li>
<li><a class="reference internal" href="#how-to-use">7.3.2. How to use</a><ul>
<li><a class="reference internal" href="#fetch-date-and-time">7.3.2.1. Fetch date and time</a><ul>
<li><a class="reference internal" href="#fetch-by-current-date-and-time">7.3.2.1.1. Fetch by current date and time</a></li>
<li><a class="reference internal" href="#fetch-by-specifying-year-month-day-hours-minutes-and-seconds">7.3.2.1.2. Fetch by specifying year, month, day, hours, minutes and seconds</a></li>
<li><a class="reference internal" href="#fetch-date-and-time-when-time-zone-is-specified">7.3.2.1.3. Fetch date and time when time zone is specified</a></li>
</ul>
</li>
<li><a class="reference internal" href="#time-period">7.3.2.2. Time period</a><ul>
<li><a class="reference internal" href="#fetch-time-period">7.3.2.2.1. Fetch time period</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-conversion">7.3.2.3. Type conversion</a><ul>
<li><a class="reference internal" href="#interoperability-of-each-class-of-date-and-time-api">7.3.2.3.1. Interoperability of each class of Date and Time API</a></li>
<li><a class="reference internal" href="#interoperability-with-java-util-date">7.3.2.3.2. Interoperability with java.util.Date</a></li>
<li><a class="reference internal" href="#interoperability-with-java-sqlpackage">7.3.2.3.3. Interoperability with java.sqlpackage</a></li>
<li><a class="reference internal" href="#how-to-use-org-terasoluna-gfw-common-date-package">7.3.2.3.4. How to use org.terasoluna.gfw.common.date package</a></li>
<li><a class="reference internal" href="#format-for-the-string">7.3.2.3.5. Format for the string</a></li>
<li><a class="reference internal" href="#path-from-the-string">7.3.2.3.6. Path from the string</a></li>
</ul>
</li>
<li><a class="reference internal" href="#date-operation">7.3.2.4. Date operation</a><ul>
<li><a class="reference internal" href="#date-and-time-calculation">7.3.2.4.1. Date and time calculation</a></li>
<li><a class="reference internal" href="#date-and-time-comparison">7.3.2.4.2. Date and time comparison</a></li>
<li><a class="reference internal" href="#determination-of-date-and-time">7.3.2.4.3. Determination of date and time</a></li>
<li><a class="reference internal" href="#fetching-year-month-day-hours-minutes-seconds">7.3.2.4.4. Fetching year, month, day, hours, minutes, seconds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#japanese-calendar-japanesedate">7.3.2.5. Japanese calendar （JapaneseDate）</a><ul>
<li><a class="reference internal" href="#fetching-japanese-calendar">7.3.2.5.1. Fetching Japanese calendar</a></li>
<li><a class="reference internal" href="#id1">7.3.2.5.2. Format for the string</a></li>
<li><a class="reference internal" href="#id2">7.3.2.5.3. Path from the string</a></li>
<li><a class="reference internal" href="#conversion-of-western-and-japanese-calendar">7.3.2.5.4. Conversion of Western and Japanese calendar</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="PropertyManagement.html"
                        title="previous chapter">7.2. Properties Management</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="JodaTime.html"
                        title="next chapter">7.4. Date Operations (Joda Time)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ArchitectureInDetail/GeneralFuncDetail/DateAndTime.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="date-operations-jsr-310-date-and-time-api">
<h1>7.3. Date operations (JSR-310 Date and Time API)<a class="headerlink" href="#date-operations-jsr-310-date-and-time-api" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="index">
<p class="topic-title first">Index</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id3">Overview</a></li>
<li><a class="reference internal" href="#how-to-use" id="id4">How to use</a><ul>
<li><a class="reference internal" href="#fetch-date-and-time" id="id5">Fetch date and time</a><ul>
<li><a class="reference internal" href="#fetch-by-current-date-and-time" id="id6">Fetch by current date and time</a></li>
<li><a class="reference internal" href="#fetch-by-specifying-year-month-day-hours-minutes-and-seconds" id="id7">Fetch by specifying year, month, day, hours, minutes and seconds</a></li>
<li><a class="reference internal" href="#fetch-date-and-time-when-time-zone-is-specified" id="id8">Fetch date and time when time zone is specified</a></li>
</ul>
</li>
<li><a class="reference internal" href="#time-period" id="id9">Time period</a><ul>
<li><a class="reference internal" href="#fetch-time-period" id="id10">Fetch time period</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-conversion" id="id11">Type conversion</a><ul>
<li><a class="reference internal" href="#interoperability-of-each-class-of-date-and-time-api" id="id12">Interoperability of each class of Date and Time API</a></li>
<li><a class="reference internal" href="#interoperability-with-java-util-date" id="id13">Interoperability with java.util.Date</a></li>
<li><a class="reference internal" href="#interoperability-with-java-sqlpackage" id="id14">Interoperability with java.sqlpackage</a></li>
<li><a class="reference internal" href="#how-to-use-org-terasoluna-gfw-common-date-package" id="id15">How to use org.terasoluna.gfw.common.date package</a></li>
<li><a class="reference internal" href="#format-for-the-string" id="id16">Format for the string</a></li>
<li><a class="reference internal" href="#path-from-the-string" id="id17">Path from the string</a></li>
</ul>
</li>
<li><a class="reference internal" href="#date-operation" id="id18">Date operation</a><ul>
<li><a class="reference internal" href="#date-and-time-calculation" id="id19">Date and time calculation</a></li>
<li><a class="reference internal" href="#date-and-time-comparison" id="id20">Date and time comparison</a></li>
<li><a class="reference internal" href="#determination-of-date-and-time" id="id21">Determination of date and time</a></li>
<li><a class="reference internal" href="#fetching-year-month-day-hours-minutes-seconds" id="id22">Fetching year, month, day, hours, minutes, seconds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#japanese-calendar-japanesedate" id="id23">Japanese calendar （JapaneseDate）</a><ul>
<li><a class="reference internal" href="#fetching-japanese-calendar" id="id24">Fetching Japanese calendar</a></li>
<li><a class="reference internal" href="#id1" id="id25">Format for the string</a></li>
<li><a class="reference internal" href="#id2" id="id26">Path from the string</a></li>
<li><a class="reference internal" href="#conversion-of-western-and-japanese-calendar" id="id27">Conversion of Western and Japanese calendar</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id3">7.3.1. Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">This guideline recommends the use of JSR-310 Date and Time API which offers various date and time calculations,</div>
<div class="line">as against <code class="docutils literal"><span class="pre">java.util.Date</span></code> and <code class="docutils literal"><span class="pre">java.util.Calendar</span></code>.</div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since JSR-310 Date and Time API has been introduced from Java8,
using Joda Time is recommended for the environments of versions Java8 and below.
For how to use Joda Time, refer <a class="reference internal" href="JodaTime.html"><span class="doc">Date Operations (Joda Time)</span></a>.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="how-to-use">
<h2><a class="toc-backref" href="#id4">7.3.2. How to use</a><a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">Date and Time API offers various classes depending on the application such as a class exclusively handling dates and a class exclusively handling time.</div>
<div class="line">In this guideline, the focus is on <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> , <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> and <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>, however, since the prefix of all the methods offered by each class is same for primary date and time operations, it should be interpreted by substituting with the appropriate class name.</div>
<div class="line">Classes and methods used primarily are as given below.</div>
<div class="line"><br /></div>
<div class="line"><strong>Primary class for handling date and time</strong></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="35%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class name</th>
<th class="head">Description</th>
<th class="head">Primary factory methods</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html">java.time.LocalDate</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html">java.time.LocalTime</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html">java.time.LocalDateTime</a></div>
</div>
</td>
<td>Class which handles date and time operation and does not possess information about timezone difference</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">now</span></code> Generated by current date and time</div>
<div class="line"><code class="docutils literal"><span class="pre">of</span></code>  Generated by any date and time</div>
<div class="line"><code class="docutils literal"><span class="pre">parse</span></code> Generated from date and time string</div>
<div class="line"><code class="docutils literal"><span class="pre">from</span></code>  Generated from other objects with date and time information</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/OffsetTime.html">java.time.OffsetTime</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html">java.time.OffsetDateTime</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html">java.time.ZonedDateTime</a></div>
</div>
</td>
<td>Class which handles date and time operation considering timezone difference</td>
<td>Same as above</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/chrono/JapaneseDate.html">java.time.chrono.JapaneseDate</a></div>
</div>
</td>
<td>Class to handle Japanese calendar operations</td>
<td>Same as above</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><strong>Primary class for handling information about time period</strong></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="35%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class name</th>
<th class="head">Description</th>
<th class="head">Primary factory methods</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/Period.html">java.time.Period</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">java.time.Duration</a></div>
</div>
</td>
<td>Class which handles date and time base, time base period</td>
<td><div class="first line-block">
<div class="line"><code class="docutils literal"><span class="pre">between</span></code> Generated from the difference between two objects with date and time information</div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">from</span></code> Generated from another object that contains amount of time</div>
</div>
<div class="last line-block">
<div class="line"><code class="docutils literal"><span class="pre">of</span></code> Generated in any time period</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><strong>Class for handling format</strong></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="35%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class name</th>
<th class="head">Description</th>
<th class="head">Primary factory method</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">java.time.format.DateTimeFormatter</a></div>
</div>
</td>
<td>Class which handles operations related to date and time format</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">ofPattern</span></code> Generates a formatter in specified pattern</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">How to use each class and method is explained below.</div>
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the topics that are not covered in the guideline, refer <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">Javadoc</a> for details.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Date and Time API class is immutable (date and time calculation result is considered as a new object, and changes do not occur in the objects for calculation).</p>
</div>
</div></blockquote>
<div class="section" id="fetch-date-and-time">
<h3><a class="toc-backref" href="#id5">7.3.2.1. Fetch date and time</a><a class="headerlink" href="#fetch-date-and-time" title="Permalink to this headline">¶</a></h3>
<div class="section" id="fetch-by-current-date-and-time">
<h4><a class="toc-backref" href="#id6">7.3.2.1.1. Fetch by current date and time</a><a class="headerlink" href="#fetch-by-current-date-and-time" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> , <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> and <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code> must be  selectively used in accordance with the purpose for which it is to be used. Example is shown below.</div>
</div>
<ol class="arabic simple">
<li>Use <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> when only time is to be fetched.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Use <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> when only date is to be fetched.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Use <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>  when both date and time are to be fetched.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="fetch-by-specifying-year-month-day-hours-minutes-and-seconds">
<h4><a class="toc-backref" href="#id7">7.3.2.1.2. Fetch by specifying year, month, day, hours, minutes and seconds</a><a class="headerlink" href="#fetch-by-specifying-year-month-day-hours-minutes-and-seconds" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Specific date and time can be specified by using of method. Example is shown below.</div>
</div>
<ol class="arabic simple">
<li>Specify time and fetch <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// 23:30:59</span>
<span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">23</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">59</span><span class="o">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Specify date and fetch <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// 2015/12/25</span>
<span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Specify date and time and fetch <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// 2015/12/25 23:30:59</span>
<span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">59</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Also, various dates and times can be fetched by using <code class="docutils literal"><span class="pre">java.time.temporal.TemporalAdjusters</span></code>.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// LeapYear(2012/2)</span>
<span class="n">LocalDate</span> <span class="n">localDate1</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2012</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

<span class="c1">// Last day of month(2012/2/29)</span>
<span class="n">LocalDate</span> <span class="n">localDate2</span> <span class="o">=</span> <span class="n">localDate1</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">TemporalAdjusters</span><span class="o">.</span><span class="na">lastDayOfMonth</span><span class="o">());</span>

<span class="c1">// Next monday（2012/2/6）</span>
<span class="n">LocalDate</span> <span class="n">localDate3</span> <span class="o">=</span> <span class="n">localDate1</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">TemporalAdjusters</span><span class="o">.</span><span class="na">next</span><span class="o">(</span><span class="n">DayOfWeek</span><span class="o">.</span><span class="na">MONDAY</span><span class="o">));</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unlike the specifications of <code class="docutils literal"><span class="pre">java.util.Calendar</span></code>, calendar month starts from 1.</p>
</div>
</div>
<div class="section" id="fetch-date-and-time-when-time-zone-is-specified">
<h4><a class="toc-backref" href="#id8">7.3.2.1.3. Fetch date and time when time zone is specified</a><a class="headerlink" href="#fetch-date-and-time-when-time-zone-is-specified" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">When an international application is to be created, a design must be adopted considering the time zone.</div>
<div class="line"><code class="docutils literal"><span class="pre">java.time.OffsetTime</span></code> , <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code> and <code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code> must be used selectively in Date and Time API in accordance with the purpose for which it is to be used.</div>
<div class="line">Example is given below.</div>
</div>
<ol class="arabic simple">
<li>Use <code class="docutils literal"><span class="pre">java.time.OffsetTime</span></code> when the time difference between time + UTC is to be fetched.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span> <span class="n">offsetTime</span> <span class="o">=</span>  <span class="n">OffsetTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Use <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code> when the time difference between date, time + UTC is to be fetched.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span> <span class="n">offsetDateTime</span> <span class="o">=</span>  <span class="n">OffsetDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Use <code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code> when the time difference and region for date, time + UTC is to be fetched.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00[Asia/Tokyo]</span>
<span class="n">ZonedDateTime</span> <span class="n">zonedDateTime</span> <span class="o">=</span> <span class="n">ZonedDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Further, current date and time considering the time zone can be fetched in all these methods by specifying <code class="docutils literal"><span class="pre">java.time.ZoneId</span></code> which indicates time zone in the argument.</div>
<div class="line"><code class="docutils literal"><span class="pre">java.time.ZoneId</span></code> example is shown below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">ZoneId</span> <span class="n">zoneIdTokyo</span> <span class="o">=</span> <span class="n">ZoneId</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="o">);</span>
<span class="n">OffsetTime</span> <span class="n">offsetTime</span> <span class="o">=</span>  <span class="n">OffsetTime</span><span class="o">.</span><span class="na">now</span><span class="o">(</span><span class="n">zoneIdTokyo</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Note that, <code class="docutils literal"><span class="pre">java.time.ZoneId</span></code> consists of a method to be defined by region name/area name format and a method defined by time difference from UTC.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">ZoneId</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="o">);</span>
<span class="n">ZoneId</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;UTC+01:00&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line">Although purpose of using <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code> and <code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code> is similar, the basic difference is as given below.</div>
<div class="line">An appropriate class should be selected according to the characteristics of the system to be created.</div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code></div>
</div>
</td>
<td>Since it only consists of quantitative value (only time difference), system does not undergo any change even if there is a change in the concept of time for each area.</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code></div>
</div>
</td>
<td>Since it includes concept of region besides time difference, the system undergoes change when a change occurs in the concept of time for each region.(when daylight saving etc is included as a policy)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="time-period">
<h3><a class="toc-backref" href="#id9">7.3.2.2. Time period</a><a class="headerlink" href="#time-period" title="Permalink to this headline">¶</a></h3>
<div class="section" id="fetch-time-period">
<h4><a class="toc-backref" href="#id10">7.3.2.2.1. Fetch time period</a><a class="headerlink" href="#fetch-time-period" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">java.time.Period</span></code> is used while handling date based period and <code class="docutils literal"><span class="pre">java.time.Duration</span></code> is used while handling time based period.</div>
<div class="line">Since day represented by <code class="docutils literal"><span class="pre">java.time.Duration</span></code> is of exactly 24 hours, expected results may not be obtained if daylight saving changes are not incorporated.</div>
<div class="line">On the contrary, since <code class="docutils literal"><span class="pre">java.time.Period</span></code> represents 1 day including daylight saving, an error does not occur even in the system which handles daylight saving.</div>
<div class="line">Example is given below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">date1</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2010</span><span class="o">,</span> <span class="mo">01</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">date2</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2011</span><span class="o">,</span> <span class="mo">03</span><span class="o">,</span> <span class="mi">18</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">time1</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">11</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">time2</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">12</span><span class="o">,</span> <span class="mi">52</span><span class="o">,</span> <span class="mi">53</span><span class="o">);</span>

<span class="c1">// One year, two months and three days.</span>
<span class="n">Period</span> <span class="n">pd</span> <span class="o">=</span> <span class="n">Period</span><span class="o">.</span><span class="na">between</span><span class="o">(</span><span class="n">date1</span><span class="o">,</span> <span class="n">date2</span><span class="o">);</span>

<span class="c1">// One hour, two minutes and three seconds.</span>
<span class="n">Duration</span> <span class="n">dn</span> <span class="o">=</span> <span class="n">Duration</span><span class="o">.</span><span class="na">between</span><span class="o">(</span><span class="n">time1</span><span class="o">,</span> <span class="n">time2</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A method can also be employed wherein the period is generated by specifying it by using <code class="docutils literal"><span class="pre">of</span></code> method. For details, refer <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">Javadoc of Period, Duration</a>.</p>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="type-conversion">
<h3><a class="toc-backref" href="#id11">7.3.2.3. Type conversion</a><a class="headerlink" href="#type-conversion" title="Permalink to this headline">¶</a></h3>
<div class="section" id="interoperability-of-each-class-of-date-and-time-api">
<h4><a class="toc-backref" href="#id12">7.3.2.3.1. Interoperability of each class of Date and Time API</a><a class="headerlink" href="#interoperability-of-each-class-of-date-and-time-api" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> , <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> and <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code> can easily be mutually converted. Example is given below.</div>
</div>
<ol class="arabic simple">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex. 12:10:30</span>
<span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 2015-12-25 12:10:30</span>
<span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">localTime</span><span class="o">.</span><span class="na">atDate</span><span class="o">(</span><span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">));</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex. 2012-12-25</span>
<span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 2015-12-25 12:10:30</span>
<span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">atTime</span><span class="o">(</span><span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">12</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">30</span><span class="o">));</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> and <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex. 2015-12-25 12:10:30</span>
<span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span>  <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 12:10:30</span>
<span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span>  <span class="n">localDateTime</span><span class="o">.</span><span class="na">toLocalTime</span><span class="o">();</span>

<span class="c1">// 2012-12-25</span>
<span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span>  <span class="n">localDateTime</span><span class="o">.</span><span class="na">toLocalDate</span><span class="o">();</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Similarly, <code class="docutils literal"><span class="pre">java.time.OffsetTime</span></code> , <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code> and <code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code> can also be easily mutually converted. Example is given below.</div>
</div>
<ol class="arabic simple">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.OffsetTime</span></code> to <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span> <span class="n">offsetTime</span> <span class="o">=</span>  <span class="n">OffsetTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span> <span class="n">offsetDateTime</span> <span class="o">=</span> <span class="n">offsetTime</span><span class="o">.</span><span class="na">atDate</span><span class="o">(</span><span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">));</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code> to <code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span> <span class="n">offsetDateTime</span> <span class="o">=</span>  <span class="n">OffsetDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 2015-12-25T12:30:11.567+09:00[Asia/Tokyo]</span>
<span class="n">ZonedDateTime</span> <span class="n">zonedDateTime</span> <span class="o">=</span> <span class="n">offsetDateTime</span><span class="o">.</span><span class="na">atZoneSameInstant</span><span class="o">(</span><span class="n">ZoneId</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="o">));</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.ZonedDateTime</span></code> to <code class="docutils literal"><span class="pre">java.time.OffsetDateTime</span></code> and <code class="docutils literal"><span class="pre">java.time.OffsetTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00[Asia/Tokyo]</span>
<span class="n">ZonedDateTime</span> <span class="n">zonedDateTime</span> <span class="o">=</span>  <span class="n">ZonedDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span> <span class="n">offsetDateTime</span> <span class="o">=</span>  <span class="n">zonedDateTime</span><span class="o">.</span><span class="na">toOffsetDateTime</span><span class="o">();</span>

<span class="c1">// 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span> <span class="n">offsetTime</span> <span class="o">=</span>  <span class="n">zonedDateTime</span><span class="o">.</span><span class="na">toOffsetDateTime</span><span class="o">().</span><span class="na">toOffsetTime</span><span class="o">();</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Also, <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> can be converted to <code class="docutils literal"><span class="pre">java.time.OffsetTime</span></code> by adding time difference information.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// Ex, 12:30:11.567</span>
<span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

<span class="c1">// 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span> <span class="n">offsetTime</span> <span class="o">=</span> <span class="n">localTime</span><span class="o">.</span><span class="na">atOffset</span><span class="o">(</span><span class="n">ZoneOffset</span><span class="o">.</span><span class="na">ofHours</span><span class="o">(</span><span class="mi">9</span><span class="o">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Besides, conversion to another class is also possible by adding missing information (date information is not adequate in case of conversion from <code class="docutils literal"><span class="pre">LocalTime</span></code> to <code class="docutils literal"><span class="pre">LocalDateTime</span></code>).</div>
<div class="line">Conversion method begins with the prefix <code class="docutils literal"><span class="pre">at</span></code> or <code class="docutils literal"><span class="pre">to</span></code>. For details, refer <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">Javadoc of each class</a> .</div>
</div>
</div>
<div class="section" id="interoperability-with-java-util-date">
<h4><a class="toc-backref" href="#id13">7.3.2.3.2. Interoperability with java.util.Date</a><a class="headerlink" href="#interoperability-with-java-util-date" title="Permalink to this headline">¶</a></h4>
<p>A method which directly converts <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code>  class to <code class="docutils literal"><span class="pre">java.util.Date</span></code> is not provided.</p>
<div class="line-block">
<div class="line">However, since a method which converts <code class="docutils literal"><span class="pre">java.time.Instant</span></code> offered by Date and Time API is added to <code class="docutils literal"><span class="pre">java.util.Date</span></code> from Java8 and subsequent versions, a conversion can be carried out through <code class="docutils literal"><span class="pre">java.time.Instant</span></code>.</div>
<div class="line">Example is given below.</div>
</div>
<ol class="arabic simple">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code> to <code class="docutils literal"><span class="pre">java.util.Date</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="n">Instant</span> <span class="n">instant</span> <span class="o">=</span> <span class="n">localDateTime</span><span class="o">.</span><span class="na">toInstant</span><span class="o">(</span><span class="n">ZoneOffset</span><span class="o">.</span><span class="na">ofHours</span><span class="o">(</span><span class="mi">9</span><span class="o">));</span>
<span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">Date</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">instant</span><span class="o">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Conversion from <code class="docutils literal"><span class="pre">java.util.Date</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
<span class="n">Instant</span> <span class="n">instant</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="na">toInstant</span><span class="o">();</span>
<span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">ofInstant</span><span class="o">(</span><span class="n">instant</span><span class="o">,</span> <span class="n">ZoneId</span><span class="o">.</span><span class="na">systemDefault</span><span class="o">());</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> and <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> do not contain Instant values, it is necessary to convert once to <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="interoperability-with-java-sqlpackage">
<h4><a class="toc-backref" href="#id14">7.3.2.3.3. Interoperability with java.sqlpackage</a><a class="headerlink" href="#interoperability-with-java-sqlpackage" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">An upgrade is added to <code class="docutils literal"><span class="pre">java.sql</span></code> package from Java8 version and a method for mutual conversion with <code class="docutils literal"><span class="pre">java.time</span></code> package is defined.</div>
<div class="line">Example is given below.</div>
</div>
<ol class="arabic simple">
<li>Conversion from <code class="docutils literal"><span class="pre">java.sql.Date</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span> <span class="n">date</span> <span class="o">=</span>  <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
<span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="na">toLocalDate</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> to <code class="docutils literal"><span class="pre">java.sql.Date</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span> <span class="n">date</span> <span class="o">=</span>  <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">localDate</span><span class="o">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Conversion from <code class="docutils literal"><span class="pre">java.sql.Time</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Time</span> <span class="n">time</span> <span class="o">=</span>  <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Time</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
<span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="na">toLocalTime</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> to <code class="docutils literal"><span class="pre">java.sql.Time</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Time</span> <span class="n">time</span> <span class="o">=</span>  <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Time</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">localTime</span><span class="o">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Conversion from <code class="docutils literal"><span class="pre">java.sql.Timestamp</span></code> to <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Timestamp</span> <span class="n">timestamp</span> <span class="o">=</span>  <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Timestamp</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
<span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">timestamp</span><span class="o">.</span><span class="na">toLocalDateTime</span><span class="o">();</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>Conversion from <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code> to <code class="docutils literal"><span class="pre">java.sql.Timestamp</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDateTime</span> <span class="n">localDateTime</span> <span class="o">=</span> <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Timestamp</span> <span class="n">timestamp</span> <span class="o">=</span>  <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Timestamp</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">localDateTime</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="how-to-use-org-terasoluna-gfw-common-date-package">
<h4><a class="toc-backref" href="#id15">7.3.2.3.4. How to use org.terasoluna.gfw.common.date package</a><a class="headerlink" href="#how-to-use-org-terasoluna-gfw-common-date-package" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Currently, Date Factory for Date and Time API is not provided in the common library. (Refer: <a class="reference internal" href="SystemDate.html"><span class="doc">System Date</span></a>)</div>
<div class="line">However, <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> can be generated by using <code class="docutils literal"><span class="pre">org.terasoluna.gfw.common.date.ClassicDateFactory</span></code> and <code class="docutils literal"><span class="pre">java.sql.Date</span></code> as an interim measure.</div>
<div class="line">It can be generated by converting from <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> even for the <code class="docutils literal"><span class="pre">java.time.LocalTime</span></code> and <code class="docutils literal"><span class="pre">java.time.LocalDateTime</span></code> classes.</div>
<div class="line">Example is given below.</div>
</div>
<p><strong>bean definition file ([projectname]-env.xml)</strong></p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;dateFactory&quot;</span> <span class="na">class=</span><span class="s">&quot;org.terasoluna.gfw.common.date.DefaultClassicDateFactory&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p><strong>Java class</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Inject</span>
<span class="n">ClassicDateFactory</span> <span class="n">dateFactory</span><span class="o">;</span>

<span class="kd">public</span> <span class="n">DateFactorySample</span> <span class="nf">getSystemDate</span><span class="o">()</span> <span class="o">{</span>

 <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">dateFactory</span><span class="o">.</span><span class="na">newSqlDate</span><span class="o">();</span>
 <span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="na">toLocalDate</span><span class="o">();</span>

 <span class="c1">// omitted</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Date Factory corresponding to Date and Time API will be added later.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="format-for-the-string">
<h4><a class="toc-backref" href="#id16">7.3.2.3.5. Format for the string</a><a class="headerlink" href="#format-for-the-string" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">A method which uses <code class="docutils literal"><span class="pre">toString</span></code> method and a method which uses <code class="docutils literal"><span class="pre">java.time.fomat.DateTimeFormatter</span></code> can be used for converting the object containing date and time information to string.</div>
<div class="line">When outputting any date and time string, conversion to various date and time strings can be done by using <code class="docutils literal"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal"><span class="pre">java.time.fomat.DateTimeFormatter</span></code> consists of a method which uses a formatter of predefined ISO pattern and a method which is used by defining a format of any pattern.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span> <span class="n">formatter1</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">BASIC_ISO_DATE</span><span class="o">;</span>

<span class="n">DateTimeFormatter</span> <span class="n">formatter2</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;G uuuu/MM/dd E&quot;</span><span class="o">)</span>
                                          <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                                          <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">At that time, <code class="docutils literal"><span class="pre">Locale</span></code> and <code class="docutils literal"><span class="pre">ResolverStyle</span></code> (strict) can be defined besides string format.</div>
<div class="line">Since default value of <code class="docutils literal"><span class="pre">Locale</span></code> changes depending on the system, it should be set at the time of initialization.</div>
<div class="line">Also, when <code class="docutils literal"><span class="pre">ResolverStyle</span></code> (strict) uses <code class="docutils literal"><span class="pre">ofPattern</span></code> method, <code class="docutils literal"><span class="pre">ResolverStyle.SMART</span></code> is set as default, however, in this guideline, it is recommended to specify <code class="docutils literal"><span class="pre">ResolverStyle.STRICT</span></code> for strict interpretation of date to avoid occurrence of unexpected behaviour.（When ISO pattern formatter is to be used, <code class="docutils literal"><span class="pre">ResolverStyle.STRICT</span></code> is specified.)</div>
<div class="line"><br /></div>
<div class="line">Also, since format <code class="docutils literal"><span class="pre">yyyy</span></code> in Date and Time API represent year in the calendar, interpretation will be different according to the calendar. (Year will be 2015 according to Western calendar but will be 0027 according to Japanese calendar).</div>
<div class="line">When western calendar is to be indicated, it is recommended to use <code class="docutils literal"><span class="pre">uuuu</span></code> format instead of <code class="docutils literal"><span class="pre">yyyy</span></code> format.For the defined format list, refer  <a class="reference external" href="http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns">DateTimeFormatter</a> .</div>
<div class="line"><br /></div>
<div class="line">Example is given below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span> <span class="n">formatter1</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">BASIC_ISO_DATE</span><span class="o">;</span>

<span class="n">DateTimeFormatter</span> <span class="n">formatter2</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;G uuuu/MM/dd E&quot;</span><span class="o">)</span>
                                          <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                                          <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);</span>

<span class="n">LocalDate</span> <span class="n">localDate1</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>

<span class="c1">// &quot;2015-12-25&quot;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localDate1</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="c1">// &quot;20151225&quot;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">formatter1</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">localDate1</span><span class="o">));</span>
<span class="c1">// &quot;Western calendar 2015/12/25 Friday&quot;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">formatter2</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">localDate1</span><span class="o">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Also, when the strings are to be displayed on the screen,</div>
<div class="line">dedicated JSP tags do not exist in Date and Time API unlike Joda Time.</div>
<div class="line">Since <code class="docutils literal"><span class="pre">fmt:formatDate</span></code>  tag of JSTL handles only <code class="docutils literal"><span class="pre">java.util.Date</span></code> and <code class="docutils literal"><span class="pre">java.util.TimeZone</span></code> objects,</div>
<div class="line">formatted string is passed and displayed when the date and time information held by object of Date and Time API on JSP is to be displayed.</div>
</div>
<p><strong>Controller class</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HomeController</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="o">{</span><span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">,</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">})</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">home</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">,</span> <span class="n">Locale</span> <span class="n">locale</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">DateTimeFormatter</span> <span class="n">dateFormatter</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;uuuu/MM/dd&quot;</span><span class="o">)</span>
                                           <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">locale</span><span class="o">)</span>
                                           <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);</span>

        <span class="n">LocalDate</span> <span class="n">localDate1</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;currentDate&quot;</span><span class="o">,</span> <span class="n">localDate1</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;formattedCurrentDateString&quot;</span><span class="o">,</span> <span class="n">dateFormatter</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">localDate1</span><span class="o">));</span>

    <span class="c1">// omitted</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>jsp file</strong></p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;p&gt;</span>currentDate =  ${f:h(currentDate)}.<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>formattedCurrentDateString =  ${f:h(formattedCurrentDateString)}.<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
<p><strong>Output results example (html)</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>currentDate =  2015-12-25.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>formattedCurrentDateString =  2015/12/25.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="path-from-the-string">
<h4><a class="toc-backref" href="#id17">7.3.2.3.6. Path from the string</a><a class="headerlink" href="#path-from-the-string" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Similar to conversion to string, various date strings can be converted to Date and Time API class by using <code class="docutils literal"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>.</div>
<div class="line">Example is as shown below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span> <span class="n">formatter1</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;uuuu/MM/dd&quot;</span><span class="o">)</span>
                                           <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                                           <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);</span>

<span class="n">DateTimeFormatter</span> <span class="n">formatter2</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;HH:mm:ss&quot;</span><span class="o">)</span>
                                           <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                                           <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);</span>

<span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;2015/12/25&quot;</span><span class="o">,</span> <span class="n">formatter1</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;14:09:20&quot;</span><span class="o">,</span> <span class="n">formatter2</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="date-operation">
<h3><a class="toc-backref" href="#id18">7.3.2.4. Date operation</a><a class="headerlink" href="#date-operation" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Date and time can be easily calculated and compared in Date and Time API.</div>
<div class="line">Example is as shown below.</div>
</div>
<div class="section" id="date-and-time-calculation">
<h4><a class="toc-backref" href="#id19">7.3.2.4.1. Date and time calculation</a><a class="headerlink" href="#date-and-time-calculation" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">plus</span></code>  method and <code class="docutils literal"><span class="pre">minus</span></code> method are provided for calculating date and time.</div>
</div>
<ol class="arabic simple">
<li>Example for calculating time.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">20</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">plusHoursTime</span> <span class="o">=</span> <span class="n">localTime</span><span class="o">.</span><span class="na">plusHours</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">plusMinutesTime</span> <span class="o">=</span> <span class="n">localTime</span><span class="o">.</span><span class="na">plusMinutes</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">minusSecondsTime</span> <span class="o">=</span> <span class="n">localTime</span><span class="o">.</span><span class="na">minusSeconds</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Example for calculating date.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">plusYearsDate</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">plusYears</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">minusMonthsTime</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">minusMonths</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">plusDaysTime</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">plusDays</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a negative number is passed in the <code class="docutils literal"><span class="pre">plus</span></code> method, results similar to the results at the time of using <code class="docutils literal"><span class="pre">minus</span></code> method can be obtained. Same for <code class="docutils literal"><span class="pre">minus</span></code> method.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="date-and-time-comparison">
<h4><a class="toc-backref" href="#id20">7.3.2.4.2. Date and time comparison</a><a class="headerlink" href="#date-and-time-comparison" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Time series for past, future and current period can be compared in Date and Time API.</div>
<div class="line">Example is as shown below.</div>
</div>
<ol class="arabic simple">
<li>Example for comparison of time.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalTime</span> <span class="n">morning</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mo">00</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">daytime</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">12</span><span class="o">,</span> <span class="mo">00</span><span class="o">,</span> <span class="mo">00</span><span class="o">);</span>
<span class="n">LocalTime</span> <span class="n">evening</span> <span class="o">=</span>  <span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">17</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mo">00</span><span class="o">);</span>

<span class="n">daytime</span><span class="o">.</span><span class="na">isBefore</span><span class="o">(</span><span class="n">morning</span><span class="o">);</span> <span class="c1">// false</span>
<span class="n">morning</span><span class="o">.</span><span class="na">isAfter</span><span class="o">(</span><span class="n">evening</span><span class="o">);</span> <span class="c1">// true</span>
<span class="n">evening</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">17</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mo">00</span><span class="o">));</span> <span class="c1">// true</span>

<span class="n">daytime</span><span class="o">.</span><span class="na">isBefore</span><span class="o">(</span><span class="n">daytime</span><span class="o">);</span> <span class="c1">// false</span>
<span class="n">morning</span><span class="o">.</span><span class="na">isAfter</span><span class="o">(</span><span class="n">morning</span><span class="o">);</span> <span class="c1">// false</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Example for comparison of date.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">may</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">june</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">july</span> <span class="o">=</span>  <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

<span class="n">may</span><span class="o">.</span><span class="na">isBefore</span><span class="o">(</span><span class="n">june</span><span class="o">);</span> <span class="c1">// true</span>
<span class="n">june</span><span class="o">.</span><span class="na">isAfter</span><span class="o">(</span><span class="n">july</span><span class="o">);</span> <span class="c1">// false</span>
<span class="n">july</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">may</span><span class="o">);</span> <span class="c1">// false</span>

<span class="n">may</span><span class="o">.</span><span class="na">isBefore</span><span class="o">(</span><span class="n">may</span><span class="o">);</span> <span class="c1">// false</span>
<span class="n">june</span><span class="o">.</span><span class="na">isAfter</span><span class="o">(</span><span class="n">june</span><span class="o">);</span> <span class="c1">// false</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Note that, the class applicable to <code class="docutils literal"><span class="pre">Interval</span></code> of Joda Time currently does not exist in Date and Time API.</div>
</div>
</div>
<div class="section" id="determination-of-date-and-time">
<h4><a class="toc-backref" href="#id21">7.3.2.4.3. Determination of date and time</a><a class="headerlink" href="#determination-of-date-and-time" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Example for determining date and time is shown below.</div>
</div>
<ol class="arabic simple">
<li>When a valid date and time string is to be determined, it can be determined based on the occurrence and non-occurrence of <code class="docutils literal"><span class="pre">java.time.format.DateTimeParseException</span></code>.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">strDateTime</span> <span class="o">=</span> <span class="s">&quot;aabbcc&quot;</span><span class="o">;</span>
<span class="n">DateTimeFormatter</span> <span class="n">timeFormatter</span>  <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;HHmmss&quot;</span><span class="o">)</span>
                              <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                              <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);;</span>

<span class="n">DateTimeFormatter</span> <span class="n">dateFormatter</span>  <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;uuMMdd&quot;</span><span class="o">)</span>
                              <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                              <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">);;</span>

<span class="k">try</span> <span class="o">{</span>
    <span class="c1">// DateTimeParseException</span>
    <span class="n">LocalTime</span> <span class="n">localTime</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">strDateTime</span><span class="o">,</span> <span class="n">timeFormatter</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">DateTimeParseException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Invalid time string !!&quot;</span><span class="o">);</span>
<span class="o">}</span>

<span class="k">try</span> <span class="o">{</span>
    <span class="c1">// DateTimeParseException</span>
    <span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">strDateTime</span><span class="o">,</span> <span class="n">dateFormatter</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">DateTimeParseException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Invalid date string !!&quot;</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>When a leap year is to be determined, <code class="docutils literal"><span class="pre">isLeapYear</span></code> method of <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> can be used.</li>
</ol>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">date1</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2012</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">LocalDate</span> <span class="n">date2</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

<span class="n">date1</span><span class="o">.</span><span class="na">isLeapYear</span><span class="o">();</span> <span class="c1">// true</span>
<span class="n">date2</span><span class="o">.</span><span class="na">isLeapYear</span><span class="o">();</span> <span class="c1">// false</span>
</pre></div>
</div>
</div>
<div class="section" id="fetching-year-month-day-hours-minutes-seconds">
<h4><a class="toc-backref" href="#id22">7.3.2.4.4. Fetching year, month, day, hours, minutes, seconds</a><a class="headerlink" href="#fetching-year-month-day-hours-minutes-seconds" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">When the respective year, month, day, hours, minutes and seconds are to be fetched, use <code class="docutils literal"><span class="pre">get</span></code> method.</div>
<div class="line">An example to fetch information related to date is shown below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

<span class="c1">// 2015</span>
<span class="kt">int</span> <span class="n">year</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">getYear</span><span class="o">();</span>

<span class="c1">// 2</span>
<span class="kt">int</span> <span class="n">month</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">getMonthValue</span><span class="o">();</span>

<span class="c1">// 1</span>
<span class="kt">int</span> <span class="n">dayOfMonth</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">getDayOfMonth</span><span class="o">();</span>

<span class="c1">// 32 ( day of year )</span>
<span class="kt">int</span> <span class="n">dayOfYear</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">getDayOfYear</span><span class="o">();</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="japanese-calendar-japanesedate">
<h3><a class="toc-backref" href="#id23">7.3.2.5. Japanese calendar （JapaneseDate）</a><a class="headerlink" href="#japanese-calendar-japanesedate" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">A class called <code class="docutils literal"><span class="pre">java.time.chrono.JapaneseDate</span></code> is provided in Date and Time API to handle Japanese calendar.</div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">java.time.chrono.JapaneseDate</span></code> cannot be used before Meiji 6 (1873 of Western calendar) when the Gregorian calendar was introduced.</p>
</div>
</div></blockquote>
<div class="section" id="fetching-japanese-calendar">
<h4><a class="toc-backref" href="#id24">7.3.2.5.1. Fetching Japanese calendar</a><a class="headerlink" href="#fetching-japanese-calendar" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Similar to <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code>, Japanese calendar can be fetched by using <code class="docutils literal"><span class="pre">now</span></code> method and <code class="docutils literal"><span class="pre">of</span></code> method.</div>
<div class="line">Further, Japanese calendar can also be fetched by using <code class="docutils literal"><span class="pre">java.time.chrono.JapaneseEra</span></code> class.</div>
</div>
<div class="line-block">
<div class="line">Example is shown below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">JapaneseDate</span> <span class="n">japaneseDate1</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="n">JapaneseDate</span> <span class="n">japaneseDate2</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>
<span class="n">JapaneseDate</span> <span class="n">japaneseDate3</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">JapaneseEra</span><span class="o">.</span><span class="na">HEISEI</span><span class="o">,</span> <span class="mi">27</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">An exception occurs when a value prior to Meiji 6 is specified in the argument.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// DateTimeException</span>
<span class="n">JapaneseDate</span> <span class="n">japaneseDate</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1500</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h4><a class="toc-backref" href="#id25">7.3.2.5.2. Format for the string</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">It is possible to convert to Japanese calendar date by using <code class="docutils literal"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>. While using, calendar is set to <code class="docutils literal"><span class="pre">java.time.chrono.JapaneseChronology</span></code> by using <code class="docutils literal"><span class="pre">DateTimeFormatter#withChronology</span></code> method.</div>
<div class="line">Since various formats can be handled in Japanese calendar dates as well, output can be obtained corresponding to the requirements like zero-filling or space-filling etc.</div>
<div class="line">An example wherein Japanese calendar is displayed using space filling is shown below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span> <span class="n">formatter</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;GppyYearppMMonthppdDay&quot;</span><span class="o">)</span>
                                 <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                                 <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">)</span>
                                 <span class="o">.</span><span class="na">withChronology</span><span class="o">(</span><span class="n">JapaneseChronology</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">);</span>

<span class="n">JapaneseDate</span> <span class="n">japaneseDate</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1992</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

<span class="c1">// &quot;Heisei YY4 MM1 DD1&quot;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">formatter</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">japaneseDate</span><span class="o">));</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id26">7.3.2.5.3. Path from the string</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Japanese string can be converted to <code class="docutils literal"><span class="pre">java.time.chrono.JapaneseDate</span></code> by using <code class="docutils literal"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>.</div>
<div class="line">Example is shown below.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span> <span class="n">formatter</span> <span class="o">=</span> <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">&quot;GyYearMMMonthddDate&quot;</span><span class="o">)</span>
                                <span class="o">.</span><span class="na">withLocale</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">JAPANESE</span><span class="o">)</span>
                                <span class="o">.</span><span class="na">withResolverStyle</span><span class="o">(</span><span class="n">ResolverStyle</span><span class="o">.</span><span class="na">STRICT</span><span class="o">)</span>
                                <span class="o">.</span><span class="na">withChronology</span><span class="o">(</span><span class="n">JapaneseChronology</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">);</span>

<span class="n">JapaneseDate</span> <span class="n">japaneseDate1</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">formatter</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;Heisei 27YY12MM25DD&quot;</span><span class="o">));</span>
<span class="n">JapaneseDate</span> <span class="n">japaneseDate2</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">formatter</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;Meiji YY6MM01DD01&quot;</span><span class="o">));</span>
</pre></div>
</div>
</div>
<div class="section" id="conversion-of-western-and-japanese-calendar">
<h4><a class="toc-backref" href="#id27">7.3.2.5.4. Conversion of Western and Japanese calendar</a><a class="headerlink" href="#conversion-of-western-and-japanese-calendar" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Conversion between Western and Japanese calendars can be easily carried out from <code class="docutils literal"><span class="pre">java.time.LocalDate</span></code> by using from method.</div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2015</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>
<span class="n">JapaneseDate</span> <span class="n">jpDate</span> <span class="o">=</span> <span class="n">JapaneseDate</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">localDate</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="JodaTime.html" title="7.4. Date Operations (Joda Time)"
             >next</a> |</li>
        <li class="right" >
          <a href="PropertyManagement.html" title="7.2. Properties Management"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >7. General-purpose functions that do not depend on the application</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer">
      © Copyright 2013-2018, NTT DATA Corporation. © Copyright 2013-2018, NTT Corporation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.Theme is <a href="http://github.com/vimalkvn/solar-theme">Solar</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>