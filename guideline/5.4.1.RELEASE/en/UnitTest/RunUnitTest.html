<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>10.3. Run unit test &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</title>
    <link rel="stylesheet" href="../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.4.1.RELEASE',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="11. Tutorials" href="../Tutorial/index.html" />
    <link rel="prev" title="10.2.4. How to use OSS library used in unit test" href="ImplementsOfUnitTest/UsageOfLibraryForTest.html" /><script async src="https://www.googletagmanager.com/gtag/js?id=G-847V2Q99G8"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date()); gtag('config', 'G-847V2Q99G8');
</script>
<script src="../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../_static/solarized-dark.css" rel="stylesheet">
<link href="../_static/jquery.treeview.css" rel="stylesheet">
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../Tutorial/index.html" title="11. Tutorials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ImplementsOfUnitTest/UsageOfLibraryForTest.html" title="10.2.4. How to use OSS library used in unit test"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">10. Unit test</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><br/><img src="../_static/logo_color.png" alt="TERASOLUNA"/><br/><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">10.3. Run unit test</a><ul>
<li><a class="reference internal" href="#implementation-method-for-test">10.3.1. Implementation method for test</a></li>
<li><a class="reference internal" href="#test-execution">10.3.2. Test execution</a><ul>
<li><a class="reference internal" href="#run-test-on-ide">10.3.2.1. Run test on IDE</a><ul>
<li><a class="reference internal" href="#execution-of-test-class">10.3.2.1.1. Execution of test class</a></li>
<li><a class="reference internal" href="#run-for-a-project-or-a-method">10.3.2.1.2. Run for a project or a method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-test-by-maven">10.3.2.2. Run test by Maven</a><ul>
<li><a class="reference internal" href="#run-test-phase">10.3.2.2.1. Run test phase</a></li>
<li><a class="reference internal" href="#configuring-arbitrary-class-and-method-by-using-command-options">10.3.2.2.2. Configuring arbitrary class and method by using command options</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="ImplementsOfUnitTest/UsageOfLibraryForTest.html"
                        title="previous chapter">10.2.4. How to use OSS library used in unit test</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../Tutorial/index.html"
                        title="next chapter">11. Tutorials</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/UnitTest/RunUnitTest.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="run-unit-test">
<span id="rununittest"></span><h1>10.3. Run unit test<a class="headerlink" href="#run-unit-test" title="Permalink to this headline">¶</a></h1>
<div class="admonition caution">
  <p class="first admonition-title">Caution</p>
  <p><strong>This version is already obsolete</strong>. Please check <a href="http://terasolunaorg.github.io/guideline/">the latest guideline</a>.</p>
</div>
<div class="contents local topic" id="index">
<p class="topic-title">Index</p>
<ul class="simple">
<li><a class="reference internal" href="#implementation-method-for-test" id="id1">Implementation method for test</a></li>
<li><a class="reference internal" href="#test-execution" id="id2">Test execution</a><ul>
<li><a class="reference internal" href="#run-test-on-ide" id="id3">Run test on IDE</a><ul>
<li><a class="reference internal" href="#execution-of-test-class" id="id4">Execution of test class</a></li>
<li><a class="reference internal" href="#run-for-a-project-or-a-method" id="id5">Run for a project or a method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-test-by-maven" id="id6">Run test by Maven</a><ul>
<li><a class="reference internal" href="#run-test-phase" id="id7">Run test phase</a></li>
<li><a class="reference internal" href="#configuring-arbitrary-class-and-method-by-using-command-options" id="id8">Configuring arbitrary class and method by using command options</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="implementation-method-for-test">
<h2><a class="toc-backref" href="#id1">10.3.1. Implementation method for test</a><a class="headerlink" href="#implementation-method-for-test" title="Permalink to this headline">¶</a></h2>
<p>Following 2 methods are explained here as implementation methods of JUnit.</p>
<ul class="simple">
<li>A method to execute JUnit on IDE</li>
<li>A method to execute JUnit on Maven</li>
</ul>
<p>Method must be selected according to the application.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Test execution method</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>IDE</td>
<td>JUnit is run from IDE.</td>
</tr>
<tr class="row-odd"><td>Maven</td>
<td>Run JUnit by using <code class="docutils literal"><span class="pre">mvn</span> <span class="pre">test</span></code>command.</td>
</tr>
</tbody>
</table>
<p>When JUnit is run from IDE, it is possible to execute it on IDE from production to testing.
Hence, the test object can be referenced easily.</p>
<p>When JUnit is run by using <code class="docutils literal"><span class="pre">mvn</span> <span class="pre">test</span></code> command, automation of test can be done on CI server
since it runs on command basis.</p>
</div>
<div class="section" id="test-execution">
<h2><a class="toc-backref" href="#id2">10.3.2. Test execution</a><a class="headerlink" href="#test-execution" title="Permalink to this headline">¶</a></h2>
<div class="section" id="run-test-on-ide">
<h3><a class="toc-backref" href="#id3">10.3.2.1. Run test on IDE</a><a class="headerlink" href="#run-test-on-ide" title="Permalink to this headline">¶</a></h3>
<p>A method to run JUnit by using STS is introduced.</p>
<div class="section" id="execution-of-test-class">
<h4><a class="toc-backref" href="#id4">10.3.2.1.1. Execution of test class</a><a class="headerlink" href="#execution-of-test-class" title="Permalink to this headline">¶</a></h4>
<p>Right-click test class and display menu.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeClickTestClass.png" src="../_images/RunUnitTestIdeClickTestClass.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Select [Run As] -&gt; [JUnit Test] from menu and run target test class.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeRunClassJunit.png" src="../_images/RunUnitTestIdeRunClassJunit.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>If the test is run without any issues, following screen is displayed.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeSuccessJunit.png" src="../_images/RunUnitTestIdeSuccessJunit.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In case of assertion error,
following error message is displayed.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeFailJunit.png" src="../_images/RunUnitTestIdeFailJunit.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>When an error occurs while executing a test,
following error message is displayed.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeErrorJunit.png" src="../_images/RunUnitTestIdeErrorJunit.png" />
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Regarding test failure</strong></p>
<p class="last">Test failure can be broadly classified in 2 types.
First is failure (Failure) in case of assertion and the second is
test execution failure or test failure due to inadequate execution environment (Error).
Execution result screen while running JUnit on IDE also display a stack trace together with difference between
results of these 2 types, thus it helps in analysis of test failure cause.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="run-for-a-project-or-a-method">
<h4><a class="toc-backref" href="#id5">10.3.2.1.2. Run for a project or a method</a><a class="headerlink" href="#run-for-a-project-or-a-method" title="Permalink to this headline">¶</a></h4>
<p>JUnit can be run for a project or for a method.</p>
<p>When it is to be run for a project, right click the project to be tested and display menu.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeClickTestProject.png" src="../_images/RunUnitTestIdeClickTestProject.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Select [Run As] -&gt; [JUnit Test] from menu and run test for target project.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeRunProjectJunit.png" src="../_images/RunUnitTestIdeRunProjectJunit.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>When it is run for a project, execution results of all test classes included in selected project are displayed.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeSuccessProjectJunit.png" src="../_images/RunUnitTestIdeSuccessProjectJunit.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>When it is to be run for a method, right click the method to be tested and display menu.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeClickTestMethod.png" src="../_images/RunUnitTestIdeClickTestMethod.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Select [Run As] -&gt; [JUnit Test] from menu and run test for target method.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeRunMethodJunit.png" src="../_images/RunUnitTestIdeRunMethodJunit.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>When it is run for a method, execution results of only selected method are displayed.</p>
<div class="figure">
<img alt="../_images/RunUnitTestIdeSuccessMethodJunit.png" src="../_images/RunUnitTestIdeSuccessMethodJunit.png" />
</div>
</div>
</div>
<div class="section" id="run-test-by-maven">
<h3><a class="toc-backref" href="#id6">10.3.2.2. Run test by Maven</a><a class="headerlink" href="#run-test-by-maven" title="Permalink to this headline">¶</a></h3>
<p>A method to run JUnit by Maven is introduced.</p>
<div class="section" id="run-test-phase">
<h4><a class="toc-backref" href="#id7">10.3.2.2.1. Run test phase</a><a class="headerlink" href="#run-test-phase" title="Permalink to this headline">¶</a></h4>
<p>When JUnit is to be run by Maven, go to target project and run following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">mvn test</span>
</pre></div>
</div>
<p>When the command is run, a java compiled .class file is created under <code class="docutils literal"><span class="pre">target/classes</span></code>, then a .class file for
test compiled under <code class="docutils literal"><span class="pre">target/test-classes</span></code> is created and test results are created under
<code class="docutils literal"><span class="pre">target/surefire-reports</span></code>.</p>
<p>By default, files matching the following patterns are subjected to test.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">**/Test*.java</span></code></li>
<li><code class="docutils literal"><span class="pre">**/*Test.java</span></code></li>
<li><code class="docutils literal"><span class="pre">**/*Tests.java</span></code></li>
<li><code class="docutils literal"><span class="pre">**/*TestCase.java</span></code></li>
</ul>
<p>When the test classes which do not match the above patterns are to be run,
file for test can be changed by adding settings to <code class="docutils literal"><span class="pre">pom.xml</span></code>.
Further, it is also possible to set exclusion of test files.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pom.xml</span></code></li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;project&gt;</span>

  // ommited

  <span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
      <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.20.1<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;configuration&gt;</span>
          <span class="nt">&lt;includes&gt;</span>
            <span class="nt">&lt;include&gt;</span>*ServiceCheck.java<span class="nt">&lt;/include&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
          <span class="nt">&lt;/includes&gt;</span>
          <span class="nt">&lt;excludes&gt;</span>
            <span class="nt">&lt;exclude&gt;</span>AccountServiceCheck.java<span class="nt">&lt;/exclude&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
          <span class="nt">&lt;/excludes&gt;</span>
        <span class="nt">&lt;/configuration&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
  <span class="nt">&lt;/build&gt;</span>

  // ommited

<span class="nt">&lt;/project&gt;</span>
</pre></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Configure a file to be executed at the time of test execution.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Configure a file to be excluded at the time of test execution.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While configuring, files can be specified by using regular expression.
For details, refer <a class="reference external" href="https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html">maven-surefire-plugin (Regular Expression Support)</a>.</p>
</div>
</div>
<div class="section" id="configuring-arbitrary-class-and-method-by-using-command-options">
<h4><a class="toc-backref" href="#id8">10.3.2.2.2. Configuring arbitrary class and method by using command options</a><a class="headerlink" href="#configuring-arbitrary-class-and-method-by-using-command-options" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">mvn</span> <span class="pre">test</span></code>command can also specify and run arbitrary class and method by using option.</p>
<p>When a class is to be specified for testing, it can be done by using following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">mvn test -Dtest=[Class name]</span>
</pre></div>
</div>
<p>Multiple classes can also be specified with “,” delimiter.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">mvn test -Dtest=[Class name],[class name],[class name]...</span>
</pre></div>
</div>
<p>When a method is to be specified for test, it can be done by using following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">mvn test -Dtest=[class name]#[method name]</span>
</pre></div>
</div>
<p>Class name can be specified by either FQCN specification (<code class="docutils literal"><span class="pre">com.example.domain.repository.MemberRepositoryTest</span></code>etc.) or
by a simple class name (<code class="docutils literal"><span class="pre">MemberRepositoryTest</span></code>etc.).
Further, patterns can also be specified by using wild cards (<code class="docutils literal"><span class="pre">Member*Test</span></code>etc.) for the class name.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Specification of method unit requires <code class="docutils literal"><span class="pre">maven-surefire-plugin</span></code> version 2.7.3 or above.
For details, refer <a class="reference external" href="http://maven.apache.org/surefire/maven-surefire-plugin/examples/single-test.html">maven-surefire-plugin (Running a Set of Methods in a Single Test Class)</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Test compilation and execution can be skipped by specifying <code class="docutils literal"><span class="pre">-Dmaven.test.skip=true</span></code> in the option.
When you want to skip only execution, only compilation can be executed by specifying <code class="docutils literal"><span class="pre">-DskipTests=true</span></code>.</p>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../Tutorial/index.html" title="11. Tutorials"
             >next</a> |</li>
        <li class="right" >
          <a href="ImplementsOfUnitTest/UsageOfLibraryForTest.html" title="10.2.4. How to use OSS library used in unit test"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >10. Unit test</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer">
      © Copyright 2013-2018, NTT DATA Corporation. © Copyright 2013-2018, NTT Corporation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.Theme is <a href="http://github.com/vimalkvn/solar-theme">Solar</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>
