<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>10.1. Overview of Unit test &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</title>
    <link rel="stylesheet" href="../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.4.1.RELEASE',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10.2. Implementation of unit test" href="ImplementsOfUnitTest/index.html" />
    <link rel="prev" title="10. Unit test" href="index.html" /><script src="../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../_static/solarized-dark.css" rel="stylesheet">
<link href="../_static/jquery.treeview.css" rel="stylesheet">
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ImplementsOfUnitTest/index.html" title="10.2. Implementation of unit test"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="10. Unit test"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">10. Unit test</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">10.1. Overview of Unit test</a><ul>
<li><a class="reference internal" href="#introduction">10.1.1. Introduction</a></li>
<li><a class="reference internal" href="#unit-test-guidelines">10.1.2. Unit test guidelines</a><ul>
<li><a class="reference internal" href="#oss-library-structure-used-in-unit-test">10.1.2.1. OSS library structure used in unit test</a><ul>
<li><a class="reference internal" href="#testing-framework">10.1.2.1.1. Testing framework</a></li>
<li><a class="reference internal" href="#assertion">10.1.2.1.2. Assertion</a></li>
<li><a class="reference internal" href="#mocking">10.1.2.1.3. Mocking</a></li>
<li><a class="reference internal" href="#di-container">10.1.2.1.4. DI container</a></li>
<li><a class="reference internal" href="#mvc-framework">10.1.2.1.5. MVC framework</a></li>
<li><a class="reference internal" href="#transaction-control">10.1.2.1.6. Transaction control</a></li>
<li><a class="reference internal" href="#data-access">10.1.2.1.7. Data access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-of-oss-library-to-be-used-in-unit-test">10.1.2.2. Version of OSS library to be used in unit test</a></li>
<li><a class="reference internal" href="#unit-test-implementation">10.1.2.3. Unit test implementation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#target-readers">10.1.3. Target readers</a></li>
<li><a class="reference internal" href="#operation-verification-environment-of-unit-test">10.1.4. Operation verification environment of unit test</a></li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">10. Unit test</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ImplementsOfUnitTest/index.html"
                        title="next chapter">10.2. Implementation of unit test</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/UnitTest/UnitTestOverview.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="overview-of-unit-test">
<h1>10.1. Overview of Unit test<a class="headerlink" href="#overview-of-unit-test" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="index">
<p class="topic-title first">Index</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#unit-test-guidelines" id="id2">Unit test guidelines</a><ul>
<li><a class="reference internal" href="#oss-library-structure-used-in-unit-test" id="id3">OSS library structure used in unit test</a><ul>
<li><a class="reference internal" href="#testing-framework" id="id4">Testing framework</a></li>
<li><a class="reference internal" href="#assertion" id="id5">Assertion</a></li>
<li><a class="reference internal" href="#mocking" id="id6">Mocking</a></li>
<li><a class="reference internal" href="#di-container" id="id7">DI container</a></li>
<li><a class="reference internal" href="#mvc-framework" id="id8">MVC framework</a></li>
<li><a class="reference internal" href="#transaction-control" id="id9">Transaction control</a></li>
<li><a class="reference internal" href="#data-access" id="id10">Data access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-of-oss-library-to-be-used-in-unit-test" id="id11">Version of OSS library to be used in unit test</a></li>
<li><a class="reference internal" href="#unit-test-implementation" id="id12">Unit test implementation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#target-readers" id="id13">Target readers</a></li>
<li><a class="reference internal" href="#operation-verification-environment-of-unit-test" id="id14">Operation verification environment of unit test</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">10.1.1. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This section explains about unit test using JUnit, in a system using TERASOLUNA Server Framework (5.x).</p>
<p>Scope of unit test is considered as layer or interlayer coupling. Test execution and test implementation will be
explained out of all the test activities.
Note that, the test implementation explained here is a reference example and the test policy for ensuring system quality should be considered separately.</p>
</div>
<div class="section" id="unit-test-guidelines">
<h2><a class="toc-backref" href="#id2">10.1.2. Unit test guidelines</a><a class="headerlink" href="#unit-test-guidelines" title="Permalink to this headline">¶</a></h2>
<p>This section explains about methods for implementing tests for layers or between the layers using following OSS libraries.</p>
<div class="section" id="oss-library-structure-used-in-unit-test">
<h3><a class="toc-backref" href="#id3">10.1.2.1. OSS library structure used in unit test</a><a class="headerlink" href="#oss-library-structure-used-in-unit-test" title="Permalink to this headline">¶</a></h3>
<div class="section" id="testing-framework">
<h4><a class="toc-backref" href="#id4">10.1.2.1.1. Testing framework</a><a class="headerlink" href="#testing-framework" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.junit.org/">JUnit</a> is used as a testing framework of Java.</p>
</div>
<div class="section" id="assertion">
<h4><a class="toc-backref" href="#id5">10.1.2.1.2. Assertion</a><a class="headerlink" href="#assertion" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://hamcrest.org/JavaHamcrest/">Hamcrest</a> is used as a library to be used in assertion.
It is an assertion library supported by JUnit4 as a standard.</p>
</div>
<div class="section" id="mocking">
<h4><a class="toc-backref" href="#id6">10.1.2.1.3. Mocking</a><a class="headerlink" href="#mocking" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://mockito.org/">Mockito</a> is used as a library for mocking the class on which the method to be tested is dependent.</p>
</div>
<div class="section" id="di-container">
<h4><a class="toc-backref" href="#id7">10.1.2.1.4. DI container</a><a class="headerlink" href="#di-container" title="Permalink to this headline">¶</a></h4>
<p>Di container for test
<a class="reference external" href="https://docs.spring.io/spring/docs/4.3.11.RELEASE/spring-framework-reference/html/integration-testing.html#testing-fixture-di">Spring Test DI function</a> is used.</p>
</div>
<div class="section" id="mvc-framework">
<h4><a class="toc-backref" href="#id8">10.1.2.1.5. MVC framework</a><a class="headerlink" href="#mvc-framework" title="Permalink to this headline">¶</a></h4>
<p>MVC framework for test
<a class="reference external" href="https://docs.spring.io/spring/docs/4.3.11.RELEASE/spring-framework-reference/html/integration-testing.html#spring-mvc-test-framework">Spring MVC Test Framework</a> is used.</p>
</div>
<div class="section" id="transaction-control">
<h4><a class="toc-backref" href="#id9">10.1.2.1.6. Transaction control</a><a class="headerlink" href="#transaction-control" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://docs.spring.io/spring/docs/4.3.11.RELEASE/spring-framework-reference/html/integration-testing.html#testing-tx">Spring Test transaction control function</a>is used as transaction control for test.</p>
</div>
<div class="section" id="data-access">
<h4><a class="toc-backref" href="#id10">10.1.2.1.7. Data access</a><a class="headerlink" href="#data-access" title="Permalink to this headline">¶</a></h4>
<p>Spring Test or DBUnit and Spring Test DBUnit are assumed to be used for data access of test.</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.spring.io/spring/docs/4.3.11.RELEASE/spring-framework-reference/html/testing-introduction.html">Spring Test</a><ul>
<li>Spring Test provides a function to execute SQL by using <code class="docutils literal"><span class="pre">&#64;Sql</span></code> annotation or <code class="docutils literal"><span class="pre">JdbcTemplate</span></code>.</li>
</ul>
</li>
<li><a class="reference external" href="http://dbunit.sourceforge.net/">DBUnit</a> and <a class="reference external" href="https://springtestdbunit.github.io/spring-test-dbunit/">Spring Test DBUnit</a><ul>
<li>Spring Test DBUnit is a support library for using DBUnit on Spring Framework and hence used in combination with DBUnit.
It provides function to implement functions like database setup and status verification provided by DBUnit.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="version-of-oss-library-to-be-used-in-unit-test">
<h3><a class="toc-backref" href="#id11">10.1.2.2. Version of OSS library to be used in unit test</a><a class="headerlink" href="#version-of-oss-library-to-be-used-in-unit-test" title="Permalink to this headline">¶</a></h3>
<p>List of OSS libraries used in unit test are shown below.</p>
<p>Note that, following OSS libraries are only examples and the library suited to the actual business requirement must be considered.
Further, for OSS libraries used to operate application itself in this section, refer
<a class="reference internal" href="../Overview/FrameworkStack.html#frameworkstack-using-oss-version"><span class="std std-ref">OSS Versions</span></a>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>From version 5.0.0.RELEASE, a configuration which imports <code class="docutils literal"><span class="pre">&lt;dependencyManagement&gt;</span></code> of
<a class="reference external" href="http://platform.spring.io/platform/">Spring IO platform</a> is adopted.</p>
<p>Dependency relations for following is resolved by importing <code class="docutils literal"><span class="pre">&lt;dependencyManagement&gt;</span></code> of Spring IO platform</p>
<ul class="simple">
<li>Library provided by Spring Framework</li>
<li>OSS library on which Spring Framework is dependent</li>
<li>OSS library compatible with Spring Framework</li>
</ul>
<p>OSS version used in TERASOLUNA Server Framework (5.x), as a rule, conforms to definition of
Spring IO platform.</p>
<p class="last">Note that, version of Spring IO platform specified in version 5.4.0.RELEASE is
<a class="reference external" href="https://docs.spring.io/platform/docs/Brussels-SR5/reference/htmlsingle/">Brussels-SR5</a>.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Among the OSS libraries below, for how to use Spring Test (MockMvc) and Mockito, refer <a class="reference internal" href="ImplementsOfUnitTest/UsageOfLibraryForTest.html#usageoflibraryfortest"><span class="std std-ref">How to use OSS library used in unit test</span></a>.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="25%" />
<col width="20%" />
<col width="15%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">GroupId</th>
<th class="head">ArtifactId</th>
<th class="head">Version</th>
<th class="head">Spring IO platform</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>JUnit</td>
<td>junit</td>
<td>junit</td>
<td>4.12</td>
<td>*</td>
</tr>
<tr class="row-odd"><td>Hamcrest</td>
<td>org.hamcrest</td>
<td>hamcrest-core</td>
<td>1.3</td>
<td>*</td>
</tr>
<tr class="row-even"><td>Hamcrest</td>
<td>org.hamcrest</td>
<td>hamcrest-library</td>
<td>1.3</td>
<td>*</td>
</tr>
<tr class="row-odd"><td>Mockito</td>
<td>org.mockito</td>
<td>mockito-core</td>
<td>1.10.19</td>
<td>*</td>
</tr>
<tr class="row-even"><td>Spring Test</td>
<td>org.springframework</td>
<td>spring-test</td>
<td>4.3.11.RELEASE</td>
<td>*</td>
</tr>
<tr class="row-odd"><td>DBUnit</td>
<td>org.dbunit</td>
<td>dbunit</td>
<td>2.5.4</td>
<td></td>
</tr>
<tr class="row-even"><td>Spring Test DBUnit</td>
<td>com.github.springtestdbunit</td>
<td>spring-test-dbunit</td>
<td>1.3.0</td>
<td></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="unit-test-implementation">
<h3><a class="toc-backref" href="#id12">10.1.2.3. Unit test implementation</a><a class="headerlink" href="#unit-test-implementation" title="Permalink to this headline">¶</a></h3>
<p>Unit test is implemented with the following layers in accordance with <a class="reference internal" href="../Overview/ApplicationLayering.html#applicationlayering"><span class="std std-ref">Application Layering</span></a>.
Test method for layer and test for between the layers is explained in <a class="reference internal" href="ImplementsOfUnitTest/ImplementsOfTestByLayer.html#implementsoftestbylayer"><span class="std std-ref">Implementation of test by layer</span></a>.
Common functions that cannot be applied to each layer and function specific test methods are explained in <a class="reference internal" href="ImplementsOfUnitTest/ImplementsOfTestByFunction.html#implementsoftestbyfunction"><span class="std std-ref">Implementation of tests by functions</span></a>.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/UnitTestOverviewApplicationLayer.png"><img alt="../_images/UnitTestOverviewApplicationLayer.png" src="../_images/UnitTestOverviewApplicationLayer.png" style="width: 85%;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="target-readers">
<h2><a class="toc-backref" href="#id13">10.1.3. Target readers</a><a class="headerlink" href="#target-readers" title="Permalink to this headline">¶</a></h2>
<p>This section assumes that the readers have following knowledge and experience besides <a class="reference internal" href="../Introduction/Introduction.html#targetreadersofthisdocument"><span class="std std-ref">Target readers of this document</span></a>.</p>
<ul class="simple">
<li>The user have performed unit test by using JUnit</li>
</ul>
</div>
<div class="section" id="operation-verification-environment-of-unit-test">
<h2><a class="toc-backref" href="#id14">10.1.4. Operation verification environment of unit test</a><a class="headerlink" href="#operation-verification-environment-of-unit-test" title="Permalink to this headline">¶</a></h2>
<p>This section explains operation verification in the following environment.
While implementing on other environments, it should be read appropriately considering this section as base.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>OS</td>
<td>Windows 7</td>
</tr>
<tr class="row-odd"><td>JVM</td>
<td><a class="reference external" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java</a> 1.8.0_144</td>
</tr>
<tr class="row-even"><td>IDE</td>
<td><a class="reference external" href="http://spring.io/tools/sts/all">Spring Tool Suite</a> 3.9.1.RELEASE (hereafter called as “STS”)</td>
</tr>
<tr class="row-odd"><td>Build Tool</td>
<td><a class="reference external" href="http://maven.apache.org/download.cgi">Apache Maven</a> 3.3.9 (hereafter called as “Maven”)</td>
</tr>
<tr class="row-even"><td>RDBMS</td>
<td><a class="reference external" href="http://www.postgresql.org/docs/9.6/static/sql-insert.html">PostgreSQL</a> 9.6.5</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ImplementsOfUnitTest/index.html" title="10.2. Implementation of unit test"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="10. Unit test"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >10. Unit test</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer">
      © Copyright 2013-2018, NTT DATA Corporation. © Copyright 2013-2018, NTT Corporation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.Theme is <a href="http://github.com/vimalkvn/solar-theme">Solar</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>