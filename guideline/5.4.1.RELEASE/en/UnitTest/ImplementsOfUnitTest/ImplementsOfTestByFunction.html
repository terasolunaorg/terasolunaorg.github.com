<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>10.2.3. Implementation of tests by functions &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</title>
    <link rel="stylesheet" href="../../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.4.1.RELEASE',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="10.2.4. How to use OSS library used in unit test" href="UsageOfLibraryForTest.html" />
    <link rel="prev" title="10.2.2. Implementation of test by layer" href="ImplementsOfTestByLayer.html" /><script src="../../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../../_static/solarized-dark.css" rel="stylesheet">
<link href="../../_static/jquery.treeview.css" rel="stylesheet">
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="UsageOfLibraryForTest.html" title="10.2.4. How to use OSS library used in unit test"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ImplementsOfTestByLayer.html" title="10.2.2. Implementation of test by layer"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >10. Unit test</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">10.2. Implementation of unit test</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">10.2.3. Implementation of tests by functions</a><ul>
<li><a class="reference internal" href="#unit-test-of-input-check">10.2.3.1. Unit test of input check</a><ul>
<li><a class="reference internal" href="#unit-test-of-validator-implemented-by-bean-validation">10.2.3.1.1. Unit test of Validator implemented by Bean Validation</a><ul>
<li><a class="reference internal" href="#bean-validationtest-using-hibernate-validator">10.2.3.1.1.1. <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>test using  Hibernate validator</a></li>
<li><a class="reference internal" href="#bean-validationtest-using-spring-di-container">10.2.3.1.1.2. <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>test using Spring DI container</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unit-test-of-validator-implemented-by-spring-validator">10.2.3.1.2. Unit test of Validator implemented by Spring Validator</a></li>
</ul>
</li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="ImplementsOfTestByLayer.html"
                        title="previous chapter">10.2.2. Implementation of test by layer</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="UsageOfLibraryForTest.html"
                        title="next chapter">10.2.4. How to use OSS library used in unit test</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/UnitTest/ImplementsOfUnitTest/ImplementsOfTestByFunction.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="implementation-of-tests-by-functions">
<span id="implementsoftestbyfunction"></span><h1>10.2.3. Implementation of tests by functions<a class="headerlink" href="#implementation-of-tests-by-functions" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="index">
<p class="topic-title first">Index</p>
<ul class="simple">
<li><a class="reference internal" href="#unit-test-of-input-check" id="id1">Unit test of input check</a><ul>
<li><a class="reference internal" href="#unit-test-of-validator-implemented-by-bean-validation" id="id2">Unit test of Validator implemented by Bean Validation</a><ul>
<li><a class="reference internal" href="#bean-validationtest-using-hibernate-validator" id="id3"><code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>test using  Hibernate validator</a></li>
<li><a class="reference internal" href="#bean-validationtest-using-spring-di-container" id="id4"><code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>test using Spring DI container</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unit-test-of-validator-implemented-by-spring-validator" id="id5">Unit test of Validator implemented by Spring Validator</a></li>
</ul>
</li>
</ul>
</div>
<p>This chapter explains about test methods for functions which cannot be applied to each layer.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="unit-test-of-input-check">
<h2><a class="toc-backref" href="#id1">10.2.3.1. Unit test of input check</a><a class="headerlink" href="#unit-test-of-input-check" title="Permalink to this headline">¶</a></h2>
<p>Unit test implementation method for following input check is explained here.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Types of Validation</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Bean Validation</td>
<td>Test for <code class="docutils literal"><span class="pre">Validator</span></code> which is implemented by using Hibernate validator</td>
</tr>
<tr class="row-odd"><td>Bean Validation</td>
<td>Test for <code class="docutils literal"><span class="pre">Validator</span></code> which is implemented by using Spring DI container</td>
</tr>
<tr class="row-even"><td>Spring Validation</td>
<td>Test for <code class="docutils literal"><span class="pre">Validator</span></code> which is implemented by using <code class="docutils literal"><span class="pre">Spring</span> <span class="pre">Validation</span></code></td>
</tr>
</tbody>
</table>
<p>Unit test for <code class="docutils literal"><span class="pre">Validator</span></code> is originally performed as test for <code class="docutils literal"><span class="pre">Controller</span></code>, however, it results in many test patterns.
Hence, considering implementation cost for tests, the test can performed as <code class="docutils literal"><span class="pre">Validator</span></code> unit by isolating it from <code class="docutils literal"><span class="pre">Controller</span></code>.
Test implementation method as a <code class="docutils literal"><span class="pre">Validator</span></code> unit is explained here.</p>
<p>This section explains implementation methods while using <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code> and <code class="docutils literal"><span class="pre">Spring</span> <span class="pre">Validation</span></code> respectively.</p>
<div class="section" id="unit-test-of-validator-implemented-by-bean-validation">
<span id="implementsoftestbyfunctiontestingbeanvalidator"></span><h3><a class="toc-backref" href="#id2">10.2.3.1.1. Unit test of Validator implemented by Bean Validation</a><a class="headerlink" href="#unit-test-of-validator-implemented-by-bean-validation" title="Permalink to this headline">¶</a></h3>
<p>While performing the test of <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>, required dependent libraries must be added since libraries are
not provided by application server. For how to add libraries, refer <a class="reference internal" href="../../ArchitectureInDetail/WebApplicationDetail/Validation.html#validationadddependencylibrary"><span class="std std-ref">Adding dependent libraries</span></a>.
Note that, input check function provided by <code class="docutils literal"><span class="pre">Hibernate</span> <span class="pre">Validator</span></code> is not within the scope of this test.</p>
<p>Test methods for Bean Validation are explained as shown below.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code> using Hibernate validator</li>
<li><code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code> using Spring DI container</li>
</ul>
<div class="section" id="bean-validationtest-using-hibernate-validator">
<h4><a class="toc-backref" href="#id3">10.2.3.1.1.1. <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>test using  Hibernate validator</a><a class="headerlink" href="#bean-validationtest-using-hibernate-validator" title="Permalink to this headline">¶</a></h4>
<p>Files to be created in unit test of <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code> using Hibernate validator are shown below.</p>
<div class="figure">
<img alt="../../_images/ImplementsOfTestByFunctionBeanValidationItems.png" src="../../_images/ImplementsOfTestByFunctionBeanValidationItems.png" />
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Names of files to be created</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">FullWidthKatakanaTest.java</span></code></td>
<td>Test class of <code class="docutils literal"><span class="pre">&#64;FullWidthKatakana</span></code> annotation</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">FullWidthKatakanaTestBean.java</span></code></td>
<td>Bean class wherein <code class="docutils literal"><span class="pre">&#64;FullWidthKatakana</span></code> annotation is assigned to the field</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Bean class which uses <code class="docutils literal"><span class="pre">&#64;FullWidthKatakana</span></code> for the test (<code class="docutils literal"><span class="pre">FullWidthKatakanaTestBean</span></code>）is created here and
the validation check is performed by using implementation class of <code class="docutils literal"><span class="pre">javax.validation.Validator</span></code> generated
from <code class="docutils literal"><span class="pre">javax.validation.ValidatorFactory</span></code>.</p>
<p>How to create a Bean class wherein <code class="docutils literal"><span class="pre">&#64;FullWidthKatakana</span></code> annotation is assigned to the field is shown below.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FullWidthKatakanaTestBean.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FullWidthKatakanaTestBean</span> <span class="o">{</span>

    <span class="nd">@FullWidthKatakana</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">testString</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">FullWidthKatakanaTestBean</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// constructor</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTestString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">testString</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTestString</span><span class="o">(</span><span class="n">String</span> <span class="n">testString</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">testString</span> <span class="o">=</span> <span class="n">testString</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FullWidthKatakanaTest.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FullWidthKatakanaTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Validator</span> <span class="n">validator</span><span class="o">;</span>

    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">setUpBeforeClass</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// setup</span>
        <span class="n">ValidatorFactory</span> <span class="n">validatorFactory</span> <span class="o">=</span> <span class="n">Validation</span><span class="o">.</span><span class="na">buildDefaultValidatorFactory</span><span class="o">();</span>

        <span class="c1">// (1)</span>
        <span class="n">validator</span> <span class="o">=</span> <span class="n">validatorFactory</span><span class="o">.</span><span class="na">getValidator</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testFullWidthKatakana</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// setup</span>
        <span class="n">FullWidthKatakanaTestBean</span> <span class="n">form</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FullWidthKatakanaTestBean</span><span class="o">();</span>
        <span class="n">form</span><span class="o">.</span><span class="na">setTestString</span><span class="o">(</span><span class="s">&quot;テスト&quot;</span><span class="o">);</span>

        <span class="c1">// run the test</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">ConstraintViolation</span><span class="o">&lt;</span><span class="n">FullWidthKatakanaTestBean</span><span class="o">&gt;&gt;</span> <span class="n">violations</span> <span class="o">=</span> <span class="n">validator</span><span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">form</span><span class="o">);</span> <span class="c1">// (2)</span>

        <span class="c1">// assert</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">violations</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">empty</span><span class="o">()));</span> <span class="c1">// (3)</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Fetch <code class="docutils literal"><span class="pre">Validator</span></code> by using <code class="docutils literal"><span class="pre">getValidator</span></code> method.</div>
<div class="line">Input check by using <code class="docutils literal"><span class="pre">validate</span></code> method can be performed, by fetching <code class="docutils literal"><span class="pre">Validator</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Perform input check by using <code class="docutils literal"><span class="pre">validate</span></code> method.</div>
<div class="line"><code class="docutils literal"><span class="pre">Set</span></code> of <code class="docutils literal"><span class="pre">ConstrainViolation</span></code> is returned only for number of input check errors, by executing <code class="docutils literal"><span class="pre">validate</span></code> method.
Specify an object of <code class="docutils literal"><span class="pre">FullWidthKatakanaBean</span></code> class in the argument of <code class="docutils literal"><span class="pre">validate</span></code> method.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Confirm whether an error has occurred from the <code class="docutils literal"><span class="pre">Set</span></code> fetched in (2).</div>
<div class="line">Since there are no errors at this time, an empty <code class="docutils literal"><span class="pre">Set</span></code> is returned.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Test using validation group</strong></p>
<p>When validation group is to be set, it can be executed only by applying <code class="docutils literal"><span class="pre">Validator</span></code>of specified group by specifying <code class="docutils literal"><span class="pre">java.lang.Class</span></code> object which points to a group
in <code class="docutils literal"><span class="pre">validate</span></code> method argument while performing input check.</p>
<p>For validation group, refer <a class="reference internal" href="../../ArchitectureInDetail/WebApplicationDetail/Validation.html#validationgroupvalidation"><span class="std std-ref">Grouped validation</span></a>.</p>
<p><code class="docutils literal"><span class="pre">Form</span></code> example which use validation group is shown below.</p>
<blockquote class="last">
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">FullWidthKatakanaTestBean.java</span></code> for test</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FullWidthKatakanaTestBean</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Search</span> <span class="o">{};</span>
    <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Register</span> <span class="o">{};</span>

    <span class="c1">// (1)</span>
    <span class="nd">@Size</span><span class="o">(</span><span class="n">min</span> <span class="o">=</span> <span class="mi">5</span><span class="o">,</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">10</span><span class="o">,</span> <span class="n">groups</span> <span class="o">=</span> <span class="n">Search</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="nd">@FullWidthKatakana</span><span class="o">(</span><span class="n">groups</span> <span class="o">=</span> <span class="n">Register</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="nd">@NotNull</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">testString</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">FullWidthKatakanaTestBean</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// constructor</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTestString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">testString</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTestString</span><span class="o">(</span><span class="n">String</span> <span class="n">testString</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">testString</span> <span class="o">=</span> <span class="n">testString</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">Validator</span></code> set in the field are grouped.</div>
</div>
</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FullWidthKatakanaTest.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FullWidthKatakanaTest</span> <span class="o">{</span>

    <span class="c1">// omitted</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testFullWidthKatakana</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// setup</span>
        <span class="n">FullWidthKatakanaTestBean</span> <span class="n">form</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FullWidthKatakanaTestBean</span><span class="o">();</span>
        <span class="n">form</span><span class="o">.</span><span class="na">setTestString</span><span class="o">(</span><span class="s">&quot;テスト&quot;</span><span class="o">);</span>

        <span class="c1">// run the test</span>
        <span class="c1">// (1)</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">ConstraintViolation</span><span class="o">&lt;</span><span class="n">FullWidthKatakanaTestBean</span><span class="o">&gt;&gt;</span> <span class="n">violations</span> <span class="o">=</span>
                <span class="n">validator</span><span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">form</span><span class="o">,</span> <span class="n">Default</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">Search</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

        <span class="c1">// assert</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">violations</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">empty</span><span class="o">()));</span> <span class="c1">// (2)</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Input check can be executed for validation group which has been set, by adding <code class="docutils literal"><span class="pre">java.lang.Class</span></code>object, in <code class="docutils literal"><span class="pre">validate</span></code> method argument.
Further, multiple <code class="docutils literal"><span class="pre">java.lang.Class</span></code> objects can be specified as shown in the example.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Confirm whether an error has occurred.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="bean-validationtest-using-spring-di-container">
<h4><a class="toc-backref" href="#id4">10.2.3.1.1.2. <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>test using Spring DI container</a><a class="headerlink" href="#bean-validationtest-using-spring-di-container" title="Permalink to this headline">¶</a></h4>
<p>Files to be created in unit test of <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>by using Spring DI container are shown below.</p>
<div class="figure">
<img alt="../../_images/ImplementsOfTestByFunctionExistInCodeListItems.png" src="../../_images/ImplementsOfTestByFunctionExistInCodeListItems.png" />
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Names of files to be created</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ExistInCodeListTest.java</span></code></td>
<td>Test class of <code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code>using Spring DI container</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">test-context.xml</span></code></td>
<td>Settings file for supplementing settings necessary for performing unit test by using Spring Test.</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><code class="docutils literal"><span class="pre">Bean</span> <span class="pre">Validation</span></code> using Spring DI container can perform the test by generating <code class="docutils literal"><span class="pre">Validator</span></code> object
from <code class="docutils literal"><span class="pre">org.springframework.validation.beanvalidation.LocalValidatorFactoryBean</span></code>.</p>
<p>An implementation method of testing is explained here by using <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code> as an input check using Spring DI container.
For details of <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code>, refer <a class="reference internal" href="../../ArchitectureInDetail/WebApplicationDetail/Codelist.html#codelist-validate"><span class="std std-ref">Input validation of code value using codelist</span></a>.</p>
<p>A Bean is defined for <code class="docutils literal"><span class="pre">LocalValidatorFactoryBean</span></code> in settings file to be used in the test in order to generate <code class="docutils literal"><span class="pre">Validator</span></code> object.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">test-context.xml</span></code></li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="c">&lt;!-- (1) --&gt;</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;validator&quot;</span> <span class="na">class=</span><span class="s">&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">A <code class="docutils literal"><span class="pre">Validator</span></code> generated from <code class="docutils literal"><span class="pre">LocalValidatorFactoryBean</span></code> for which a Bean is defined in
<code class="docutils literal"><span class="pre">test-context.xml</span></code> must be used to fetch a code list Bean from DI container by using <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code>.</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>An implementation example of <code class="docutils literal"><span class="pre">Form</span></code>class which uses <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code> is shown below.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TicketSearchForm.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TicketSearchForm</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>

    <span class="nd">@NotNull</span>
    <span class="nd">@ExistInCodeList</span><span class="o">(</span><span class="n">codeListId</span> <span class="o">=</span> <span class="s">&quot;CL_AIRPORT&quot;</span><span class="o">)</span> <span class="c1">// (1)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">depAirportCd</span><span class="o">;</span>

    <span class="c1">// omitted</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Verify whether a value exists in the code list, for <code class="docutils literal"><span class="pre">depAirportCd</span></code> field.</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>A method to create test class of <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code> is explained here.
Here, a value not defined in the defined codelist (<code class="docutils literal"><span class="pre">CL_AIRPORT</span></code>) is set in <code class="docutils literal"><span class="pre">sample-codelist.xml</span></code> and it is
confirmed whether a validation check error occurs by injected implementation class of <code class="docutils literal"><span class="pre">javax.validation.Validator</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ExistInCodeListTest.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@RunWith</span><span class="o">(</span><span class="n">SpringJUnit4ClassRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@ContextConfiguration</span><span class="o">(</span><span class="n">locations</span> <span class="o">=</span> <span class="o">{</span>
        <span class="s">&quot;classpath:META-INF/spring/sample-infra.xml&quot;</span><span class="o">,</span>
        <span class="s">&quot;classpath:META-INF/spring/sample-codelist.xml&quot;</span><span class="o">,</span>
        <span class="s">&quot;classpath:META-INF/spring/test-context.xml&quot;</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExistInCodeListTest</span> <span class="o">{</span>

    <span class="c1">// (1)</span>
    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">Validator</span> <span class="n">validator</span><span class="o">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testExistInCodeList</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// setup</span>
        <span class="n">TicketSearchForm</span> <span class="n">ticketSearchForm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TicketSearchForm</span><span class="o">();</span>
        <span class="c1">// (2)</span>
        <span class="n">ticketSearchForm</span><span class="o">.</span><span class="na">setDepAirportCd</span><span class="o">(</span><span class="s">&quot;AAA&quot;</span><span class="o">);</span>

        <span class="c1">// omitted</span>

        <span class="c1">// run the test</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">ConstraintViolation</span><span class="o">&lt;</span><span class="n">TicketSearchForm</span><span class="o">&gt;&gt;</span> <span class="n">violations</span> <span class="o">=</span> <span class="n">validator</span>
                <span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">ticketSearchForm</span><span class="o">);</span>

        <span class="c1">// assert</span>
        <span class="c1">// (3)</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">violations</span><span class="o">.</span><span class="na">size</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
        <span class="n">ConstraintViolation</span><span class="o">&lt;</span><span class="n">TicketSearchForm</span><span class="o">&gt;</span> <span class="n">violation</span> <span class="o">=</span> <span class="n">violations</span><span class="o">.</span><span class="na">iterator</span><span class="o">().</span><span class="na">next</span><span class="o">();</span>
        <span class="c1">// (4)</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">violation</span><span class="o">.</span><span class="na">getPropertyPath</span><span class="o">().</span><span class="na">toString</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;depAirportCd&quot;</span><span class="o">));</span>
        <span class="c1">// (5)</span>
        <span class="n">assertThat</span><span class="o">((</span><span class="n">String</span><span class="o">)</span> <span class="n">violation</span><span class="o">.</span><span class="na">getInvalidValue</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;AAA&quot;</span><span class="o">));</span>
        <span class="c1">// (6)</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">violation</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;Does not exist in CL_AIRPORT&quot;</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="colwidths-given longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Apply DI of <code class="docutils literal"><span class="pre">Validator</span></code> generated from <code class="docutils literal"><span class="pre">LocalValidatorFactoryBean</span></code> of Spring, to <code class="docutils literal"><span class="pre">Validator</span></code>.</div>
<div class="line"><code class="docutils literal"><span class="pre">Validator</span></code> generated from <code class="docutils literal"><span class="pre">LocalValidatorFactoryBean</span></code> operates on Spring DI container and a Bean
of codelist read by <code class="docutils literal"><span class="pre">&#64;ContextConfiguration</span></code> can be fetched.
Accordingly, <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code> operates as per expected operation.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Enter code which does not exist in the codelist and anticipate an error in the <code class="docutils literal"><span class="pre">&#64;ExistInCodeList</span></code>.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Use <code class="docutils literal"><span class="pre">size</span></code> method to fetch the number of input check errors and verify whether the error has occurred.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Verify whether the violated field is the assumed location.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Verify whether the violated input value is the assumed value.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Verify error message thus generated.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="unit-test-of-validator-implemented-by-spring-validator">
<h3><a class="toc-backref" href="#id5">10.2.3.1.2. Unit test of Validator implemented by Spring Validator</a><a class="headerlink" href="#unit-test-of-validator-implemented-by-spring-validator" title="Permalink to this headline">¶</a></h3>
<p>Files to be created in unit test of <code class="docutils literal"><span class="pre">Validator(Spring</span> <span class="pre">Validation)</span></code> are shown below.</p>
<div class="figure">
<img alt="../../_images/ImplementsOfTestByFunctionSpringValidationItems.png" src="../../_images/ImplementsOfTestByFunctionSpringValidationItems.png" />
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Names of files to be created</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">TicketSearchValidatorTest.java</span></code></td>
<td>Test class of <code class="docutils literal"><span class="pre">TicketSearchValidator.java</span></code></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>A class for test is shown below.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TicketSearchValidator.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TicketSearchValidator</span> <span class="kd">implements</span> <span class="n">Validator</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">supports</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">TicketSearchForm</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">isAssignableFrom</span><span class="o">(</span><span class="n">clazz</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">validate</span><span class="o">(</span><span class="n">Object</span> <span class="n">target</span><span class="o">,</span> <span class="n">Errors</span> <span class="n">errors</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">TicketSearchForm</span> <span class="n">form</span> <span class="o">=</span> <span class="o">(</span><span class="n">TicketSearchForm</span><span class="o">)</span> <span class="n">target</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(!</span><span class="n">errors</span><span class="o">.</span><span class="na">hasFieldErrors</span><span class="o">(</span><span class="s">&quot;depAirportCd&quot;</span><span class="o">)</span>
            <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">errors</span><span class="o">.</span><span class="na">hasFieldErrors</span><span class="o">(</span><span class="s">&quot;arrAirportCd&quot;</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">depAirport</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="na">getDepAirportCd</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">arrAirport</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="na">getArrAirportCd</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">depAirport</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">arrAirport</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">errors</span><span class="o">.</span><span class="na">reject</span><span class="o">(</span><span class="n">TicketSearchErrorCode</span><span class="o">.</span><span class="na">E_AR_B1_5001</span><span class="o">.</span><span class="na">code</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// omitted</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>How to create a test class of <code class="docutils literal"><span class="pre">Validator(Spring</span> <span class="pre">Validation)</span></code> is explained below.
Here, a value causing an error in <code class="docutils literal"><span class="pre">TicketSearchValidator</span></code> which is a target for testing is set in
<code class="docutils literal"><span class="pre">TicketSearchForm</span></code> and it is verified that it causes a validation error and the resulting error message is correct.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TicketSearchValidatorTest.java</span></code></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TicketSearchValidatorTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">TicketSearchValidator</span> <span class="n">validator</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">TicketSearchForm</span> <span class="n">ticketSearchForm</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">BindingResult</span> <span class="n">result</span><span class="o">;</span>

    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUpBeforeClass</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// setup</span>
        <span class="n">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TicketSearchValidator</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testTicketSearchValidator</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// setup</span>
        <span class="n">ticketSearchForm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TicketSearchForm</span><span class="o">();</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DirectFieldBindingResult</span><span class="o">(</span><span class="n">ticketSearchForm</span><span class="o">,</span> <span class="s">&quot;TicketSearchForm&quot;</span><span class="o">);</span>

        <span class="n">ticketSearchForm</span><span class="o">.</span><span class="na">setFlightType</span><span class="o">(</span><span class="n">FlightType</span><span class="o">.</span><span class="na">RT</span><span class="o">);</span>
        <span class="n">ticketSearchForm</span><span class="o">.</span><span class="na">setDepAirportCd</span><span class="o">(</span><span class="s">&quot;HND&quot;</span><span class="o">);</span>
        <span class="n">ticketSearchForm</span><span class="o">.</span><span class="na">setArrAirportCd</span><span class="o">(</span><span class="s">&quot;HND&quot;</span><span class="o">);</span>
        <span class="c1">// omitted</span>

        <span class="c1">// run the test</span>
        <span class="c1">// (1)</span>
        <span class="n">validator</span><span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">ticketSearchForm</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>

        <span class="c1">// (2)</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">hasErrors</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="kc">true</span><span class="o">));</span>

        <span class="c1">// (3)</span>
        <span class="n">ObjectError</span> <span class="n">error</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getGlobalError</span><span class="o">();</span>

        <span class="c1">// (4)</span>
        <span class="n">ResourceBundleMessageSource</span> <span class="n">messageSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ResourceBundleMessageSource</span><span class="o">();</span>
        <span class="c1">// (5)</span>
        <span class="n">messageSource</span><span class="o">.</span><span class="na">setBasename</span><span class="o">(</span><span class="s">&quot;i18n/sample-messages&quot;</span><span class="o">);</span>
        <span class="c1">// (6)</span>
        <span class="n">messageSource</span><span class="o">.</span><span class="na">setUseCodeAsDefaultMessage</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">code</span> <span class="o">=</span> <span class="n">error</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
        <span class="c1">// assert</span>
        <span class="c1">// (7)</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">code</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">TicketSearchErrorCode</span><span class="o">.</span><span class="na">E_AR_B1_5001</span><span class="o">.</span><span class="na">code</span><span class="o">()));</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">messageSource</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(</span><span class="n">error</span><span class="o">,</span> <span class="n">Locale</span><span class="o">.</span><span class="na">JAPAN</span><span class="o">),</span>
                <span class="n">is</span><span class="o">(</span><span class="s">&quot;出発空港と到着空港に同じ空港は指定できません。区間をご確認ください。&quot;</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="colwidths-given longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">By specifying <code class="docutils literal"><span class="pre">ticketSearchForm</span></code> and <code class="docutils literal"><span class="pre">BindingResult</span></code> interface object in <code class="docutils literal"><span class="pre">validate</span></code>method argument, input check results for <code class="docutils literal"><span class="pre">ticketSearchForm</span></code> are stored in object
of <code class="docutils literal"><span class="pre">BindingResult</span></code> class.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Use <code class="docutils literal"><span class="pre">hasErrors</span></code> method and determine whether an error has occurred.</div>
<div class="line">true is returned in case of an error and false is returned when error does not occur.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Fetch error details by <code class="docutils literal"><span class="pre">getGlobalError</span></code> method.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Generate an object of <code class="docutils literal"><span class="pre">org.springframework.context.support.ResourceBundleMessageSource</span></code>- an implementation class of <code class="docutils literal"><span class="pre">MessageSource</span></code>to check details of error message.
For class details, refer
<a class="reference external" href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/javadoc-api/org/springframework/context/support/ResourceBundleMessageSource.html">Javadoc of ResourceBundleMessageSource</a>.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specify a property file in which the message is defined, in <code class="docutils literal"><span class="pre">setBasename</span></code> method and load the same.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">When true is specified in <code class="docutils literal"><span class="pre">setUseCodeAsDefaultMessage</span></code> method, error code is returned when error message corresponding to error code is not defined.
If false is specified, <code class="docutils literal"><span class="pre">NoSuchMessageException</span></code> is returned when error message corresponding to error code is not defined.
false is applied by default.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(7)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Verify error code and message details.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="UsageOfLibraryForTest.html" title="10.2.4. How to use OSS library used in unit test"
             >next</a> |</li>
        <li class="right" >
          <a href="ImplementsOfTestByLayer.html" title="10.2.2. Implementation of test by layer"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.4.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >10. Unit test</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >10.2. Implementation of unit test</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer">
      © Copyright 2013-2018, NTT DATA Corporation. © Copyright 2013-2018, NTT Corporation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.Theme is <a href="http://github.com/vimalkvn/solar-theme">Solar</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>