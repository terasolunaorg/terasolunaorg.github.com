<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>5.19. Screen Layout using Tiles &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/solar.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.20. System Date" href="SystemDate.html" />
    <link rel="prev" title="5.18. File Download" href="FileDownload.html" /><script async src="https://www.googletagmanager.com/gtag/js?id=G-847V2Q99G8"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date()); gtag('config', 'G-847V2Q99G8');
</script>
<script src="../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../_static/solarized-dark.css" rel="stylesheet">
<link href="../_static/jquery.treeview.css" rel="stylesheet">
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="SystemDate.html" title="5.20. System Date"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="FileDownload.html" title="5.18. File Download"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">5. </span>Architecture in Detail - TERASOLUNA Server Framework for Java (5.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.19. </span>Screen Layout using Tiles</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">5.19. Screen Layout using Tiles</a><ul>
<li><a class="reference internal" href="#overview">5.19.1. Overview</a></li>
<li><a class="reference internal" href="#how-to-use">5.19.2. How to use</a><ul>
<li><a class="reference internal" href="#pom-xml-setting">5.19.2.1. pom.xml setting</a></li>
<li><a class="reference internal" href="#integration-of-spring-mvc-and-tiles">5.19.2.2. Integration of Spring MVC and Tiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-extend">5.19.3. How to extend</a><ul>
<li><a class="reference internal" href="#setting-multiple-layouts">5.19.3.1. Setting multiple layouts</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="FileDownload.html"
                          title="previous chapter"><span class="section-number">5.18. </span>File Download</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="SystemDate.html"
                          title="next chapter"><span class="section-number">5.20. </span>System Date</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ArchitectureInDetail/TilesLayout.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="screen-layout-using-tiles">
<h1><span class="section-number">5.19. </span>Screen Layout using Tiles<a class="headerlink" href="#screen-layout-using-tiles" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id3">Overview</a></p></li>
<li><p><a class="reference internal" href="#how-to-use" id="id4">How to use</a></p>
<ul>
<li><p><a class="reference internal" href="#pom-xml-setting" id="id5">pom.xml setting</a></p></li>
<li><p><a class="reference internal" href="#integration-of-spring-mvc-and-tiles" id="id6">Integration of Spring MVC and Tiles</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#how-to-extend" id="id7">How to extend</a></p>
<ul>
<li><p><a class="reference internal" href="#setting-multiple-layouts" id="id8">Setting multiple layouts</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">5.19.1. </span>Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line">When developing a Web application with common layouts such as header, footer and side menu, maintaining the layouts becomes complicated if the common parts are coded in all JSPs.</div>
<div class="line">For example, if the header design needs to be modified, the same modifications must be done for all JSPs.</div>
</div>
<div class="line-block">
<div class="line">In JSP development, when the same layout is used in many screens, it is recommended to use <a class="reference external" href="http://tiles.apache.org/">Apache Tiles</a> (hereafter referred to as Tiles).</div>
<div class="line">Reasons for using Tiles are as follows:</div>
</div>
<ol class="arabic simple">
<li><p>To eliminate layout errors by designer</p></li>
<li><p>To reduce redundant codes</p></li>
<li><p>To change oversized layouts easily</p></li>
</ol>
<div class="line-block">
<div class="line">Tiles can combine different JSPs by defining an integrated screen layout.</div>
<div class="line">As a result, the need to describe extra code in each JSP file is eliminated, thereby facilitating developer operations.</div>
<div class="line">For example, if multiple screens have the following layout structure,</div>
</div>
<blockquote>
<div><figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/screen_layout.png"><img alt="screen layout" src="../_images/screen_layout.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Picture - Image of screen layout</strong></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
<div class="line-block">
<div class="line">By using Tiles, one can focus only on creating the body without having to include and specify the sizes of header, menu and footer, in all the screens with the same layout.</div>
<div class="line">Actual JSP file is as follows:</div>
</div>
<blockquote>
<div><figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/layout_jsp.png"><img alt="layout jsp" src="../_images/layout_jsp.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Picture - Image of layout jsp</strong></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
<p>Therefore, after configuring the screen layout using Tiles, only the JSP file corresponding to business process (business.jsp) may be created for each screen.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases, it is better to avoid using Tiles. For example, using Tiles in an error screen is not recommended due to the following reasons.</p>
<ul class="simple">
<li><p>If an error occurs due to Tiles during error screen display, analyzing the errors becomes difficult. (In case of double failure)</p></li>
<li><p>Tiles Template is not necessarily always used to display screens in the JSP set by the &lt;error-pages&gt; tag of web.xml.</p></li>
</ul>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="how-to-use">
<span id="tileslayouthowtouse"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">5.19.2. </span>How to use</a><a class="headerlink" href="#how-to-use" title="Permalink to this heading">¶</a></h2>
<section id="pom-xml-setting">
<h3><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">5.19.2.1. </span>pom.xml setting</a><a class="headerlink" href="#pom-xml-setting" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">To use Tiles in Maven, following dependency should be added to pom.xml.</div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.terasoluna.gfw<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>terasoluna-gfw-recommended-web-dependencies<span class="nt">&lt;/artifactId&gt;</span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span><span class="cm">&lt;!-- (2) --&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Add terasoluna-gfw-recommended-web-dependencies defined for the group of web related libraries, to dependency.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Dependencies such as terasoluna-gfw-recommended-web-dependencies are defined only in pom file; hence</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;type&gt;pom&lt;/type&gt;</span></code> needs to be specified.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is assumed that pom.xml has the following terasoluna-gfw-parent settings.</p>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;parent&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.terasoluna.gfw<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>terasoluna-gfw-parent<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>x.y.z<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/parent&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Therefore, the <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> of terasoluna-gfw-recommended-web-dependencies need not be specified.</p>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="integration-of-spring-mvc-and-tiles">
<h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">5.19.2.2. </span>Integration of Spring MVC and Tiles</a><a class="headerlink" href="#integration-of-spring-mvc-and-tiles" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">It is advisable to use <code class="docutils literal notranslate"><span class="pre">org.springframework.web.servlet.view.tiles3.TilesViewResolver</span></code> for integrating Spring MVC and Tiles.</div>
<div class="line">Implementation of Spring MVC Controller (returning View name) need not be changed.</div>
</div>
<p>How to configure is shown below.</p>
<p><strong>Defining Bean (ViewResolver, TilesConfigurer)</strong></p>
<ul class="simple">
<li><p>spring-mvc.xml</p></li>
</ul>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;mvc:view-resolvers&gt;</span>
<span class="w">    </span><span class="nt">&lt;mvc:tiles</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;mvc:jsp</span><span class="w"> </span><span class="na">prefix=</span><span class="s">&quot;/WEB-INF/views/&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
<span class="nt">&lt;/mvc:view-resolvers&gt;</span>

<span class="cm">&lt;!-- (3) --&gt;</span>
<span class="nt">&lt;mvc:tiles-configurer&gt;</span>
<span class="w">    </span><span class="nt">&lt;mvc:definitions</span><span class="w"> </span><span class="na">location=</span><span class="s">&quot;/WEB-INF/tiles/tiles-definitions.xml&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/mvc:tiles-configurer&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>Define <code class="docutils literal notranslate"><span class="pre">TilesViewResolver</span></code> using <code class="docutils literal notranslate"><span class="pre">&lt;mvc:tiles&gt;</span></code> element added from Spring Framework 4.1.</p>
<p>By defining it above <code class="docutils literal notranslate"><span class="pre">&lt;mvc:jsp&gt;</span></code>  element, first resolve <code class="docutils literal notranslate"><span class="pre">View</span></code> by referring to Tiles definition file (<code class="file docutils literal notranslate"><span class="pre">tiles-definitions.xml</span></code>).
If View name returned from Controller matches with <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute pattern of <code class="docutils literal notranslate"><span class="pre">definition</span></code> element in Tiles definition file, <code class="docutils literal notranslate"><span class="pre">View</span></code> is resolved by <code class="docutils literal notranslate"><span class="pre">TilesViewResolver</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Define <code class="docutils literal notranslate"><span class="pre">InternalResourceViewResolver</span></code> for JSP using <code class="docutils literal notranslate"><span class="pre">&lt;mvc:jsp&gt;</span></code> element added from Spring Framework 4.1.</p>
<p>By defining it below  <code class="docutils literal notranslate"><span class="pre">&lt;mvc:tiles&gt;</span></code> element, resolve <code class="docutils literal notranslate"><span class="pre">View</span></code> using “<code class="docutils literal notranslate"><span class="pre">InternalResourceViewResolver</span></code> for JSP” only for the View names that could not be resolved using <code class="docutils literal notranslate"><span class="pre">TilesViewResolver</span></code>.
If a JSP file corresponding to View name exists under <code class="docutils literal notranslate"><span class="pre">/WEB-INF/views/</span></code> , <code class="docutils literal notranslate"><span class="pre">View</span></code> is resolved by <code class="docutils literal notranslate"><span class="pre">InternalResourceViewResolver</span></code> for JSP.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p>Read Tiles definition file using <code class="docutils literal notranslate"><span class="pre">&lt;mvc:tiles-configurer&gt;</span></code> element added from Spring Framework 4.1.</p>
<p>Specify Tiles definition file in <code class="docutils literal notranslate"><span class="pre">location</span></code> attribute of <code class="docutils literal notranslate"><span class="pre">&lt;mvc:definitions&gt;</span></code> element.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;mvc:view-resolvers&gt;</span></code> element is an XML element added from Spring Framework 4.1.
If <code class="docutils literal notranslate"><span class="pre">&lt;mvc:view-resolvers&gt;</span></code>  element is used, it is possible to define <code class="docutils literal notranslate"><span class="pre">ViewResolver</span></code>  in a simple way.</p>
<p>Example of definition when <code class="docutils literal notranslate"><span class="pre">&lt;bean&gt;</span></code> element is used in a conventional way is given below.</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;tilesViewResolver&quot;</span>
</span><span class="hll"><span class="w">    </span><span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.tiles3.TilesViewResolver&quot;</span><span class="nt">&gt;</span>
</span><span class="hll"><span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;order&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span class="hll"><span class="nt">&lt;/bean&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;tilesConfigurer&quot;</span>
</span><span class="hll"><span class="w">    </span><span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.tiles3.TilesConfigurer&quot;</span><span class="nt">&gt;</span>
</span><span class="hll"><span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;definitions&quot;</span><span class="nt">&gt;</span>
</span><span class="hll"><span class="w">        </span><span class="nt">&lt;list&gt;</span>
</span><span class="hll"><span class="w">            </span><span class="nt">&lt;value&gt;</span>/WEB-INF/tiles/tiles-definitions.xml<span class="nt">&lt;/value&gt;</span>
</span><span class="hll"><span class="w">        </span><span class="nt">&lt;/list&gt;</span>
</span><span class="hll"><span class="w">    </span><span class="nt">&lt;/property&gt;</span>
</span><span class="hll"><span class="nt">&lt;/bean&gt;</span>
</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;viewResolver&quot;</span>
<span class="w">    </span><span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;prefix&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;suffix&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;order&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>In <code class="docutils literal notranslate"><span class="pre">order</span></code>property, specify a value that is lesser than <code class="docutils literal notranslate"><span class="pre">InternalResourceViewResolver</span></code> to ensure that it gets a high priority.</p>
</div>
</div></blockquote>
<p><strong>Tiles Definition</strong></p>
<ul class="simple">
<li><p>tiles-definitions.xml</p></li>
</ul>
<blockquote>
<div><div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE tiles-definitions PUBLIC</span>
<span class="cp">   &quot;-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN&quot;</span>
<span class="cp">   &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>

<span class="nt">&lt;tiles-definitions&gt;</span>
<span class="w">    </span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;layouts&quot;</span>
<span class="w">        </span><span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/template.jsp&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
<span class="w">        </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span>
<span class="w">            </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (3) --&gt;</span>
<span class="w">        </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span>
<span class="w">            </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (4) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/definition&gt;</span>

<span class="w">    </span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;*/*&quot;</span><span class="w"> </span><span class="na">extends=</span><span class="s">&quot;layouts&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (5) --&gt;</span>
<span class="w">        </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title.{1}.{2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (6) --&gt;</span>
<span class="w">        </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/{2}.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (7) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/definition&gt;</span>
<span class="nt">&lt;/tiles-definitions&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Define dtd of tiles.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Define the parent layout structure.</div>
<div class="line">In ‘template’ attribute, specify the jsp file where layout is defined.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Specify the jsp file that defines header.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Specify the jsp file that defines footer.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Layout definition which is called when it is same as name pattern at the time of ‘create’ request.</div>
<div class="line">Extended layouts definition is also applied.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Specify title.</div>
<div class="line">Fetch the value from properties incorporated in spring-mvc. (In the following description, it is set in application-messages.properties.)</div>
<div class="line">{1},{2} correspond to the 1st and 2nd “*” of “*/*” request.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(7)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Design the location of jsp file that defines the body such that, request path matches with {1} and JSP name matches with {2}.</div>
<div class="line">With this, the efforts to describe definition for each request can be saved.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the screens where Tiles is not to be applied (error screen etc.), it is necessary to set a file structure that excludes use of Tiles.
In Blank project, /WEB-INF/views/common/error/xxxError.jsp format is used so that InternalResourceViewResolver can be used (and so that it does not change to the “*/*” format) on error screen.</p>
</div>
</div></blockquote>
<ul class="simple">
<li><p><cite>application-messages.properties</cite></p></li>
</ul>
<blockquote>
<div><div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">title.staff.createForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Create Staff Information</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For details on message properties file, refer to <a class="reference internal" href="MessageManagement.html"><span class="doc">Message Management</span></a>.</p>
</div>
</div></blockquote>
<p>Following is the file structure when Tiles is set.</p>
<ul class="simple">
<li><p>tiles File Path</p></li>
</ul>
<blockquote>
<div><figure class="align-default">
<img alt="tiles file path" src="../_images/tiles_filepath.png" />
</figure>
</div></blockquote>
<p><strong>Custom tag settings</strong></p>
<p>Custom tag (TLD) needs to be set to use Tiles.</p>
<ul class="simple">
<li><p>/WEB-INF/views/common/include.jsp</p></li>
</ul>
<blockquote>
<div><div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">session</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fmt&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;spring&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags/form&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;form&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/security/tags&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;sec&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://terasoluna.org/functions&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;f&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://terasoluna.org/tags&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://tiles.apache.org/tags-tiles&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;tiles&quot;</span><span class="k">%&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://tiles.apache.org/tags-tiles-extras&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;tilesx&quot;</span><span class="k">%&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Add a custom tag (TLD) definition for Tiles.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Add a custom tag (TLD) definition for Tiles-extras.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>For details about custom tags of Tiles, refer to <a class="reference external" href="http://tiles.apache.org/framework/tiles-jsp/tagreference.html">Here</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="line-block">
<div class="line">Tiles version-2 had one taglib, but tiles-extras taglib is added from version-3.</div>
<div class="line">useAttribute tag which was available in tiles taglib in version-2 is moved to tiles-extras taglib from version-3, hence should be careful while using.</div>
<div class="line">e.g. ) <cite>&lt;tiles:useAttribute&gt;</cite> : version 2 -&gt; <cite>&lt;tilesx:useAttribute&gt;</cite> : version 3</div>
</div>
</div>
<ul class="simple">
<li><p>web.xml</p></li>
</ul>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;jsp-config&gt;</span>
<span class="w">    </span><span class="nt">&lt;jsp-property-group&gt;</span>
<span class="w">        </span><span class="nt">&lt;url-pattern&gt;</span>*.jsp<span class="nt">&lt;/url-pattern&gt;</span>
<span class="w">        </span><span class="nt">&lt;el-ignored&gt;</span>false<span class="nt">&lt;/el-ignored&gt;</span>
<span class="w">        </span><span class="nt">&lt;page-encoding&gt;</span>UTF-8<span class="nt">&lt;/page-encoding&gt;</span>
<span class="w">        </span><span class="nt">&lt;scripting-invalid&gt;</span>false<span class="nt">&lt;/scripting-invalid&gt;</span>
<span class="w">        </span><span class="nt">&lt;include-prelude&gt;</span>/WEB-INF/views/common/include.jsp<span class="nt">&lt;/include-prelude&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/jsp-property-group&gt;</span>
<span class="nt">&lt;/jsp-config&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Based on web.xml settings, when jsp file (~.jsp) is to be read, include.jsp can be read in advance.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Custom tag can also be set in template.jsp. However, it is recommended to create custom tag definition in common jsp include file.
For details, refer to <a class="reference internal" href="../ImplementationAtEachLayer/ApplicationLayer.html#view-jsp-include-label"><span class="std std-ref">Creating common JSP for include</span></a>.</p>
</div>
</div></blockquote>
<p><strong>Creating layout</strong></p>
<p>Create jsp (template) that forms frame of a layout and jsp to be embedded in the layout.</p>
<ul class="simple">
<li><p>template.jsp</p></li>
</ul>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;!--[if lt IE 7]&gt; &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt; &lt;![endif]--&gt;</span>
<span class="cm">&lt;!--[if IE 7]&gt;    &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;</span>
<span class="cm">&lt;!--[if IE 8]&gt;    &lt;html class=&quot;no-js lt-ie9&quot;&gt; &lt;![endif]--&gt;</span>
<span class="cm">&lt;!--[if gt IE 8]&gt;&lt;!--&gt;</span>
<span class="nt">&lt;html</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;no-js&quot;</span><span class="nt">&gt;</span>
<span class="cm">&lt;!--&lt;![endif]--&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">http-equiv=</span><span class="s">&quot;X-UA-Compatible&quot;</span><span class="w"> </span><span class="na">content=</span><span class="s">&quot;IE=edge,chrome=1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;viewport&quot;</span><span class="w"> </span><span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span><span class="w"> </span><span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span>
<span class="w">    </span><span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/resources/app/css/styles.css&quot;</span>
<span class="w">    </span><span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="w"> </span><span class="na">media=</span><span class="s">&quot;screen, projection&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;/script&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="nt">&lt;c:set</span><span class="w"> </span><span class="na">var=</span><span class="s">&quot;titleKey&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">ignore=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/c:set&gt;</span>
<span class="nt">&lt;title&gt;&lt;spring:message</span><span class="w"> </span><span class="na">code=</span><span class="s">&quot;${titleKey}&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;Create Staff Information&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/title&gt;</span><span class="cm">&lt;!-- (3) --&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (4) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (5) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (6) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Mention the common contents that need to be described, above step (1).</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Fetch the value of <code class="docutils literal notranslate"><span class="pre">title</span></code> specified in step (6) of tiles-definitions.xml and set it to <code class="docutils literal notranslate"><span class="pre">titleKey</span></code>.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Set title.</div>
<div class="line">When <code class="docutils literal notranslate"><span class="pre">titleKey</span></code> cannot be fetched, display the title defined in text attribute.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Read the “header” defined in tiles-definitions.xml.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Read the “body” defined in tiles-definitions.xml.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Read the “footer” defined in tiles-definitions.xml.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul class="simple">
<li><p>header.jsp</p></li>
</ul>
<blockquote>
<div><div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;h1&gt;</span>
<span class="w">    </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}&quot;</span><span class="nt">&gt;</span>Staff<span class="w"> </span>Management
<span class="w">        </span>System<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/h1&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p>createForm.jsp(example of body section)</p>
<blockquote>
<div><p>The developer is able to focus only on the body section and describe the same without having to mention the extra source code for header and footer.</p>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;h2&gt;</span>Create<span class="w"> </span>Staff<span class="w"> </span>Information<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;table&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;</span>Staff<span class="w"> </span>First<span class="w"> </span>Name<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;text&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;</span>Staff<span class="w"> </span>Family<span class="w"> </span>Name<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;text&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">rowspan=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>Staff<span class="w"> </span>Authorities<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Staff
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;02&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Master
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Stock
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;04&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Order
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;05&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Show<span class="w"> </span>Shopping
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;submit&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;cancel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;submit&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;confirm&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>footer.jsp</p></li>
</ul>
<blockquote>
<div><div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;p</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;text-align: center; background: #e5eCf9;&quot;</span><span class="nt">&gt;</span>Copyright<span class="w"> </span><span class="ni">&amp;copy;</span>
<span class="w">    </span>20XX<span class="w"> </span>CompanyName<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Creating Controller</strong></p>
<p>While creating Controller, when the request is <code class="docutils literal notranslate"><span class="pre">&lt;contextPath&gt;/staff/create?form</span></code>,
perform the settings such that “staff/createForm” is returned from the Controller.</p>
<ul class="simple">
<li><p>StaffCreateController.java</p></li>
</ul>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;create&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RequestMethod</span><span class="p">.</span><span class="na">GET</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;form&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">createForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;staff/createForm&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// (1)</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">With staff as {1} and createForm as {2}, fetch the title name from properties and identify the JSP.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Creating screen</strong></p>
<p>When <code class="docutils literal notranslate"><span class="pre">&lt;contextPath&gt;/staff/create?form</span></code> is called in request,
Tiles construct the layout and create screen, as shown below.</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;layouts&quot;</span>
<span class="w">    </span><span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/template.jsp&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span>
<span class="w">        </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span>
<span class="w">        </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (3) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>

<span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;*/*&quot;</span><span class="w"> </span><span class="na">extends=</span><span class="s">&quot;layouts&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title.{1}.{2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (4) --&gt;</span>
<span class="w">  </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span>
<span class="w">    </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/{2}.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (5) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">In case of corresponding request, “layouts” which is a parent layout is called and template is set to /WEB-INF/views/layout/template.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">WEB-INF/views/layout/header.jsp is set in <code class="docutils literal notranslate"><span class="pre">header</span></code> within the template /WEB-INF/views/layout/template.jsp.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">/WEB-INF/views/layout/footer.jsp is set in <code class="docutils literal notranslate"><span class="pre">footer</span></code> within the template /WEB-INF/views/layout/template.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">With <code class="docutils literal notranslate"><span class="pre">title.staff.createForm</span></code> as key, fetch the value from properties incorporated in spring-mvc where staff is {1} and createForm is {2}.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">/WEB-INF/views/staff/createForm.jsp is set in <code class="docutils literal notranslate"><span class="pre">body</span></code> within template/WEB-INF/views/layout/template.jsp with staff as {1} and createForm as {2}.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>As a result, it is output to the browser by combining header.jsp, createForm.jsp and footer.jsp in the above template.jsp.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="../_images/tiles_result.png"><img alt="tiles result" src="../_images/tiles_result.png" style="width: 100%;" /></a>
</figure>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="how-to-extend">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">5.19.3. </span>How to extend</a><a class="headerlink" href="#how-to-extend" title="Permalink to this heading">¶</a></h2>
<section id="setting-multiple-layouts">
<h3><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">5.19.3.1. </span>Setting multiple layouts</a><a class="headerlink" href="#setting-multiple-layouts" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">When creating actual business application, display layout may be divided depending on business process contents.</div>
<div class="line">This time, it is assumed that the staff search functionality menu is required to be displayed on left side of the screen.</div>
<div class="line">Configuration is shown below based on <a class="reference internal" href="#tileslayouthowtouse"><span class="std std-ref">How to use</span></a>.</div>
</div>
<p><strong>Tiles Definition</strong></p>
<ul class="simple">
<li><p>tiles-definitions.xml</p></li>
</ul>
<blockquote>
<div><div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="w"> </span><span class="cp">&lt;!DOCTYPE tiles-definitions PUBLIC</span>
<span class="cp">    &quot;-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN&quot;</span>
<span class="cp">    &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;</span>

<span class="w"> </span><span class="nt">&lt;tiles-definitions&gt;</span>
<span class="hll"><span class="w">     </span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;layoutsOfSearch&quot;</span>
</span><span class="hll"><span class="w">         </span><span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/templateSearch.jsp&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
</span><span class="hll"><span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span>
</span><span class="hll"><span class="w">             </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span class="hll"><span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;menu&quot;</span>
</span><span class="hll"><span class="w">             </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/menu.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span class="hll"><span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span>
</span><span class="hll"><span class="w">             </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span class="hll"><span class="w">     </span><span class="nt">&lt;/definition&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="w">     </span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;*/search*&quot;</span><span class="w"> </span><span class="na">extends=</span><span class="s">&quot;layoutsOfSearch&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
</span><span class="hll"><span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title.{1}.search{2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (3) --&gt;</span>
</span><span class="hll"><span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/search{2}.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (4) --&gt;</span>
</span><span class="hll"><span class="w">     </span><span class="nt">&lt;/definition&gt;</span>
</span>
<span class="w">     </span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;layouts&quot;</span>
<span class="w">         </span><span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/template.jsp&quot;</span><span class="nt">&gt;</span>
<span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span>
<span class="w">             </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span>
<span class="w">             </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">     </span><span class="nt">&lt;/definition&gt;</span>

<span class="w">     </span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;*/*&quot;</span><span class="w"> </span><span class="na">extends=</span><span class="s">&quot;layouts&quot;</span><span class="nt">&gt;</span>
<span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title.{1}.{2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">         </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/{2}.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">     </span><span class="nt">&lt;/definition&gt;</span>
<span class="w"> </span><span class="nt">&lt;/tiles-definitions&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Define the parent layout structure to be added.</div>
<div class="line">When using a different layout, ensure that name attribute of definition tag does not duplicate with the existing layout definition i.e. “layouts”.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Layout definition called when the layout to be added is same as the name pattern at the time of ‘create’ request.</div>
<div class="line">This layout definition is read when the request corresponds to &lt;contextPath&gt;/*/search*.</div>
<div class="line">Extended layout definition “layoutsOfSearch” is also applied.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Specify the title to be used in the layout to be added.</div>
<div class="line">Fetch the value from properties incorporated in spring-mvc. (In the following description, it is set to application-messages.properties.)</div>
<div class="line">{1} is the 1st “*” of “*/search*” of request.</div>
<div class="line">It is necessary that {2} starts with “search” as it corresponds to the  “search*” of “*/search*” request.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Place the jsp file in which the body is defined such that, the request path matches with {1} and JSP file name beginning with “search”, matches with {2}.</div>
<div class="line">The value of ‘value’ attribute needs to be changed according to the configuration of JSP file location.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When multiple requests correspond to name attribute patterns of definition tag, the verification is done sequentially from the top and the very first pattern that matches with the request is applied.
In the above case, as the request for staff search screen corresponds to multiple patterns, the layout is defined at the top.</p>
</div>
</div></blockquote>
<ul class="simple">
<li><p><cite>application-messages.properties</cite></p></li>
</ul>
<blockquote>
<div><div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">title.staff.createForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Create Staff Information</span>
<span class="hll"><span class="na">title.staff.searchStaff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Search Staff Information # (1)</span>
</span></pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Message to be added.</div>
<div class="line">“staff” is the 1st “*” of “*/search*” request.</div>
<div class="line">As “searchStaff” corresponds to “search*” part of “*/search*” request, it is necessary that it begins with “search”.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Creating layout</strong></p>
<p>Create the jsp (template) that forms the frame of the layout and jsp to be embedded in layout.</p>
<ul class="simple">
<li><p>templateSearch.jsp</p></li>
</ul>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;!--[if lt IE 7]&gt; &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt; &lt;![endif]--&gt;</span>
<span class="cm">&lt;!--[if IE 7]&gt;    &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;</span>
<span class="cm">&lt;!--[if IE 8]&gt;    &lt;html class=&quot;no-js lt-ie9&quot;&gt; &lt;![endif]--&gt;</span>
<span class="cm">&lt;!--[if gt IE 8]&gt;&lt;!--&gt;</span>
<span class="nt">&lt;html</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;no-js&quot;</span><span class="nt">&gt;</span>
<span class="cm">&lt;!--&lt;![endif]--&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">http-equiv=</span><span class="s">&quot;X-UA-Compatible&quot;</span><span class="w"> </span><span class="na">content=</span><span class="s">&quot;IE=edge,chrome=1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;viewport&quot;</span><span class="w"> </span><span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span><span class="w"> </span><span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span>
<span class="w">    </span><span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/resources/app/css/styles.css&quot;</span>
<span class="w">    </span><span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="w"> </span><span class="na">media=</span><span class="s">&quot;screen, projection&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;c:set</span><span class="w"> </span><span class="na">var=</span><span class="s">&quot;titleKey&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">ignore=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/c:set&gt;</span>
<span class="nt">&lt;title&gt;&lt;spring:message</span><span class="w"> </span><span class="na">code=</span><span class="s">&quot;${titleKey}&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;Search Staff Information&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;menu&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;menu&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Read the “menu” defined in tiles-definitions.xml.</div>
<div class="line">Rest is same as <a class="reference internal" href="#tileslayouthowtouse"><span class="std std-ref">How to use</span></a>.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul class="simple">
<li><p>styles.css</p></li>
</ul>
<blockquote>
<div><div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">div</span><span class="p">#</span><span class="nn">menu</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c">/* (1) */</span>
<span class="w">    </span><span class="k">float</span><span class="p">:</span><span class="w"> </span><span class="kc">left</span><span class="p">;</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">div</span><span class="p">#</span><span class="nn">searchBody</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c">/* (2) */</span>
<span class="w">    </span><span class="k">float</span><span class="p">:</span><span class="w"> </span><span class="kc">right</span><span class="p">;</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">div</span><span class="p">#</span><span class="nn">footer</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c">/* (3) */</span>
<span class="w">    </span><span class="k">clear</span><span class="p">:</span><span class="w"> </span><span class="kc">both</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Set the Menu style.</div>
<div class="line">Here, Menu Screen is left aligned using float:left and is displayed with 20% width.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Set the Body style.</div>
<div class="line">Here, the Business Screen is right aligned using float:right and displayed with 80% width.</div>
<div class="line">Name is specified as searchBody. This is because duplication in existing layout and name can have an impact on the existing layout style.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Set the Footer style.</div>
<div class="line">Float effect of menu and body is initialized. By this, the footer is displayed below menu and body.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul>
<li><p>header.jsp</p>
<p>Same as <a class="reference internal" href="#tileslayouthowtouse"><span class="std std-ref">How to use</span></a>.</p>
</li>
<li><p>menu.jsp</p></li>
</ul>
<blockquote>
<div><div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;table&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/staff/create?form&quot;</span><span class="nt">&gt;</span>Create<span class="w"> </span>Staff<span class="w"> </span>Information<span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/staff/search&quot;</span><span class="nt">&gt;</span>Search<span class="w"> </span>Staff<span class="w"> </span>Information<span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>searchStaff.jsp (example of body section)</p></li>
</ul>
<blockquote>
<div><div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;h2&gt;</span>Search<span class="w"> </span>Staff<span class="w"> </span>Information<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;table&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;</span>Staff<span class="w"> </span>First<span class="w"> </span>Name<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;text&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;</span>Staff<span class="w"> </span>Family<span class="w"> </span>Name<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;text&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">rowspan=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>Staff<span class="w"> </span>Authorities<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Staff
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;02&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Master
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Stock
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;04&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Order
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td&gt;&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;checkbox&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sa&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;05&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>Show<span class="w"> </span>Shopping
<span class="w">            </span>Management<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;submit&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Search&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p>footer.jsp</p>
<p>Same as <a class="reference internal" href="#tileslayouthowtouse"><span class="std std-ref">How to use</span></a>.</p>
</li>
</ul>
<p><strong>Creating Controller</strong></p>
<p>While creating Controller, if the request is <code class="docutils literal notranslate"><span class="pre">&lt;contextPath&gt;/staff/search</span></code>, set such that
“staff/searchStaff” is returned from the Controller.</p>
<ul class="simple">
<li><p>StaffSearchController.java</p></li>
</ul>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;search&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RequestMethod</span><span class="p">.</span><span class="na">GET</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">createForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;staff/searchStaff&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// (1)</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">With staff as {1} and searchStaff as {2}, fetch the title name from properties and identify the JSP.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Creating screen</strong></p>
<p>When <code class="docutils literal notranslate"><span class="pre">&lt;contextPath&gt;/staff/search</span></code> is called in request,
screen is generated through another layout as shown below.</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;layoutsOfSearch&quot;</span>
<span class="w">    </span><span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/templateSearch.jsp&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (1) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span>
<span class="w">        </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (2) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;menu&quot;</span>
<span class="w">        </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/menu.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (3) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;footer&quot;</span>
<span class="w">        </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (4) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>

<span class="nt">&lt;definition</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;*/search*&quot;</span><span class="w"> </span><span class="na">extends=</span><span class="s">&quot;layoutsOfSearch&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (5) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title.{1}.search{2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (6) --&gt;</span>
<span class="w">    </span><span class="nt">&lt;put-attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/search{2}.jsp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- (7) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">In case of a corresponding request, “layoutsOfSearch” which is a parent layout is called and template is set in /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">WEB-INF/views/layout/header.jsp is set in <code class="docutils literal notranslate"><span class="pre">header</span></code> within the template /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">/WEB-INF/views/layout/menu.jsp is set in <code class="docutils literal notranslate"><span class="pre">menu</span></code> within the template /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">/WEB-INF/views/layout/footer.jsp is set in <code class="docutils literal notranslate"><span class="pre">footer</span></code> within the template /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">This layout definition is read when the request corresponds to &lt;contextPath&gt;/*/search*.</div>
<div class="line">In that case, “layoutsOfSearch”  which is a parent layout is also read.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">With <code class="docutils literal notranslate"><span class="pre">title.staff.searchStaff</span></code> as key, fetch the value from properties incorporated in spring-mvc, where staff is {1} and searchStaff is “search{2}”.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(7)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">/WEB-INF/views/staff/searchStaff.jsp is set in <code class="docutils literal notranslate"><span class="pre">body</span></code> within the template/WEB-INF/views/layout/templateSearch.jsp where staff is {1} and searchStaff is “search{2}”.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>As a result, it is output to the browser by combining header.jsp, menu.jsp, searchStaff.jsp and footer.jsp in the above templateSearch.jsp file.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="../_images/tiles_result2.png"><img alt="tiles result another template" src="../_images/tiles_result2.png" style="width: 100%;" /></a>
</figure>
</div></blockquote>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="SystemDate.html" title="5.20. System Date"
             >next</a> |</li>
        <li class="right" >
          <a href="FileDownload.html" title="5.18. File Download"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">5. </span>Architecture in Detail - TERASOLUNA Server Framework for Java (5.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.19. </span>Screen Layout using Tiles</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013-2016, NTT DATA.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 5.3.0.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>