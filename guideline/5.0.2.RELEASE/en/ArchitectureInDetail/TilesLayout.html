<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.19. Screen Layout using Tiles &mdash; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation</title>
    
    <link rel="stylesheet" href="../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.0.2.RELEASE',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation" href="../index.html" />
    <link rel="up" title="5. Architecture in Detail - TERASOLUNA Server Framework for Java (5.x)" href="index.html" />
    <link rel="next" title="5.20. System Date" href="SystemDate.html" />
    <link rel="prev" title="5.18. File Download" href="FileDownload.html" /><script src="../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../_static/solarized-dark.css" rel="stylesheet">
<link href="../_static/jquery.treeview.css" rel="stylesheet">
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="SystemDate.html" title="5.20. System Date"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="FileDownload.html" title="5.18. File Download"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">5. Architecture in Detail - TERASOLUNA Server Framework for Java (5.x)</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5.19. Screen Layout using Tiles</a><ul>
<li><a class="reference internal" href="#overview">5.19.1. Overview</a></li>
<li><a class="reference internal" href="#how-to-use">5.19.2. How to use</a><ul>
<li><a class="reference internal" href="#pom-xml-setting">5.19.2.1. pom.xml setting</a></li>
<li><a class="reference internal" href="#integration-of-spring-mvc-and-tiles">5.19.2.2. Integration of Spring MVC and Tiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-extend">5.19.3. How to extend</a><ul>
<li><a class="reference internal" href="#setting-multiple-layouts">5.19.3.1. Setting multiple layouts</a></li>
</ul>
</li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="FileDownload.html"
                        title="previous chapter">5.18. File Download</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="SystemDate.html"
                        title="next chapter">5.20. System Date</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ArchitectureInDetail/TilesLayout.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="screen-layout-using-tiles">
<h1>5.19. Screen Layout using Tiles<a class="headerlink" href="#screen-layout-using-tiles" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id3">Overview</a></li>
<li><a class="reference internal" href="#how-to-use" id="id4">How to use</a><ul>
<li><a class="reference internal" href="#pom-xml-setting" id="id5">pom.xml setting</a></li>
<li><a class="reference internal" href="#integration-of-spring-mvc-and-tiles" id="id6">Integration of Spring MVC and Tiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-extend" id="id7">How to extend</a><ul>
<li><a class="reference internal" href="#setting-multiple-layouts" id="id8">Setting multiple layouts</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id3">5.19.1. Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">When developing a Web application with common layouts such as header, footer and side menu, maintaining the layouts becomes complicated if the common parts are coded in all JSPs.</div>
<div class="line">For example, if the header design needs to be modified, the same modifications must be done for all JSPs.</div>
</div>
<div class="line-block">
<div class="line">In JSP development, when the same layout is used in many screens, it is recommended to use <a class="reference external" href="http://tiles.apache.org/">Apache Tiles</a> (hereafter referred to as Tiles).</div>
<div class="line">Reasons for using Tiles are as follows:</div>
</div>
<ol class="arabic simple">
<li>To eliminate layout errors by designer</li>
<li>To reduce redundant codes</li>
<li>To change oversized layouts easily</li>
</ol>
<div class="line-block">
<div class="line">Tiles can combine different JSPs by defining an integrated screen layout.</div>
<div class="line">As a result, the need to describe extra code in each JSP file is eliminated, thereby facilitating developer operations.</div>
<div class="line">For example, if multiple screens have the following layout structure,</div>
</div>
<blockquote>
<div><div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/screen_layout.png"><img alt="screen layout" src="../_images/screen_layout.png" style="width: 50%;" /></a>
<p class="caption"><span class="caption-text"><strong>Picture - Image of screen layout</strong></span></p>
</div>
</div></blockquote>
<div class="line-block">
<div class="line">By using Tiles, one can focus only on creating the body without having to include and specify the sizes of header, menu and footer, in all the screens with the same layout.</div>
<div class="line">Actual JSP file is as follows:</div>
</div>
<blockquote>
<div><div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/layout_jsp.png"><img alt="layout jsp" src="../_images/layout_jsp.png" style="width: 50%;" /></a>
<p class="caption"><span class="caption-text"><strong>Picture - Image of layout jsp</strong></span></p>
</div>
</div></blockquote>
<p>Therefore, after configuring the screen layout using Tiles, only the JSP file corresponding to business process (business.jsp) may be created for each screen.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In some cases, it is better to avoid using Tiles. For example, using Tiles in an error screen is not recommended due to the following reasons.</p>
<ul class="last simple">
<li>If an error occurs due to Tiles during error screen display, analyzing the errors becomes difficult. (In case of double failure)</li>
<li>Tiles Template is not necessarily always used to display screens in the JSP set by the &lt;error-pages&gt; tag of web.xml.</li>
</ul>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="how-to-use">
<span id="tileslayouthowtouse"></span><h2><a class="toc-backref" href="#id4">5.19.2. How to use</a><a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pom-xml-setting">
<h3><a class="toc-backref" href="#id5">5.19.2.1. pom.xml setting</a><a class="headerlink" href="#pom-xml-setting" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">To use Tiles in Maven, following dependency should be added to pom.xml.</div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.terasoluna.gfw<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>terasoluna-gfw-recommended-web-dependencies<span class="nt">&lt;/artifactId&gt;</span><span class="c">&lt;!-- (1) --&gt;</span>
    <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span><span class="c">&lt;!-- (2) --&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Add terasoluna-gfw-recommended-web-dependencies defined for the group of web related libraries, to dependency.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Dependencies such as terasoluna-gfw-recommended-web-dependencies are defined only in pom file; hence</div>
<div class="line"><code class="docutils literal"><span class="pre">&lt;type&gt;pom&lt;/type&gt;</span></code> needs to be specified.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is assumed that pom.xml has the following terasoluna-gfw-parent settings.</p>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;parent&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.terasoluna.gfw<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>terasoluna-gfw-parent<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>x.y.z<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/parent&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Therefore, the <code class="docutils literal"><span class="pre">&lt;version&gt;</span></code> of terasoluna-gfw-recommended-web-dependencies need not be specified.</p>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="integration-of-spring-mvc-and-tiles">
<h3><a class="toc-backref" href="#id6">5.19.2.2. Integration of Spring MVC and Tiles</a><a class="headerlink" href="#integration-of-spring-mvc-and-tiles" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">It is advisable to use <code class="docutils literal"><span class="pre">org.springframework.web.servlet.view.tiles3.TilesViewResolver</span></code> for integrating Spring MVC and Tiles.</div>
<div class="line">Implementation of Spring MVC Controller (returning View name) need not be changed.</div>
</div>
<p>How to configure is shown below.</p>
<p><strong>Defining Bean (ViewResolver, TilesConfigurer)</strong></p>
<ul class="simple">
<li>spring-mvc.xml</li>
</ul>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;mvc:view-resolvers&gt;</span>
    <span class="nt">&lt;mvc:tiles</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
    <span class="nt">&lt;mvc:jsp</span> <span class="na">prefix=</span><span class="s">&quot;/WEB-INF/views/&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
<span class="nt">&lt;/mvc:view-resolvers&gt;</span>

<span class="c">&lt;!-- (3) --&gt;</span>
<span class="nt">&lt;mvc:tiles-configurer&gt;</span>
    <span class="nt">&lt;mvc:definitions</span> <span class="na">location=</span><span class="s">&quot;/WEB-INF/tiles/tiles-definitions.xml&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/mvc:tiles-configurer&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p class="first">Define <code class="docutils literal"><span class="pre">TilesViewResolver</span></code> using <code class="docutils literal"><span class="pre">&lt;mvc:tiles&gt;</span></code> element added from Spring Framework 4.1.</p>
<p class="last">By defining it above <code class="docutils literal"><span class="pre">&lt;mvc:jsp&gt;</span></code>  element, first resolve <code class="docutils literal"><span class="pre">View</span></code> by referring to Tiles definition file (<code class="file docutils literal"><span class="pre">tiles-definitions.xml</span></code>).
If View name returned from Controller matches with <code class="docutils literal"><span class="pre">name</span></code> attribute pattern of <code class="docutils literal"><span class="pre">definition</span></code> element in Tiles definition file, <code class="docutils literal"><span class="pre">View</span></code> is resolved by <code class="docutils literal"><span class="pre">TilesViewResolver</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p class="first">Define <code class="docutils literal"><span class="pre">InternalResourceViewResolver</span></code> for JSP using <code class="docutils literal"><span class="pre">&lt;mvc:jsp&gt;</span></code> element added from Spring Framework 4.1.</p>
<p class="last">By defining it below  <code class="docutils literal"><span class="pre">&lt;mvc:tiles&gt;</span></code> element, resolve <code class="docutils literal"><span class="pre">View</span></code> using &#8220;<code class="docutils literal"><span class="pre">InternalResourceViewResolver</span></code> for JSP&#8221; only for the View names that could not be resolved using <code class="docutils literal"><span class="pre">TilesViewResolver</span></code>.
If a JSP file corresponding to View name exists under <code class="docutils literal"><span class="pre">/WEB-INF/views/</span></code> , <code class="docutils literal"><span class="pre">View</span></code> is resolved by <code class="docutils literal"><span class="pre">InternalResourceViewResolver</span></code> for JSP.</p>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p class="first">Read Tiles definition file using <code class="docutils literal"><span class="pre">&lt;mvc:tiles-configurer&gt;</span></code> element added from Spring Framework 4.1.</p>
<p class="last">Specify Tiles definition file in <code class="docutils literal"><span class="pre">location</span></code> attribute of <code class="docutils literal"><span class="pre">&lt;mvc:definitions&gt;</span></code> element.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><code class="docutils literal"><span class="pre">&lt;mvc:view-resolvers&gt;</span></code> element is an XML element added from Spring Framework 4.1.
If <code class="docutils literal"><span class="pre">&lt;mvc:view-resolvers&gt;</span></code>  element is used, it is possible to define <code class="docutils literal"><span class="pre">ViewResolver</span></code>  in a simple way.</p>
<p>Example of definition when <code class="docutils literal"><span class="pre">&lt;bean&gt;</span></code> element is used in a conventional way is given below.</p>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;tilesViewResolver&quot;</span>
</span><span class="hll">    <span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.tiles3.TilesViewResolver&quot;</span><span class="nt">&gt;</span>
</span><span class="hll">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;order&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
</span><span class="hll"><span class="nt">&lt;/bean&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;tilesConfigurer&quot;</span>
</span><span class="hll">    <span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.tiles3.TilesConfigurer&quot;</span><span class="nt">&gt;</span>
</span><span class="hll">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;definitions&quot;</span><span class="nt">&gt;</span>
</span><span class="hll">        <span class="nt">&lt;list&gt;</span>
</span><span class="hll">            <span class="nt">&lt;value&gt;</span>/WEB-INF/tiles/tiles-definitions.xml<span class="nt">&lt;/value&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/list&gt;</span>
</span><span class="hll">    <span class="nt">&lt;/property&gt;</span>
</span><span class="hll"><span class="nt">&lt;/bean&gt;</span>
</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;viewResolver&quot;</span>
    <span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;prefix&quot;</span> <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;suffix&quot;</span> <span class="na">value=</span><span class="s">&quot;.jsp&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;order&quot;</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p class="last">In <code class="docutils literal"><span class="pre">order</span></code>property, specify a value that is lesser than <code class="docutils literal"><span class="pre">InternalResourceViewResolver</span></code> to ensure that it gets a high priority.</p>
</div>
</div></blockquote>
<p><strong>Tiles Definition</strong></p>
<ul class="simple">
<li>tiles-definitions.xml</li>
</ul>
<blockquote>
<div><div class="highlight-guess"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE tiles-definitions PUBLIC</span>
<span class="cp">   &quot;-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN&quot;</span>
<span class="cp">   &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>

<span class="nt">&lt;tiles-definitions&gt;</span>
    <span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;layouts&quot;</span>
        <span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/template.jsp&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
        <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span>
            <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (3) --&gt;</span>
        <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span>
            <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (4) --&gt;</span>
    <span class="nt">&lt;/definition&gt;</span>

    <span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;*/*&quot;</span> <span class="na">extends=</span><span class="s">&quot;layouts&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (5) --&gt;</span>
        <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;title.{1}.{2}&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (6) --&gt;</span>
        <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span> <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/{2}.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (7) --&gt;</span>
    <span class="nt">&lt;/definition&gt;</span>
<span class="nt">&lt;/tiles-definitions&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Define dtd of tiles.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Define the parent layout structure.</div>
<div class="line">In &#8216;template&#8217; attribute, specify the jsp file where layout is defined.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specify the jsp file that defines header.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specify the jsp file that defines footer.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Layout definition which is called when it is same as name pattern at the time of &#8216;create&#8217; request.</div>
<div class="line">Extended layouts definition is also applied.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specify title.</div>
<div class="line">Fetch the value from properties incorporated in spring-mvc. (In the following description, it is set in application-messages.properties.)</div>
<div class="line">{1},{2} correspond to the 1st and 2nd &#8220;*&#8221; of &#8220;*/*&#8221; request.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(7)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Design the location of jsp file that defines the body such that, request path matches with {1} and JSP name matches with {2}.</div>
<div class="line">With this, the efforts to describe definition for each request can be saved.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the screens where Tiles is not to be applied (error screen etc.), it is necessary to set a file structure that excludes use of Tiles.
In Blank project, /WEB-INF/views/common/error/xxxError.jsp format is used so that InternalResourceViewResolver can be used (and so that it does not change to the &#8220;*/*&#8221; format) on error screen.</p>
</div>
</div></blockquote>
<ul class="simple">
<li><cite>application-messages.properties</cite></li>
</ul>
<blockquote>
<div><div class="highlight-properties"><div class="highlight"><pre><span class="na">title.staff.createForm</span> <span class="o">=</span> <span class="s">Create Staff Information</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For details on message properties file, refer to <a class="reference internal" href="MessageManagement.html"><em>Message Management</em></a>.</p>
</div>
</div></blockquote>
<p>Following is the file structure when Tiles is set.</p>
<ul class="simple">
<li>tiles File Path</li>
</ul>
<blockquote>
<div><div class="figure">
<img alt="tiles file path" src="../_images/tiles_filepath.png" />
</div>
</div></blockquote>
<p><strong>Custom tag settings</strong></p>
<p>Custom tag (TLD) needs to be set to use Tiles.</p>
<ul class="simple">
<li>/WEB-INF/views/common/include.jsp</li>
</ul>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">session</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fmt&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;spring&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags/form&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;form&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/security/tags&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;sec&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://terasoluna.org/functions&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;f&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://terasoluna.org/tags&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://tiles.apache.org/tags-tiles&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;tiles&quot;</span><span class="k">%&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://tiles.apache.org/tags-tiles-extras&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;tilesx&quot;</span><span class="k">%&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Add a custom tag (TLD) definition for Tiles.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Add a custom tag (TLD) definition for Tiles-extras.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>For details about custom tags of Tiles, refer to <a class="reference external" href="http://tiles.apache.org/framework/tiles-jsp/tagreference.html">Here</a>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<div class="last line-block">
<div class="line">Tiles version-2 had one taglib, but tiles-extras taglib is added from version-3.</div>
<div class="line">useAttribute tag which was available in tiles taglib in version-2 is moved to tiles-extras taglib from version-3, hence should be careful while using.</div>
<div class="line">e.g. ) <cite>&lt;tiles:useAttribute&gt;</cite> : version 2 -&gt; <cite>&lt;tilesx:useAttribute&gt;</cite> : version 3</div>
</div>
</div>
<ul class="simple">
<li>web.xml</li>
</ul>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;jsp-config&gt;</span>
    <span class="nt">&lt;jsp-property-group&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.jsp<span class="nt">&lt;/url-pattern&gt;</span>
        <span class="nt">&lt;el-ignored&gt;</span>false<span class="nt">&lt;/el-ignored&gt;</span>
        <span class="nt">&lt;page-encoding&gt;</span>UTF-8<span class="nt">&lt;/page-encoding&gt;</span>
        <span class="nt">&lt;scripting-invalid&gt;</span>false<span class="nt">&lt;/scripting-invalid&gt;</span>
        <span class="nt">&lt;include-prelude&gt;</span>/WEB-INF/views/common/include.jsp<span class="nt">&lt;/include-prelude&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
    <span class="nt">&lt;/jsp-property-group&gt;</span>
<span class="nt">&lt;/jsp-config&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Based on web.xml settings, when jsp file (~.jsp) is to be read, include.jsp can be read in advance.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Custom tag can also be set in template.jsp. However, it is recommended to create custom tag definition in common jsp include file.
For details, refer to <a class="reference internal" href="../ImplementationAtEachLayer/ApplicationLayer.html#view-jsp-include-label"><span>Creating common JSP for include</span></a>.</p>
</div>
</div></blockquote>
<p><strong>Creating layout</strong></p>
<p>Create jsp (template) that forms frame of a layout and jsp to be embedded in the layout.</p>
<ul class="simple">
<li>template.jsp</li>
</ul>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--[if lt IE 7]&gt; &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 7]&gt;    &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 8]&gt;    &lt;html class=&quot;no-js lt-ie9&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if gt IE 8]&gt;&lt;!--&gt;</span>
<span class="nt">&lt;html</span> <span class="na">class=</span><span class="s">&quot;no-js&quot;</span><span class="nt">&gt;</span>
<span class="c">&lt;!--&lt;![endif]--&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;X-UA-Compatible&quot;</span> <span class="na">content=</span><span class="s">&quot;IE=edge,chrome=1&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span>
    <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/resources/app/css/styles.css&quot;</span>
    <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">media=</span><span class="s">&quot;screen, projection&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;/script&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
<span class="nt">&lt;c:set</span> <span class="na">var=</span><span class="s">&quot;titleKey&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
    <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">ignore=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/c:set&gt;</span>
<span class="nt">&lt;title&gt;&lt;spring:message</span> <span class="na">code=</span><span class="s">&quot;${titleKey}&quot;</span> <span class="na">text=</span><span class="s">&quot;Create Staff Information&quot;</span> <span class="nt">/&gt;&lt;/title&gt;</span><span class="c">&lt;!-- (3) --&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (4) --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (5) --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (6) --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Mention the common contents that need to be described, above step (1).</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Fetch the value of <code class="docutils literal"><span class="pre">title</span></code> specified in step (6) of tiles-definitions.xml and set it to <code class="docutils literal"><span class="pre">titleKey</span></code>.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Set title.</div>
<div class="line">When <code class="docutils literal"><span class="pre">titleKey</span></code> cannot be fetched, display the title defined in text attribute.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Read the &#8220;header&#8221; defined in tiles-definitions.xml.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Read the &#8220;body&#8221; defined in tiles-definitions.xml.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Read the &#8220;footer&#8221; defined in tiles-definitions.xml.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul class="simple">
<li>header.jsp</li>
</ul>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}&quot;</span><span class="nt">&gt;</span>Staff Management
        System<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/h1&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p class="first">createForm.jsp(example of body section)</p>
<blockquote>
<div><p>The developer is able to focus only on the body section and describe the same without having to mention the extra source code for header and footer.</p>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span class="nt">&lt;h2&gt;</span>Create Staff Information<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span>Staff First Name<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span>Staff Family Name<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">rowspan=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>Staff Authorities<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;01&quot;</span> <span class="nt">/&gt;</span> Staff
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;02&quot;</span> <span class="nt">/&gt;</span> Master
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;03&quot;</span> <span class="nt">/&gt;</span> Stock
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;04&quot;</span> <span class="nt">/&gt;</span> Order
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;05&quot;</span> <span class="nt">/&gt;</span> Show Shopping
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;cancel&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;confirm&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>footer.jsp</li>
</ul>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span class="nt">&lt;p</span> <span class="na">style=</span><span class="s">&quot;text-align: center; background: #e5eCf9;&quot;</span><span class="nt">&gt;</span>Copyright <span class="ni">&amp;copy;</span>
    20XX CompanyName<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Creating Controller</strong></p>
<p>While creating Controller, when the request is <code class="docutils literal"><span class="pre">&lt;contextPath&gt;/staff/create?form</span></code>,
perform the settings such that &#8220;staff/createForm&#8221; is returned from the Controller.</p>
<ul class="simple">
<li>StaffCreateController.java</li>
</ul>
<blockquote>
<div><div class="highlight-java"><div class="highlight"><pre><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;create&quot;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">,</span> <span class="n">params</span> <span class="o">=</span> <span class="s">&quot;form&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">createForm</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&quot;staff/createForm&quot;</span><span class="o">;</span> <span class="c1">// (1)</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">With staff as {1} and createForm as {2}, fetch the title name from properties and identify the JSP.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Creating screen</strong></p>
<p>When <code class="docutils literal"><span class="pre">&lt;contextPath&gt;/staff/create?form</span></code> is called in request,
Tiles construct the layout and create screen, as shown below.</p>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;layouts&quot;</span>
    <span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/template.jsp&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span>
        <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span>
        <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (3) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>

<span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;*/*&quot;</span> <span class="na">extends=</span><span class="s">&quot;layouts&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;title.{1}.{2}&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (4) --&gt;</span>
  <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span>
    <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/{2}.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (5) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">In case of corresponding request, &#8220;layouts&#8221; which is a parent layout is called and template is set to /WEB-INF/views/layout/template.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">WEB-INF/views/layout/header.jsp is set in <code class="docutils literal"><span class="pre">header</span></code> within the template /WEB-INF/views/layout/template.jsp.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">/WEB-INF/views/layout/footer.jsp is set in <code class="docutils literal"><span class="pre">footer</span></code> within the template /WEB-INF/views/layout/template.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">With <code class="docutils literal"><span class="pre">title.staff.createForm</span></code> as key, fetch the value from properties incorporated in spring-mvc where staff is {1} and createForm is {2}.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">/WEB-INF/views/staff/createForm.jsp is set in <code class="docutils literal"><span class="pre">body</span></code> within template/WEB-INF/views/layout/template.jsp with staff as {1} and createForm as {2}.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>As a result, it is output to the browser by combining header.jsp, createForm.jsp and footer.jsp in the above template.jsp.</p>
<blockquote>
<div><div class="figure align-center">
<a class="reference internal image-reference" href="../_images/tiles_result.png"><img alt="tiles result" src="../_images/tiles_result.png" style="width: 100%;" /></a>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="how-to-extend">
<h2><a class="toc-backref" href="#id7">5.19.3. How to extend</a><a class="headerlink" href="#how-to-extend" title="Permalink to this headline">¶</a></h2>
<div class="section" id="setting-multiple-layouts">
<h3><a class="toc-backref" href="#id8">5.19.3.1. Setting multiple layouts</a><a class="headerlink" href="#setting-multiple-layouts" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">When creating actual business application, display layout may be divided depending on business process contents.</div>
<div class="line">This time, it is assumed that the staff search functionality menu is required to be displayed on left side of the screen.</div>
<div class="line">Configuration is shown below based on <a class="reference internal" href="#tileslayouthowtouse"><span>How to use</span></a>.</div>
</div>
<p><strong>Tiles Definition</strong></p>
<ul class="simple">
<li>tiles-definitions.xml</li>
</ul>
<blockquote>
<div><div class="highlight-guess"><div class="highlight"><pre> <span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
 <span class="cp">&lt;!DOCTYPE tiles-definitions PUBLIC</span>
<span class="cp">    &quot;-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN&quot;</span>
<span class="cp">    &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;</span>

 <span class="nt">&lt;tiles-definitions&gt;</span>
<span class="hll">     <span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;layoutsOfSearch&quot;</span>
</span><span class="hll">         <span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/templateSearch.jsp&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
</span><span class="hll">         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span>
</span><span class="hll">             <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span> <span class="nt">/&gt;</span>
</span><span class="hll">         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;menu&quot;</span>
</span><span class="hll">             <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/menu.jsp&quot;</span> <span class="nt">/&gt;</span>
</span><span class="hll">         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span>
</span><span class="hll">             <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span> <span class="nt">/&gt;</span>
</span><span class="hll">     <span class="nt">&lt;/definition&gt;</span>
</span><span class="hll">
</span><span class="hll">     <span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;*/search*&quot;</span> <span class="na">extends=</span><span class="s">&quot;layoutsOfSearch&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
</span><span class="hll">         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;title.{1}.search{2}&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (3) --&gt;</span>
</span><span class="hll">         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span> <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/search{2}.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (4) --&gt;</span>
</span><span class="hll">     <span class="nt">&lt;/definition&gt;</span>
</span>
     <span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;layouts&quot;</span>
         <span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/template.jsp&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span>
             <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span>
             <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;/definition&gt;</span>

     <span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;*/*&quot;</span> <span class="na">extends=</span><span class="s">&quot;layouts&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;title.{1}.{2}&quot;</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span> <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/{2}.jsp&quot;</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;/definition&gt;</span>
 <span class="nt">&lt;/tiles-definitions&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Define the parent layout structure to be added.</div>
<div class="line">When using a different layout, ensure that name attribute of definition tag does not duplicate with the existing layout definition i.e. &#8220;layouts&#8221;.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Layout definition called when the layout to be added is same as the name pattern at the time of &#8216;create&#8217; request.</div>
<div class="line">This layout definition is read when the request corresponds to &lt;contextPath&gt;/*/search*.</div>
<div class="line">Extended layout definition &#8220;layoutsOfSearch&#8221; is also applied.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specify the title to be used in the layout to be added.</div>
<div class="line">Fetch the value from properties incorporated in spring-mvc. (In the following description, it is set to application-messages.properties.)</div>
<div class="line">{1} is the 1st &#8220;*&#8221; of &#8220;*/search*&#8221; of request.</div>
<div class="line">It is necessary that {2} starts with &#8220;search&#8221; as it corresponds to the  &#8220;search*&#8221; of &#8220;*/search*&#8221; request.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Place the jsp file in which the body is defined such that, the request path matches with {1} and JSP file name beginning with &#8220;search&#8221;, matches with {2}.</div>
<div class="line">The value of &#8216;value&#8217; attribute needs to be changed according to the configuration of JSP file location.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When multiple requests correspond to name attribute patterns of definition tag, the verification is done sequentially from the top and the very first pattern that matches with the request is applied.
In the above case, as the request for staff search screen corresponds to multiple patterns, the layout is defined at the top.</p>
</div>
</div></blockquote>
<ul class="simple">
<li><cite>application-messages.properties</cite></li>
</ul>
<blockquote>
<div><div class="highlight-properties"><div class="highlight"><pre><span class="na">title.staff.createForm</span> <span class="o">=</span> <span class="s">Create Staff Information</span>
<span class="hll"><span class="na">title.staff.searchStaff</span> <span class="o">=</span> <span class="s">Search Staff Information # (1)</span>
</span></pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Message to be added.</div>
<div class="line">&#8220;staff&#8221; is the 1st &#8220;*&#8221; of &#8220;*/search*&#8221; request.</div>
<div class="line">As &#8220;searchStaff&#8221; corresponds to &#8220;search*&#8221; part of &#8220;*/search*&#8221; request, it is necessary that it begins with &#8220;search&#8221;.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Creating layout</strong></p>
<p>Create the jsp (template) that forms the frame of the layout and jsp to be embedded in layout.</p>
<ul class="simple">
<li>templateSearch.jsp</li>
</ul>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--[if lt IE 7]&gt; &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 7]&gt;    &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 8]&gt;    &lt;html class=&quot;no-js lt-ie9&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if gt IE 8]&gt;&lt;!--&gt;</span>
<span class="nt">&lt;html</span> <span class="na">class=</span><span class="s">&quot;no-js&quot;</span><span class="nt">&gt;</span>
<span class="c">&lt;!--&lt;![endif]--&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;X-UA-Compatible&quot;</span> <span class="na">content=</span><span class="s">&quot;IE=edge,chrome=1&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span>
    <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/resources/app/css/styles.css&quot;</span>
    <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">media=</span><span class="s">&quot;screen, projection&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;c:set</span> <span class="na">var=</span><span class="s">&quot;titleKey&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">ignore=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/c:set&gt;</span>
<span class="nt">&lt;title&gt;&lt;spring:message</span> <span class="na">code=</span><span class="s">&quot;${titleKey}&quot;</span> <span class="na">text=</span><span class="s">&quot;Search Staff Information&quot;</span> <span class="nt">/&gt;&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;menu&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;menu&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tiles:insertAttribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Read the &#8220;menu&#8221; defined in tiles-definitions.xml.</div>
<div class="line">Rest is same as <a class="reference internal" href="#tileslayouthowtouse"><span>How to use</span></a>.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul class="simple">
<li>styles.css</li>
</ul>
<blockquote>
<div><div class="highlight-css"><div class="highlight"><pre><span class="nt">div</span><span class="nf">#menu</span> <span class="p">{</span> <span class="c">/* (1) */</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">20%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">div</span><span class="nf">#searchBody</span> <span class="p">{</span> <span class="c">/* (2) */</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">right</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">80%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">div</span><span class="nf">#footer</span> <span class="p">{</span> <span class="c">/* (3) */</span>
    <span class="k">clear</span><span class="o">:</span> <span class="k">both</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Set the Menu style.</div>
<div class="line">Here, Menu Screen is left aligned using float:left and is displayed with 20% width.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Set the Body style.</div>
<div class="line">Here, the Business Screen is right aligned using float:right and displayed with 80% width.</div>
<div class="line">Name is specified as searchBody. This is because duplication in existing layout and name can have an impact on the existing layout style.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Set the Footer style.</div>
<div class="line">Float effect of menu and body is initialized. By this, the footer is displayed below menu and body.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul>
<li><p class="first">header.jsp</p>
<p>Same as <a class="reference internal" href="#tileslayouthowtouse"><span>How to use</span></a>.</p>
</li>
<li><p class="first">menu.jsp</p>
</li>
</ul>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/staff/create?form&quot;</span><span class="nt">&gt;</span>Create Staff Information<span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/staff/search&quot;</span><span class="nt">&gt;</span>Search Staff Information<span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>searchStaff.jsp (example of body section)</li>
</ul>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span class="nt">&lt;h2&gt;</span>Search Staff Information<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span>Staff First Name<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span>Staff Family Name<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">rowspan=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>Staff Authorities<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;01&quot;</span> <span class="nt">/&gt;</span> Staff
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;02&quot;</span> <span class="nt">/&gt;</span> Master
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;03&quot;</span> <span class="nt">/&gt;</span> Stock
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;04&quot;</span> <span class="nt">/&gt;</span> Order
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;sa&quot;</span> <span class="na">value=</span><span class="s">&quot;05&quot;</span> <span class="nt">/&gt;</span> Show Shopping
            Management<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Search&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p class="first">footer.jsp</p>
<p>Same as <a class="reference internal" href="#tileslayouthowtouse"><span>How to use</span></a>.</p>
</li>
</ul>
<p><strong>Creating Controller</strong></p>
<p>While creating Controller, if the request is <code class="docutils literal"><span class="pre">&lt;contextPath&gt;/staff/search</span></code>, set such that
&#8220;staff/searchStaff&#8221; is returned from the Controller.</p>
<ul class="simple">
<li>StaffSearchController.java</li>
</ul>
<blockquote>
<div><div class="highlight-java"><div class="highlight"><pre><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;search&quot;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">createForm</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&quot;staff/searchStaff&quot;</span><span class="o">;</span> <span class="c1">// (1)</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">With staff as {1} and searchStaff as {2}, fetch the title name from properties and identify the JSP.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Creating screen</strong></p>
<p>When <code class="docutils literal"><span class="pre">&lt;contextPath&gt;/staff/search</span></code> is called in request,
screen is generated through another layout as shown below.</p>
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;layoutsOfSearch&quot;</span>
    <span class="na">template=</span><span class="s">&quot;/WEB-INF/views/layout/templateSearch.jsp&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (1) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;header&quot;</span>
        <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/header.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (2) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;menu&quot;</span>
        <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/menu.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (3) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;footer&quot;</span>
        <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/layout/footer.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (4) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>

<span class="nt">&lt;definition</span> <span class="na">name=</span><span class="s">&quot;*/search*&quot;</span> <span class="na">extends=</span><span class="s">&quot;layoutsOfSearch&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- (5) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;title.{1}.search{2}&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (6) --&gt;</span>
    <span class="nt">&lt;put-attribute</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span> <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/{1}/search{2}.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- (7) --&gt;</span>
<span class="nt">&lt;/definition&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Sr. No.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">In case of a corresponding request, &#8220;layoutsOfSearch&#8221; which is a parent layout is called and template is set in /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">WEB-INF/views/layout/header.jsp is set in <code class="docutils literal"><span class="pre">header</span></code> within the template /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">/WEB-INF/views/layout/menu.jsp is set in <code class="docutils literal"><span class="pre">menu</span></code> within the template /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">/WEB-INF/views/layout/footer.jsp is set in <code class="docutils literal"><span class="pre">footer</span></code> within the template /WEB-INF/views/layout/templateSearch.jsp.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">This layout definition is read when the request corresponds to &lt;contextPath&gt;/*/search*.</div>
<div class="line">In that case, &#8220;layoutsOfSearch&#8221;  which is a parent layout is also read.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">With <code class="docutils literal"><span class="pre">title.staff.searchStaff</span></code> as key, fetch the value from properties incorporated in spring-mvc, where staff is {1} and searchStaff is &#8220;search{2}&#8221;.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(7)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">/WEB-INF/views/staff/searchStaff.jsp is set in <code class="docutils literal"><span class="pre">body</span></code> within the template/WEB-INF/views/layout/templateSearch.jsp where staff is {1} and searchStaff is &#8220;search{2}&#8221;.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>As a result, it is output to the browser by combining header.jsp, menu.jsp, searchStaff.jsp and footer.jsp in the above templateSearch.jsp file.</p>
<blockquote>
<div><div class="figure align-center">
<a class="reference internal image-reference" href="../_images/tiles_result2.png"><img alt="tiles result another template" src="../_images/tiles_result2.png" style="width: 100%;" /></a>
</div>
</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="SystemDate.html" title="5.20. System Date"
             >next</a> |</li>
        <li class="right" >
          <a href="FileDownload.html" title="5.18. File Download"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.2.RELEASE documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Architecture in Detail - TERASOLUNA Server Framework for Java (5.x)</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013-2016, NTT DATA.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.4.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>