<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>7.3. 日付操作(JSR-310 Date and Time API) &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.10.0.RELEASE documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/solar.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/tabs.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.4. システム時刻" href="SystemDate.html" />
    <link rel="prev" title="7.2. プロパティ管理" href="PropertyManagement.html" /><script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../../_static/solarized-dark.css" rel="stylesheet">
<link href="../../_static/jquery.treeview.css" rel="stylesheet">
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="SystemDate.html" title="7.4. システム時刻"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="PropertyManagement.html" title="7.2. プロパティ管理"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.10.0.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">7. </span>アプリケーション形態に依存しない汎用機能</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">7.3. </span>日付操作(JSR-310 Date and Time API)</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox"> scroll sidebar</label>
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">7.3. 日付操作(JSR-310 Date and Time API)</a><ul>
<li><a class="reference internal" href="#overview">7.3.1. Overview</a></li>
<li><a class="reference internal" href="#how-to-use">7.3.2. How to use</a><ul>
<li><a class="reference internal" href="#id2">7.3.2.1. 日時取得</a><ul>
<li><a class="reference internal" href="#id3">7.3.2.1.1. 現在日時で取得</a></li>
<li><a class="reference internal" href="#id4">7.3.2.1.2. 指定日時でオブジェクトを取得</a></li>
<li><a class="reference internal" href="#id5">7.3.2.1.3. タイムゾーンを指定する場合の日時取得</a></li>
<li><a class="reference internal" href="#id6">7.3.2.1.4. クロックを指定する場合の日時取得</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">7.3.2.2. 期間</a><ul>
<li><a class="reference internal" href="#id8">7.3.2.2.1. 期間の取得</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">7.3.2.3. 型変換</a><ul>
<li><a class="reference internal" href="#date-and-time-api">7.3.2.3.1. Date and Time APIの各クラスの相互運用性</a></li>
<li><a class="reference internal" href="#java-util-date">7.3.2.3.2. java.util.Dateとの相互運用性</a></li>
<li><a class="reference internal" href="#java-sql">7.3.2.3.3. java.sql パッケージとの相互運用性</a></li>
<li><a class="reference internal" href="#id11">7.3.2.3.4. 文字列へのフォーマット</a></li>
<li><a class="reference internal" href="#id12">7.3.2.3.5. 文字列からのパース</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">7.3.2.4. 日付操作</a><ul>
<li><a class="reference internal" href="#id14">7.3.2.4.1. 日時の計算</a></li>
<li><a class="reference internal" href="#id15">7.3.2.4.2. 日時の比較</a></li>
<li><a class="reference internal" href="#id16">7.3.2.4.3. 日時の判定</a></li>
<li><a class="reference internal" href="#id17">7.3.2.4.4. 年月日等の個別取得</a></li>
</ul>
</li>
<li><a class="reference internal" href="#japanesedate">7.3.2.5. 和暦（JapaneseDate）</a><ul>
<li><a class="reference internal" href="#id19">7.3.2.5.1. 和暦の取得</a></li>
<li><a class="reference internal" href="#id20">7.3.2.5.2. 文字列へのフォーマット</a></li>
<li><a class="reference internal" href="#id21">7.3.2.5.3. 文字列からのパース</a></li>
<li><a class="reference internal" href="#id22">7.3.2.5.4. 西暦・和暦の変換</a></li>
</ul>
</li>
<li><a class="reference internal" href="#jsp-tag-library">7.3.2.6. JSP Tag Library</a><ul>
<li><a class="reference internal" href="#id23">7.3.2.6.1. 設定方法</a></li>
<li><a class="reference internal" href="#javatime-formate">7.3.2.6.2. javatime:formateタグ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#thymeleaf">7.3.2.7. Thymeleafのダイアレクト</a><ul>
<li><a class="reference internal" href="#view">7.3.2.7.1. Viewの実装</a></li>
<li><a class="reference internal" href="#temporals">7.3.2.7.2. #temporalsのメソッド</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="PropertyManagement.html"
                          title="previous chapter"><span class="section-number">7.2. </span>プロパティ管理</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="SystemDate.html"
                          title="next chapter"><span class="section-number">7.4. </span>システム時刻</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ArchitectureInDetail/GeneralFuncDetail/DateAndTime.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="jsr-310-date-and-time-api">
<h1><span class="section-number">7.3. </span>日付操作(JSR-310 Date and Time API)<a class="headerlink" href="#jsr-310-date-and-time-api" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="id1">
<p class="topic-title">目次</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id28">Overview</a></p></li>
<li><p><a class="reference internal" href="#how-to-use" id="id29">How to use</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id30">日時取得</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id31">現在日時で取得</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id32">指定日時でオブジェクトを取得</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id33">タイムゾーンを指定する場合の日時取得</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id34">クロックを指定する場合の日時取得</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id7" id="id35">期間</a></p>
<ul>
<li><p><a class="reference internal" href="#id8" id="id36">期間の取得</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id9" id="id37">型変換</a></p>
<ul>
<li><p><a class="reference internal" href="#date-and-time-api" id="id38">Date and Time APIの各クラスの相互運用性</a></p></li>
<li><p><a class="reference internal" href="#java-util-date" id="id39">java.util.Dateとの相互運用性</a></p></li>
<li><p><a class="reference internal" href="#java-sql" id="id40">java.sql パッケージとの相互運用性</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id41">文字列へのフォーマット</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id42">文字列からのパース</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id13" id="id43">日付操作</a></p>
<ul>
<li><p><a class="reference internal" href="#id14" id="id44">日時の計算</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id45">日時の比較</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id46">日時の判定</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id47">年月日等の個別取得</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#japanesedate" id="id48">和暦（JapaneseDate）</a></p>
<ul>
<li><p><a class="reference internal" href="#id19" id="id49">和暦の取得</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id50">文字列へのフォーマット</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id51">文字列からのパース</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id52">西暦・和暦の変換</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#jsp-tag-library" id="id53">JSP Tag Library</a></p>
<ul>
<li><p><a class="reference internal" href="#id23" id="id54">設定方法</a></p></li>
<li><p><a class="reference internal" href="#javatime-formate" id="id55">javatime:formateタグ</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#thymeleaf" id="id56">Thymeleafのダイアレクト</a></p>
<ul>
<li><p><a class="reference internal" href="#view" id="id57">Viewの実装</a></p></li>
<li><p><a class="reference internal" href="#temporals" id="id58">#temporalsのメソッド</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="overview">
<h2><a class="toc-backref" href="#id28" role="doc-backlink"><span class="section-number">7.3.1. </span>Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line">本ガイドラインでは、<code class="docutils literal notranslate"><span class="pre">java.util.Date</span></code>,<code class="docutils literal notranslate"><span class="pre">java.util.Calendar</span></code>に比べて、様々な日時計算が提供されている JSR-310 Date and Time API の使用を推奨する。</div>
<div class="line"><br /></div>
</div>
</section>
<section id="how-to-use">
<h2><a class="toc-backref" href="#id29" role="doc-backlink"><span class="section-number">7.3.2. </span>How to use</a><a class="headerlink" href="#how-to-use" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line">Date and Time APIでは、日付のみ扱うクラス、時刻のみ扱うクラスなど、用途に応じた様々なクラスが提供されている。</div>
<div class="line">本ガイドラインでは、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>を中心に説明を進めるが、主要な日時操作については各クラスで提供されるメソッドの接頭辞が同一であるため、適時クラス名を置き換えて解釈されたい。</div>
<div class="line">主に使われるクラスとメソッドを示す。</div>
<div class="line"><br /></div>
<div class="line"><strong>日時を扱う主なクラス</strong></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 35.0%" />
<col style="width: 35.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>クラス名</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>主なファクトリメソッド</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html">java.time.LocalDate</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html">java.time.LocalTime</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html">java.time.LocalDateTime</a></div>
</div>
</td>
<td><p>タイムゾーン・時差の情報を持たない日付・時刻の操作を行うクラス</p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">now</span></code> : 現在日時で生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">of</span></code> : 任意日時で生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parse</span></code> : 日時文字列から生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">from</span></code> : 日時情報を持つ他オブジェクトから生成</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetTime.html">java.time.OffsetTime</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html">java.time.OffsetDateTime</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html">java.time.ZonedDateTime</a></div>
</div>
</td>
<td><p>タイムゾーン・時差を考慮した日付・時刻の操作を行うクラス</p></td>
<td><p>同上</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/JapaneseDate.html">java.time.chrono.JapaneseDate</a></div>
</div>
</td>
<td><p>和暦の操作を行うクラス</p></td>
<td><p>同上</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><strong>期間の情報を扱う主なクラス</strong></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 35.0%" />
<col style="width: 35.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>クラス名</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>主なファクトリメソッド</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html">java.time.Period</a></div>
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">java.time.Duration</a></div>
</div>
</td>
<td><p>日時ベース、時間ベースの期間を扱うクラス</p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">between</span></code> : 日時情報を持つ2つのオブジェクトの差から生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">from</span></code> : 時間量を持つ他オブジェクトから生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">of</span></code> : 任意期間で生成</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><strong>クロックを扱う主なクラス</strong></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 35.0%" />
<col style="width: 35.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>クラス名</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>主なファクトリメソッド</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html">java.time.Clock</a></div>
</div>
</td>
<td><p>タイムゾーンを使用して現在の時刻、日付、時刻へのアクセスを提供するクラス</p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">fixed</span></code> : 常に同じ瞬間を返すClockを生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">tick</span></code> : 指定した瞬間からの変動時刻を返すClockを生成</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">instant</span></code> : タイムスタンプを取得</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><strong>フォーマットを扱うクラス</strong></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 35.0%" />
<col style="width: 35.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>クラス名</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>主なファクトリメソッド</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html">java.time.format.DateTimeFormatter</a></div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時のフォーマットに関する操作を行うクラス</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">ofPattern</span></code> : 指定されたパターンでフォーマッタを生成</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>本ガイドラインで触れなかった内容を含め、詳細は<a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html">Javadoc</a>を参照されたい。</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Date and Time APIのクラスは、immutableである(日時計算等の結果は新規オブジェクトが返却されており、計算元オブジェクトに変化はない)。</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Java SE 17のロケールデータはCLDRがデフォルトとなる。(<a class="reference external" href="https://openjdk.org/jeps/252">JEP 252</a>参照。)</p>
<p>Java SE 8以前のロケールデータ(COMPAT)に切り替えたい場合は<a class="reference internal" href="../../Appendix/Java17Settings.html#change-default-locale-data-from-java9"><span class="std std-ref">デフォルトで使用されるロケール・データの変更</span></a>を参照されたい。</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">各クラス・メソッドの具体的な利用方法を、以下で説明する。</div>
<div class="line"><br /></div>
</div>
<section id="id2">
<h3><a class="toc-backref" href="#id30" role="doc-backlink"><span class="section-number">7.3.2.1. </span>日時取得</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<section id="id3">
<h4><a class="toc-backref" href="#id31" role="doc-backlink"><span class="section-number">7.3.2.1.1. </span>現在日時で取得</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">利用用途に合わせて<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>を使い分けること。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p>時刻のみ取得したい場合は<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>を使用する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">now</span><span class="p">(</span><span class="n">clock</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>日付のみ取得したい場合は<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>を使用する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">(</span><span class="n">clock</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>日付・時刻を取得したい場合は<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>を使用する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">(</span><span class="n">clock</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id4">
<h4><a class="toc-backref" href="#id32" role="doc-backlink"><span class="section-number">7.3.2.1.2. </span>指定日時でオブジェクトを取得</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">ofメソッドを使うことで特定の日時を指定することができる。以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p>時刻を指定して<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>を取得する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// 23:30:59</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">59</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>日付を指定して<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>を取得する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// 2015/12/25</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>日付・時刻）を指定して<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>を取得する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// 2015/12/25 23:30:59</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">59</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">また、<code class="docutils literal notranslate"><span class="pre">java.time.temporal.TemporalAdjusters</span></code>を使うことで様々な日時を取得することができる。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// LeapYear(2012/2)</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Last day of month(2012/2/29)</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate1</span><span class="p">.</span><span class="na">with</span><span class="p">(</span><span class="n">TemporalAdjusters</span><span class="p">.</span><span class="na">lastDayOfMonth</span><span class="p">());</span>

<span class="c1">// Next monday（2012/2/6）</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate1</span><span class="p">.</span><span class="na">with</span><span class="p">(</span><span class="n">TemporalAdjusters</span><span class="p">.</span><span class="na">next</span><span class="p">(</span><span class="n">DayOfWeek</span><span class="p">.</span><span class="na">MONDAY</span><span class="p">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id5">
<h4><a class="toc-backref" href="#id33" role="doc-backlink"><span class="section-number">7.3.2.1.3. </span>タイムゾーンを指定する場合の日時取得</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">国際的なアプリケーションを作成する場合、タイムゾーンを意識した設計を行う場合がある。</div>
<div class="line">Date and Time APIでは、利用用途に合わせて、<code class="docutils literal notranslate"><span class="pre">java.time.OffsetTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code>を使い分けること。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p>時刻 + UTCとの時差を取得したい場合は、<code class="docutils literal notranslate"><span class="pre">java.time.OffsetTime</span></code>を使用する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span><span class="w"> </span><span class="n">offsetTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">OffsetTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>日付・時刻 + UTCとの時差を取得したい場合は<code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>を使用する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span><span class="w"> </span><span class="n">offsetDateTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">OffsetDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>日付・時刻 + UTCとの時差・地域を取得したい場合は<code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code>を使用する。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00[Asia/Tokyo]</span>
<span class="n">ZonedDateTime</span><span class="w"> </span><span class="n">zonedDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line">これらのメソッドでは全て、タイムゾーンを表す<code class="docutils literal notranslate"><span class="pre">java.time.ZoneId</span></code>を引数に設定することで、タイムゾーンを考慮した現在日時が取得できる。</div>
<div class="line">以下に<code class="docutils literal notranslate"><span class="pre">java.time.ZoneId</span></code>の例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ZoneId</span><span class="w"> </span><span class="n">zoneIdTokyo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ZoneId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="p">);</span>
<span class="n">OffsetTime</span><span class="w"> </span><span class="n">offsetTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">OffsetTime</span><span class="p">.</span><span class="na">now</span><span class="p">(</span><span class="n">zoneIdTokyo</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">なお、<code class="docutils literal notranslate"><span class="pre">java.time.ZoneId</span></code>は地域名/地名形式で定義する方法や、UTCからの時差で定義する方法がある。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ZoneId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="p">);</span>
<span class="n">ZoneId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;UTC+01:00&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>,<code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code>の2クラスは用途が似ているが、具体的には以下のような違いがある。</div>
<div class="line">作成するシステムの特性に応じて適切なクラスを選択されたい。</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>クラス名</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code></div>
</div>
</td>
<td><p>定量値（時差のみ）を持つため、各地域の時間の概念に変化がある場合も、システムに変化が起こらない。</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code></div>
</div>
</td>
<td><p>時差に加えて地域の概念があるため、各地域の時間の概念に変化があった場合、システムに変化が起こる。（政策としてサマータイム導入される場合など）</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id6">
<h4><a class="toc-backref" href="#id34" role="doc-backlink"><span class="section-number">7.3.2.1.4. </span>クロックを指定する場合の日時取得</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">Clockの取得に関しては<a class="reference internal" href="SystemDate.html"><span class="doc">システム時刻</span></a>を参照されたい。</div>
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id35" role="doc-backlink"><span class="section-number">7.3.2.2. </span>期間</a><a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<section id="id8">
<h4><a class="toc-backref" href="#id36" role="doc-backlink"><span class="section-number">7.3.2.2.1. </span>期間の取得</a><a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">日付ベースの期間を扱う場合は、<code class="docutils literal notranslate"><span class="pre">java.time.Period</span></code>、時間ベースの期間を扱う場合は、<code class="docutils literal notranslate"><span class="pre">java.time.Duration</span></code>を使用する。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.Duration</span></code>で表される1日は厳密に24時間であるため、サマータイムの変化が解釈されずに想定通りの結果にならない可能性がある。</div>
<div class="line">対して、<code class="docutils literal notranslate"><span class="pre">java.time.Period</span></code>はサマータイムなどの概念を考慮した1日を表すため、サマータイムを扱うシステムであっても誤差は生じない。</div>
<div class="line">以下に例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span><span class="w"> </span><span class="mo">01</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">date2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="w"> </span><span class="mo">03</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">time1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">time2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">53</span><span class="p">);</span>

<span class="c1">// One year, two months and three days.</span>
<span class="n">Period</span><span class="w"> </span><span class="n">pd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Period</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">date1</span><span class="p">,</span><span class="w"> </span><span class="n">date2</span><span class="p">);</span>

<span class="c1">// One hour, two minutes and three seconds.</span>
<span class="n">Duration</span><span class="w"> </span><span class="n">dn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">time1</span><span class="p">,</span><span class="w"> </span><span class="n">time2</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">of</span></code>メソッドを利用して、期間を指定して生成する方法もある。詳細は<a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html">Period, DurationのJavadoc</a>を参照されたい。</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="id9">
<h3><a class="toc-backref" href="#id37" role="doc-backlink"><span class="section-number">7.3.2.3. </span>型変換</a><a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<section id="date-and-time-api">
<span id="dateandtime-interconversion"></span><h4><a class="toc-backref" href="#id38" role="doc-backlink"><span class="section-number">7.3.2.3.1. </span>Date and Time APIの各クラスの相互運用性</a><a class="headerlink" href="#date-and-time-api" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>はそれぞれ容易に変換が可能である。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex. 12:10:30</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 2015-12-25 12:10:30</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">atDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex. 2012-12-25</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 2015-12-25 12:10:30</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">atTime</span><span class="p">(</span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>,<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex. 2015-12-25 12:10:30</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 12:10:30</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">localDateTime</span><span class="p">.</span><span class="na">toLocalTime</span><span class="p">();</span>

<span class="c1">// 2012-12-25</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">localDateTime</span><span class="p">.</span><span class="na">toLocalDate</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">同様に、<code class="docutils literal notranslate"><span class="pre">java.time.OffsetTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code>もそれぞれ容易に変換が可能である。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.OffsetTime</span></code>から、<code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span><span class="w"> </span><span class="n">offsetTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">OffsetTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span><span class="w"> </span><span class="n">offsetDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">offsetTime</span><span class="p">.</span><span class="na">atDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span><span class="w"> </span><span class="n">offsetDateTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">OffsetDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 2015-12-25T12:30:11.567+09:00[Asia/Tokyo]</span>
<span class="n">ZonedDateTime</span><span class="w"> </span><span class="n">zonedDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">offsetDateTime</span><span class="p">.</span><span class="na">atZoneSameInstant</span><span class="p">(</span><span class="n">ZoneId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.ZonedDateTime</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.OffsetDateTime</span></code>,<code class="docutils literal notranslate"><span class="pre">java.time.OffsetTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 2015-12-25T12:30:11.567+09:00[Asia/Tokyo]</span>
<span class="n">ZonedDateTime</span><span class="w"> </span><span class="n">zonedDateTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">ZonedDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 2015-12-25T12:30:11.567+09:00</span>
<span class="n">OffsetDateTime</span><span class="w"> </span><span class="n">offsetDateTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">zonedDateTime</span><span class="p">.</span><span class="na">toOffsetDateTime</span><span class="p">();</span>

<span class="c1">// 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span><span class="w"> </span><span class="n">offsetTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">zonedDateTime</span><span class="p">.</span><span class="na">toOffsetDateTime</span><span class="p">().</span><span class="na">toOffsetTime</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">また、時差情報を加えることで、<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>を<code class="docutils literal notranslate"><span class="pre">java.time.OffsetTime</span></code>に変換することも可能である。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Ex, 12:30:11.567</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="c1">// 12:30:11.567+09:00</span>
<span class="n">OffsetTime</span><span class="w"> </span><span class="n">offsetTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">atOffset</span><span class="p">(</span><span class="n">ZoneOffset</span><span class="p">.</span><span class="na">ofHours</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">この他についても、不足している情報（<code class="docutils literal notranslate"><span class="pre">LocalTime</span></code>から<code class="docutils literal notranslate"><span class="pre">LocalDateTime</span></code>の変換であれば日付の情報が不足している の要領）を加えることで別のクラスへ変換が可能である。</div>
<div class="line">変換メソッドは接頭辞が<code class="docutils literal notranslate"><span class="pre">at</span></code>または<code class="docutils literal notranslate"><span class="pre">to</span></code>で始まる。詳細は<a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html">各クラスのJavadoc</a>を参照されたい。</div>
<div class="line"><br /></div>
</div>
</section>
<section id="java-util-date">
<h4><a class="toc-backref" href="#id39" role="doc-backlink"><span class="section-number">7.3.2.3.2. </span>java.util.Dateとの相互運用性</a><a class="headerlink" href="#java-util-date" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>等のクラスは、<code class="docutils literal notranslate"><span class="pre">java.time.Instant</span></code>に変換したうえで<code class="docutils literal notranslate"><span class="pre">java.util.Date</span></code>に変換することが可能である。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>から、<code class="docutils literal notranslate"><span class="pre">java.util.Date</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">Instant</span><span class="w"> </span><span class="n">instant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">.</span><span class="na">toInstant</span><span class="p">(</span><span class="n">ZoneOffset</span><span class="p">.</span><span class="na">ofHours</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span>
<span class="n">Date</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">instant</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>はInstantを持っていないため、一度<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>に変換する必要がある。</p>
<p>変換方法は<a class="reference internal" href="#dateandtime-interconversion"><span class="std std-ref">Date and Time APIの各クラスの相互運用性</span></a>を参照されたい。</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">java.util.Date</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Date</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">();</span>
<span class="n">Instant</span><span class="w"> </span><span class="n">instant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">date</span><span class="p">.</span><span class="na">toInstant</span><span class="p">();</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">ofInstant</span><span class="p">(</span><span class="n">instant</span><span class="p">,</span><span class="w"> </span><span class="n">ZoneId</span><span class="p">.</span><span class="na">systemDefault</span><span class="p">());</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="java-sql">
<h4><a class="toc-backref" href="#id40" role="doc-backlink"><span class="section-number">7.3.2.3.3. </span>java.sql パッケージとの相互運用性</a><a class="headerlink" href="#java-sql" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.sql</span></code>パッケージのクラスは、<code class="docutils literal notranslate"><span class="pre">java.time.Instant</span></code>に変換せずに<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>等のクラスと相互変換が可能である。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">java.sql.Date</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Date</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Date</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">());</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">date</span><span class="p">.</span><span class="na">toLocalDate</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>から<code class="docutils literal notranslate"><span class="pre">java.sql.Date</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Date</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">localDate</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p><code class="docutils literal notranslate"><span class="pre">java.sql.Time</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Time</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Time</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">());</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">.</span><span class="na">toLocalTime</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalTime</span></code>から<code class="docutils literal notranslate"><span class="pre">java.sql.Time</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Time</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Time</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">localTime</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p><code class="docutils literal notranslate"><span class="pre">java.sql.Timestamp</span></code>から<code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Timestamp</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Timestamp</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">());</span>
<span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">timestamp</span><span class="p">.</span><span class="na">toLocalDateTime</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p><code class="docutils literal notranslate"><span class="pre">java.time.LocalDateTime</span></code>から<code class="docutils literal notranslate"><span class="pre">java.sql.Timestamp</span></code>への変換。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Timestamp</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">java</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">Timestamp</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">localDateTime</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id11">
<h4><a class="toc-backref" href="#id41" role="doc-backlink"><span class="section-number">7.3.2.3.4. </span>文字列へのフォーマット</a><a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">日時情報を持つオブジェクトを文字列に変換するには、<code class="docutils literal notranslate"><span class="pre">toString</span></code>メソッドを使用する方法と、<code class="docutils literal notranslate"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>を使用する方法がある。</div>
<div class="line">任意の日時文字列で出力したい場合は、<code class="docutils literal notranslate"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>を使用し様々な日時文字列へ変換することが出来る。</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>は、事前定義されたISOパターンのフォーマッタを利用する方法と、任意のパターンのフォーマットを定義して利用する方法がある。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">BASIC_ISO_DATE</span><span class="p">;</span>

<span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;G uuuu/MM/dd E&quot;</span><span class="p">)</span>
<span class="w">                                          </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                                          </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">その際、文字列の形式の他に<code class="docutils literal notranslate"><span class="pre">Locale</span></code>と<code class="docutils literal notranslate"><span class="pre">ResolverStyle</span></code>（厳密性）を定義できる。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Locale</span></code>のデフォルト値はシステムによって変化するため、初期化時に設定することが望ましい。</div>
<div class="line">また、<code class="docutils literal notranslate"><span class="pre">ResolverStyle</span></code>（厳密性）は<code class="docutils literal notranslate"><span class="pre">ofPattern</span></code>メソッドを使う場合、デフォルトで<code class="docutils literal notranslate"><span class="pre">ResolverStyle.SMART</span></code>が設定されるが、本ガイドラインでは予期せぬ挙動が起こらないよう、厳密に日付を解釈する<code class="docutils literal notranslate"><span class="pre">ResolverStyle.STRICT</span></code>の設定を推奨している。（ISOパターンのフォーマッタを利用する場合は<code class="docutils literal notranslate"><span class="pre">ResolverStyle.STRICT</span></code>が設定されている)</div>
<div class="line"><br /></div>
<div class="line">なお、Date and Time API では書式<code class="docutils literal notranslate"><span class="pre">yyyy</span></code>は暦に対する年を表すため、暦によって解釈が異なる(西暦なら2015と解釈されるが、和暦なら0027と解釈される）。</div>
<div class="line">西暦を表したい場合は、<code class="docutils literal notranslate"><span class="pre">yyyy</span></code>形式に変えて<code class="docutils literal notranslate"><span class="pre">uuuu</span></code>形式を利用することを推奨する。</div>
<div class="line">定義されている書式一覧は<a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns">DateTimeFormatter</a>を参照されたい。</div>
<div class="line"><br /></div>
<div class="line">以下に例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">BASIC_ISO_DATE</span><span class="p">;</span>

<span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;G uuuu/MM/dd E&quot;</span><span class="p">)</span>
<span class="w">                                          </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                                          </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);</span>

<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>

<span class="c1">// &quot;2015-12-25&quot;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">localDate1</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
<span class="c1">// &quot;20151225&quot;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">formatter1</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">localDate1</span><span class="p">));</span>
<span class="c1">// &quot;西暦 2015/12/25 金&quot;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">formatter2</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">localDate1</span><span class="p">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">また、これらの文字列をThymeleafの画面上に表示したい場合、</div>
<div class="line">ThymeleafではDate and Time APIをサポートしたダイアレクト（Java8 Time Dialect）を標準機能として提供している。</div>
<div class="line">詳細は、 <a class="reference internal" href="#dateandtimethymeleafdialect"><span class="std std-ref">Thymeleafのダイアレクト</span></a> を参照されたい。</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-VGh5bWVsZWFm" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VGh5bWVsZWFm" name="VGh5bWVsZWFm" role="tab" tabindex="0">Thymeleaf</button></div><div aria-labelledby="tab-0-VGh5bWVsZWFm" class="sphinx-tabs-panel group-tab" id="panel-0-VGh5bWVsZWFm" name="VGh5bWVsZWFm" role="tabpanel" tabindex="0"><p><strong>Controllerクラス</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HomeController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">RequestMethod</span><span class="p">.</span><span class="na">GET</span><span class="p">,</span><span class="w"> </span><span class="n">RequestMethod</span><span class="p">.</span><span class="na">POST</span><span class="p">})</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">home</span><span class="p">(</span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">Locale</span><span class="w"> </span><span class="n">locale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">dateFormatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;uuuu/MM/dd&quot;</span><span class="p">)</span>
<span class="w">                                          </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">locale</span><span class="p">)</span>
<span class="w">                                          </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);</span>

<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="w">        </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;currentDate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">localDate1</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
<span class="w">        </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;formattedCurrentDateString&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dateFormatter</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">localDate1</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// omitted</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>ThymeleafのテンプレートHTML</strong></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span> <span class="na">th:text</span><span class="o">=</span><span class="s">&quot;|currentDate = ${currentDate}|&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span> <span class="na">th:text</span><span class="o">=</span><span class="s">&quot;|formattedCurrentDateString = ${formattedCurrentDateString}|&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
</div></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Java SE 11ではJava SE 8と日付の文字列表現が異なる場合がある。
Java SE 8と同様に表現するには<a class="reference internal" href="../../Appendix/Java17Settings.html#change-default-locale-data-from-java9"><span class="std std-ref">デフォルトで使用されるロケール・データの変更</span></a>を参照されたい。</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id12">
<h4><a class="toc-backref" href="#id42" role="doc-backlink"><span class="section-number">7.3.2.3.5. </span>文字列からのパース</a><a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">文字列への変換と同様に、<code class="docutils literal notranslate"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>を用いることで、様々な日付文字列をDate and Time APIのクラスへ変換することが出来る。</div>
<div class="line">以下に例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;uuuu/MM/dd&quot;</span><span class="p">)</span>
<span class="w">                                           </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                                           </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);</span>

<span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;HH:mm:ss&quot;</span><span class="p">)</span>
<span class="w">                                           </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                                           </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);</span>

<span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;2015/12/25&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">formatter1</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;14:09:20&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">formatter2</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="id13">
<h3><a class="toc-backref" href="#id43" role="doc-backlink"><span class="section-number">7.3.2.4. </span>日付操作</a><a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Date and Time APIでは、日時の計算や比較などを容易に行うことが出来る。</div>
<div class="line">以下に例を示す。</div>
<div class="line"><br /></div>
</div>
<section id="id14">
<h4><a class="toc-backref" href="#id44" role="doc-backlink"><span class="section-number">7.3.2.4.1. </span>日時の計算</a><a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">日時の計算をするために<code class="docutils literal notranslate"><span class="pre">plus</span></code>メソッドと<code class="docutils literal notranslate"><span class="pre">minus</span></code>メソッドが提供されている。</div>
</div>
<ol class="arabic simple">
<li><p>時間の計算を行う場合の例。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">plusHoursTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">plusHours</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">plusMinutesTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">plusMinutes</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">minusSecondsTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">minusSeconds</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>日付の計算を行う場合の例。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">plusYearsDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">plusYears</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">minusMonthsTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">minusMonths</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">plusDaysTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">plusDays</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id15">
<h4><a class="toc-backref" href="#id45" role="doc-backlink"><span class="section-number">7.3.2.4.2. </span>日時の比較</a><a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">Date and Time APIでは、過去・未来・同時などの時系列の比較が行える。</div>
<div class="line">以下に例を示す。</div>
</div>
<ol class="arabic simple">
<li><p>時間の比較を行う場合の例。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalTime</span><span class="w"> </span><span class="n">morning</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mo">00</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">daytime</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mo">00</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">evening</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mo">00</span><span class="p">);</span>

<span class="n">daytime</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">morning</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>
<span class="n">morning</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">evening</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="n">evening</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mo">00</span><span class="p">));</span><span class="w"> </span><span class="c1">// true</span>

<span class="n">daytime</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">daytime</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>
<span class="n">morning</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">morning</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>日付の比較を行う場合の例。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">june</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">july</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="n">may</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">june</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="n">june</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">july</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>
<span class="n">july</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">may</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>

<span class="n">may</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">may</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>
<span class="n">june</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">june</span><span class="p">);</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">なお、Date and Time APIの標準機能では期間を取得するAPI(<a class="reference external" href="https://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html">JodaTimeのInterval</a>に相当するAPI)は存在しない。</div>
<div class="line"><br /></div>
</div>
</section>
<section id="id16">
<h4><a class="toc-backref" href="#id46" role="doc-backlink"><span class="section-number">7.3.2.4.3. </span>日時の判定</a><a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">以下に日時の判定の例を示す。</div>
</div>
<ol class="arabic simple">
<li><p>妥当な日時文字列かを判定したい場合、<code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeParseException</span></code>の発生有無で判定できる。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">String</span><span class="w"> </span><span class="n">strDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aabbcc&quot;</span><span class="p">;</span>
<span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">timeFormatter</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;HHmmss&quot;</span><span class="p">)</span>
<span class="w">                              </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                              </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);;</span>

<span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">dateFormatter</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;uuMMdd&quot;</span><span class="p">)</span>
<span class="w">                              </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                              </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">);;</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// DateTimeParseException</span>
<span class="w">    </span><span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="n">strDateTime</span><span class="p">,</span><span class="w"> </span><span class="n">timeFormatter</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">DateTimeParseException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Invalid time string !!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// DateTimeParseException</span>
<span class="w">    </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="n">strDateTime</span><span class="p">,</span><span class="w"> </span><span class="n">dateFormatter</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">DateTimeParseException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Invalid date string !!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>うるう年かを判定したい場合、<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>の<code class="docutils literal notranslate"><span class="pre">isLeapYear</span></code>メソッドで判定できる。</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">LocalDate</span><span class="w"> </span><span class="n">date2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="n">date1</span><span class="p">.</span><span class="na">isLeapYear</span><span class="p">();</span><span class="w"> </span><span class="c1">// true</span>
<span class="n">date2</span><span class="p">.</span><span class="na">isLeapYear</span><span class="p">();</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id17">
<h4><a class="toc-backref" href="#id47" role="doc-backlink"><span class="section-number">7.3.2.4.4. </span>年月日等の個別取得</a><a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">年、月などをそれぞれ取得したい場合は、<code class="docutils literal notranslate"><span class="pre">get</span></code>メソッドを利用する。</div>
<div class="line">以下に日付に関する情報を取得する例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">LocalTime</span><span class="w"> </span><span class="n">localTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalTime</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">123456789</span><span class="p">);</span>

<span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">getYear</span><span class="p">();</span><span class="w"> </span><span class="c1">// (1)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">getMonthValue</span><span class="p">();</span><span class="w"> </span><span class="c1">// (2)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">dayOfMonth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">getDayOfMonth</span><span class="p">();</span><span class="w"> </span><span class="c1">// (3)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">dayOfYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">getDayOfYear</span><span class="p">();</span><span class="w"> </span><span class="c1">// (4)</span>
<span class="n">DayOfWeek</span><span class="w"> </span><span class="n">week</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDate</span><span class="p">.</span><span class="na">getDayOfWeek</span><span class="p">();</span><span class="w"> </span><span class="c1">// (5)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">weekValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">week</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span><span class="w"> </span><span class="c1">// (5)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">getHour</span><span class="p">();</span><span class="w"> </span><span class="c1">// (6)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">getMinute</span><span class="p">();</span><span class="w"> </span><span class="c1">// (7)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">getSecond</span><span class="p">();</span><span class="w"> </span><span class="c1">// (8)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localTime</span><span class="p">.</span><span class="na">getNano</span><span class="p">();</span><span class="w"> </span><span class="c1">// (9)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 90.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項番</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">年を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">2015</span></code>が返却される。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">月を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">2</span></code>が返却される。</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">java.util.Calendar</span></code>の仕様とは異なり、<code class="docutils literal notranslate"><span class="pre">java.time.Month</span></code>は”<code class="docutils literal notranslate"><span class="pre">1</span></code>“始まりである。</p>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">月初からの日数を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">3</span></code>が返却される。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">元日からの日数を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">34</span></code>が返却される。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">曜日を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">TUESDAY</span></code>(<code class="docutils literal notranslate"><span class="pre">getValue</span></code>では<code class="docutils literal notranslate"><span class="pre">2</span></code>)が返却される。</div>
<div class="line">返却される値と曜日の対応は、[1:MONDAY、2:TUESDAY、3:WEDNESDAY、4:THURSDAY、5:FRIDAY、6:SATURDAY、7:SUNDAY]となる。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">時を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">2</span></code>が返却される。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(7)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">分を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">30</span></code>が返却される。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(8)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">秒を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">22</span></code>が返却される。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(9)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">ナノ秒を取得する。本例では、<code class="docutils literal notranslate"><span class="pre">123456789</span></code>が返却される。</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="japanesedate">
<span id="id18"></span><h3><a class="toc-backref" href="#id48" role="doc-backlink"><span class="section-number">7.3.2.5. </span>和暦（JapaneseDate）</a><a class="headerlink" href="#japanesedate" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Date and Time APIでは<code class="docutils literal notranslate"><span class="pre">java.time.chrono.JapaneseDate</span></code>という、和暦を扱うクラスが提供されている。</div>
<div class="line"><br /></div>
</div>
<section id="id19">
<h4><a class="toc-backref" href="#id49" role="doc-backlink"><span class="section-number">7.3.2.5.1. </span>和暦の取得</a><a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>と同様に、<code class="docutils literal notranslate"><span class="pre">now</span></code>メソッド、<code class="docutils literal notranslate"><span class="pre">of</span></code>メソッドで取得できる。</div>
<div class="line">また、<code class="docutils literal notranslate"><span class="pre">java.time.chrono.JapaneseEra</span></code>クラスを使うことで、和暦を指定した取得も行うことが出来る。</div>
</div>
<div class="line-block">
<div class="line">以下に例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">JapaneseEra</span><span class="p">.</span><span class="na">HEISEI</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">java.time.chrono.JapaneseDate</span></code>は、グレゴリオ暦が導入された明治6年(西暦1873年)より前は利用できない。</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// DateTimeException</span>
<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>実行結果</strong></p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">java.time.DateTimeException: JapaneseDate before Meiji 6 is not supported</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id20">
<h4><a class="toc-backref" href="#id50" role="doc-backlink"><span class="section-number">7.3.2.5.2. </span>文字列へのフォーマット</a><a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>を用いることで、和暦日付へ変換することが出来る。利用の際には、<code class="docutils literal notranslate"><span class="pre">DateTimeFormatter#withChronology</span></code>メソッドで暦を<code class="docutils literal notranslate"><span class="pre">java.time.chrono.JapaneseChronology</span></code>に設定する。</div>
<div class="line">和暦日付でも様々なフォーマットを扱うことが出来るため、0埋めや空白埋めなど要件に応じた出力が行える。</div>
<div class="line">以下に空白埋めで和暦を表示する例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;Gppy年ppM月ppd日&quot;</span><span class="p">)</span>
<span class="w">                                 </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                                 </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">)</span>
<span class="w">                                 </span><span class="p">.</span><span class="na">withChronology</span><span class="p">(</span><span class="n">JapaneseChronology</span><span class="p">.</span><span class="na">INSTANCE</span><span class="p">);</span>

<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">1992</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// &quot;平成 4年 1月 1日&quot;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">formatter</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">japaneseDate</span><span class="p">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id21">
<h4><a class="toc-backref" href="#id51" role="doc-backlink"><span class="section-number">7.3.2.5.3. </span>文字列からのパース</a><a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">java.time.fomat.DateTimeFormatter</span></code>を用いることで、和暦文字列から<code class="docutils literal notranslate"><span class="pre">java.time.chrono.JapaneseDate</span></code>へ変換することが出来る。</div>
<div class="line">以下に例を示す。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">formatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;Gy年MM月dd日&quot;</span><span class="p">)</span>
<span class="w">                                </span><span class="p">.</span><span class="na">withLocale</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPANESE</span><span class="p">)</span>
<span class="w">                                </span><span class="p">.</span><span class="na">withResolverStyle</span><span class="p">(</span><span class="n">ResolverStyle</span><span class="p">.</span><span class="na">STRICT</span><span class="p">)</span>
<span class="w">                                </span><span class="p">.</span><span class="na">withChronology</span><span class="p">(</span><span class="n">JapaneseChronology</span><span class="p">.</span><span class="na">INSTANCE</span><span class="p">);</span>

<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">formatter</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;平成27年12月25日&quot;</span><span class="p">));</span>
<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">japaneseDate2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">formatter</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;明治6年01月01日&quot;</span><span class="p">));</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id22">
<h4><a class="toc-backref" href="#id52" role="doc-backlink"><span class="section-number">7.3.2.5.4. </span>西暦・和暦の変換</a><a class="headerlink" href="#id22" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">fromメソッドを使うことで<code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code>からの変換を容易に行える。</div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LocalDate</span><span class="w"> </span><span class="n">localDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
<span class="n">JapaneseDate</span><span class="w"> </span><span class="n">jpDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JapaneseDate</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">localDate</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="jsp-tag-library">
<span id="dateandtimetaglibrary"></span><h3><a class="toc-backref" href="#id53" role="doc-backlink"><span class="section-number">7.3.2.6. </span>JSP Tag Library</a><a class="headerlink" href="#jsp-tag-library" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">JSTLの fmt:formatDate タグは、java.util.Dateと、java.util.TimeZoneオブジェクトを扱う。</div>
<div class="line">JSR-310 Date And Timeのオブジェクトを扱うためには、<a class="reference external" href="https://github.com/sargue/java-time-jsptags#java-8-javatime-jsp-tags">Java 8 java.time JSP tags</a>を使用する。</div>
<div class="line">機能面でJSTLとほぼ同じであるため、JSTLの知識がある場合は、JSR-310 Date And TimeのJSPタグライブラリを容易に使える。</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="id23">
<h4><a class="toc-backref" href="#id54" role="doc-backlink"><span class="section-number">7.3.2.6.1. </span>設定方法</a><a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h4>
<p>タブライブラリを利用するには、以下のtaglib定義が必要である。</p>
<div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://sargue.net/jsptags/time&quot;</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;javatime&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="javatime-formate">
<h4><a class="toc-backref" href="#id55" role="doc-backlink"><span class="section-number">7.3.2.6.2. </span>javatime:formateタグ</a><a class="headerlink" href="#javatime-formate" title="Permalink to this heading">¶</a></h4>
<p>javatime:formatタグとは、LocalDate、LocalTime、LocalDateTimeオブジェクトをフォーマットするタグである。</p>
<div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="k">&lt;%</span><span class="w"> </span><span class="n">pageContext</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;now&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span><span class="w"> </span><span class="k">%&gt;</span>

<span class="nt">&lt;span&gt;</span>Using<span class="w"> </span>pattern=&quot;uuuuMMdd&quot;<span class="w"> </span>to<span class="w"> </span>format<span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>system<span class="w"> </span>date<span class="nt">&lt;/span&gt;&lt;br/&gt;</span>
<span class="nt">&lt;javatime:format</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${now}&quot;</span><span class="w"> </span><span class="na">pattern=</span><span class="s">&quot;yyyyMMdd&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;br/&gt;</span>
<span class="nt">&lt;span&gt;</span>Using<span class="w"> </span>style=&quot;SM&quot;<span class="w"> </span>to<span class="w"> </span>format<span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>system<span class="w"> </span>date<span class="nt">&lt;/span&gt;&lt;br/&gt;</span>
<span class="nt">&lt;javatime:format</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${now}&quot;</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;SM&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p><strong>出力結果</strong></p>
<ul class="simple">
<li><p><strong>jpロケールの場合</strong></p></li>
</ul>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/jsr310_format_tag_jp.png"><img alt="/DateAndTime" src="../../_images/jsr310_format_tag_jp.png" style="width: 75%;" /></a>
</figure>
<ul class="simple">
<li><p><strong>enロケールの場合</strong></p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/jsr310_format_tag_en.png"><img alt="/DateAndTime" src="../../_images/jsr310_format_tag_en.png" style="width: 75%;" /></a>
</figure>
<p>javatime:formatタグの属性一覧は、以下の通りである。</p>
<table class="docutils align-default" id="id26">
<caption><span class="caption-text"><strong>属性情報</strong></span><a class="headerlink" href="#id26" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 5.0%" />
<col style="width: 10.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>No.</p></th>
<th class="head"><p>Attributes</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">value</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/Temporal.html">Temporal</a>インスタンスを設定する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">var</div>
</div>
</td>
<td><div class="line-block">
<div class="line">時刻情報を持つ変数名</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">scope</div>
</div>
</td>
<td><div class="line-block">
<div class="line">時刻情報を持つ変数名のスコープ</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="4">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">locale</div>
</div>
</td>
<td><div class="line-block">
<div class="line">ロケール情報</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="5">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">style</div>
</div>
</td>
<td><div class="line-block">
<div class="line">フォーマットするためのスタイル情報（2桁。日付部分と時刻部分それぞれのスタイルを設定する。</div>
<div class="line">入力可能な値は S=Short, M=Medium, L=Long, F=Full, -=None）</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>style属性を指定して日付と時刻部分を表示する場合、ブラウザのlocaleによって表示内容が異なる。</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="6">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">pattern</div>
</div>
</td>
<td><div class="line-block">
<div class="line">フォーマットするためのパターン（uuuuMMddなど）。</div>
<div class="line">入力可能なパターンは、<a class="reference external" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html">DateTimeFormatterのjavadoc</a>を参照されたい。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="7">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">dateTimeZone</div>
</div>
</td>
<td><div class="line-block">
<div class="line">タイムゾーン</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>ほかのタグについては、<a class="reference external" href="https://github.com/sargue/java-time-jsptags#java-8-javatime-jsp-tags">Java 8 java.time JSP tags</a>を参照されたい。</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="thymeleaf">
<span id="dateandtimethymeleafdialect"></span><h3><a class="toc-backref" href="#id56" role="doc-backlink"><span class="section-number">7.3.2.7. </span>Thymeleafのダイアレクト</a><a class="headerlink" href="#thymeleaf" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">ThymeleafではDate and Time APIをサポートしたダイアレクト（Java8 Time Dialect）を標準機能として提供している。</div>
<div class="line"><br /></div>
<div class="line">Java8 Time Dialectでは<code class="docutils literal notranslate"><span class="pre">#temporals</span></code>を用意している。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">#temporals</span></code>を利用することで、テンプレートHTMLでDate and Time APIのオブジェクトの文字列フォーマットなどが可能となる。</div>
</div>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Java8 Time Dialectは、Thymeleafで公式にサポートされている。</p>
<p>Java8 Time Dialectに関する情報は、<a class="reference external" href="https://github.com/thymeleaf/thymeleaf-extras-java8time/tree/3.0-master#thymeleaf---module-for-java-8-time-api-compatibility">thymeleaf-extras-java8time</a>を参照されたい。</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Thymeleaf 3.0 以前のバージョンを使用する場合は<code class="docutils literal notranslate"><span class="pre">thymeleaf-extras-java8time</span></code>を依存関係に追加する必要がある。</p>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="view">
<span id="dateandtimeimplementationview"></span><h4><a class="toc-backref" href="#id57" role="doc-backlink"><span class="section-number">7.3.2.7.1. </span>Viewの実装</a><a class="headerlink" href="#view" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">Java8 Time Dialectを使用してViewの実装を行うには、<code class="docutils literal notranslate"><span class="pre">#temporals</span></code>を使用する。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">#temporals</span></code>では用途に応じて様々なメソッドを用意している。ここでは、Date and Time APIオブジェクトのフォーマットを行う<code class="docutils literal notranslate"><span class="pre">format</span></code>メソッドについて説明する。</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">format</span></code>メソッドは以下のようなシグネチャをもつ。同様にフォーマットを行うメソッドとして、<code class="docutils literal notranslate"><span class="pre">formatISO</span></code>メソッドについても以下の一覧に示す。</div>
</div>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 5.3%" />
<col style="width: 36.8%" />
<col style="width: 57.9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項番</p></th>
<th class="head"><p>メソッドシグネチャ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">format(Temporal)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>を指定してフォーマットする。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">format(Temporal, フォーマット文字列)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>、フォーマット文字列を指定してフォーマットする。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">format(Temporal, ロケール)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>、ロケールを指定してフォーマットする。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="4">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">format(Temporal, フォーマット文字列, ロケール)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>、フォーマット文字列、ロケールを指定してフォーマットする。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="5">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">formatISO(Temporal)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>を指定して ISO8601形式にフォーマットする。</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">format</span></code>メソッドは<code class="docutils literal notranslate"><span class="pre">java.time.temporal.Temporal</span></code>型(<code class="docutils literal notranslate"><span class="pre">LocalDateTime</span></code>、<code class="docutils literal notranslate"><span class="pre">LocalDate</span></code>、<code class="docutils literal notranslate"><span class="pre">LocalTime</span></code>など）のオブジェクトを入力値として、フォーマット文字列とロケールを与えて文字列にフォーマットする。</div>
<div class="line">フォーマットとロケールは省略することができ、それぞれデフォルト値は以下のようになる。</div>
</div>
<ul class="simple">
<li><p>フォーマット文字列： <code class="docutils literal notranslate"><span class="pre">uuuu/MM/dd</span></code>形式</p></li>
<li><p>ロケール： システムのデフォルトロケール</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">format</span></code>メソッドのデフォルトのフォーマット文字列は上記のとおり、<code class="docutils literal notranslate"><span class="pre">uuuu/MM/dd</span></code>形式となる。</p>
<p>Date and Time APIのオブジェクトを、<code class="docutils literal notranslate"><span class="pre">toString</span></code>メソッドで文字列に変換した場合(<code class="docutils literal notranslate"><span class="pre">uuuu-MM-dd</span></code>形式)と異なる形式でフォーマットされることに留意されたい。</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>、フォーマット文字列、ロケールを指定する場合の実装例を以下に示す。</div>
</div>
<ul>
<li><p>Controllerクラス</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;currentDateTime&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span><span class="w"> </span><span class="c1">// (1)</span>
<span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;locale&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Locale</span><span class="p">.</span><span class="na">ENGLISH</span><span class="p">);</span><span class="w"> </span><span class="c1">// (2)</span>
</pre></div>
</div>
</li>
<li><p>テンプレートHTML</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span> <span class="na">th:text</span><span class="o">=</span><span class="s">&quot;|currentDateTime = ${#temporals.format(currentDateTime, &#39;G uuuu/MM/dd E&#39;, locale)}.|&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span> <span class="cm">&lt;!--/* (3) /*--&gt;</span>
</pre></div>
</div>
</li>
<li><p>出力結果例(html)</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>currentDate =  AD 2015/12/25 Fri.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span> <span class="cm">&lt;!-- (4) --&gt;</span>
</pre></div>
</div>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 90.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項番</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Model</span></code>オブジェクトに<code class="docutils literal notranslate"><span class="pre">LocalDateTime</span></code>オブジェクトを追加する。</div>
<div class="line">ここでは、現在日時を指定している。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Model</span></code>オブジェクトに<code class="docutils literal notranslate"><span class="pre">Locale</span></code>オブジェクトを追加する。</div>
<div class="line">ここでは、言語のロケールとして英語を指定している。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">LocalDateTime</span></code>オブジェクトを指定したフォーマット文字列およびロケールでフォーマットする。</div>
<div class="line">ここでは、フォーマット文字列を<code class="docutils literal notranslate"><span class="pre">G</span> <span class="pre">uuuu/MM/dd</span> <span class="pre">E</span></code>形式で指定している。</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">format</span></code>メソッドではフォーマッタとして、<code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter</span></code>を利用している。</div>
<div class="line">そのため、フォーマットのパターンの指定は、<code class="docutils literal notranslate"><span class="pre">ofPattern</span></code>メソッドを利用する場合と同一である。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">現在の日付が2015年12月25日の場合、ロケールが英語のため、<code class="docutils literal notranslate"><span class="pre">AD</span> <span class="pre">2015/12/25</span> <span class="pre">Fri</span></code>と表示される。</div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="temporals">
<h4><a class="toc-backref" href="#id58" role="doc-backlink"><span class="section-number">7.3.2.7.2. </span>#temporalsのメソッド</a><a class="headerlink" href="#temporals" title="Permalink to this heading">¶</a></h4>
<div class="line-block">
<div class="line">先述のとおり、<code class="docutils literal notranslate"><span class="pre">#temporals</span></code>では用途に応じて様々なメソッドを用意している。</div>
<div class="line">以下に、<code class="docutils literal notranslate"><span class="pre">#temporals</span></code>が持つメソッドの一覧を示す。</div>
</div>
<table class="longtable docutils align-default" id="id27">
<caption><span class="caption-text"><strong>#temporalsのメソッド一覧</strong></span><a class="headerlink" href="#id27" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 5.0%" />
<col style="width: 15.0%" />
<col style="width: 40.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項番</p></th>
<th class="head"><p>メソッド名</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>例</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">format</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>を文字列にフォーマットする。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">2015年12月25日23時30分59秒の場合、</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2015/12/25</span> <span class="pre">23:30:59</span></code>にフォーマットする。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">formatISO</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Temporal</span></code>をISO8601形式で文字列にフォーマットする。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">2015年12月25日23時30分59秒345の場合(タイムゾーンは日本)、</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2015-12-25T23:30:59.345+0900</span></code>にフォーマットする。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">day</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から日の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">12月25日の場合、<code class="docutils literal notranslate"><span class="pre">25</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="4">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">month</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から月の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">12月25日の場合、<code class="docutils literal notranslate"><span class="pre">12</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="5">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">monthName</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から月の名称を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">12月25日の場合、<code class="docutils literal notranslate"><span class="pre">12月</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="6">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">monthNameShort</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から月の短縮した名称を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">12月25日の場合、<code class="docutils literal notranslate"><span class="pre">12</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="7">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">year</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から年の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">2015年の場合、<code class="docutils literal notranslate"><span class="pre">2015</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="8">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">dayOfWeek</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から月曜日を起点にした曜日の番号を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">金曜日の場合、<code class="docutils literal notranslate"><span class="pre">5</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="9">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">dayOfWeekName</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から曜日の名称を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">金曜日の場合、<code class="docutils literal notranslate"><span class="pre">金曜日</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="10">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">dayOfWeekNameShort</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から曜日の短縮した名称を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">金曜日の場合、<code class="docutils literal notranslate"><span class="pre">金</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="11">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">hour</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から1日のうちの時の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">23時30分59秒の場合、<code class="docutils literal notranslate"><span class="pre">23</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="12">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">minute</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から1時間のうちの分の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">23時30分59秒の場合、<code class="docutils literal notranslate"><span class="pre">30</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="13">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">second</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から1分のうちの秒の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">23時30分59秒の場合、<code class="docutils literal notranslate"><span class="pre">59</span></code>を取得する。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="14">
<li></li>
</ol>
</td>
<td><div class="line-block">
<div class="line">nanosecond</div>
</div>
</td>
<td><div class="line-block">
<div class="line">日時情報から1秒のうちのナノ秒の値を取得する。</div>
</div>
</td>
<td><div class="line-block">
<div class="line">23時30分59秒345の場合、<code class="docutils literal notranslate"><span class="pre">345</span></code>を取得する。</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>上記全てのメソッドには、以下のように配列、リスト、セットに対応したメソッドが存在する。</p>
<blockquote>
<div><p>(例) <code class="docutils literal notranslate"><span class="pre">arrayFormat(...)</span></code>、<code class="docutils literal notranslate"><span class="pre">listFormat(...)</span></code>、<code class="docutils literal notranslate"><span class="pre">setFormat(...)</span></code>など</p>
</div></blockquote>
<p>各メソッドの詳細については、<a class="reference external" href="https://github.com/thymeleaf/thymeleaf-extras-java8time/tree/3.0-master#usage">thymeleaf-extras-java8time - Usage</a>を参照されたい。</p>
<p><code class="docutils literal notranslate"><span class="pre">format</span></code>メソッドのシグネチャについては、<a class="reference internal" href="#dateandtimeimplementationview"><span class="std std-ref">Viewの実装</span></a>でも説明している。</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>上記のメソッド以外に、現在日時の日付オブジェクトや、年・月・日やタイムゾーンを指定して日付オブジェクトを生成するメソッドがある。</p>
<p>これらメソッドのシグネチャの情報については、<a class="reference external" href="https://github.com/thymeleaf/thymeleaf-extras-java8time/tree/3.0-master#usage">thymeleaf-extras-java8time - Usage</a>を参照されたい。</p>
<p>ただし、これらのメソッドを利用してViewで日付を生成することは推奨しない。なぜなら、これらのメソッドはシステム日付を取得するため、意図しない日時となり得るためである。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>ロケールとタイムゾーンについて</strong></p>
<p>ロケールとタイムゾーンは同じような意味と勘違いされやすいが、それぞれ異なる意味であるため留意されたい。</p>
<p>ロケールは、国や地域、言語などの表記規則を表す。日時表記で考えた場合、ある日時を日本語や英語で表記することができる。</p>
<p>一方、タイムゾーンは、同じ標準時（国や地域で共通して使う時刻）を使う地域全体を表す。ある日時を基準に、指定した国や地域の日時を表す。国や地域によって時差があるため、異なる日時を取る場合がある。また、ロケールとタイムゾーンを併用することで、日本語表記で他の国の日時を表すことも可能である。</p>
</div>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="SystemDate.html" title="7.4. システム時刻"
             >next</a> |</li>
        <li class="right" >
          <a href="PropertyManagement.html" title="7.2. プロパティ管理"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.10.0.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">7. </span>アプリケーション形態に依存しない汎用機能</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">7.3. </span>日付操作(JSR-310 Date and Time API)</a></li> 
      </ul>
    </div>
    <div class="footer">
      © Copyright 2024, NTT DATA Group Corporation. © Copyright 2013, NTT Corporation.
      Created using <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a> 7.0.1.Theme is <a href="https://pypi.org/project/solar-theme/">Solar</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    </script>
  </body>
</html>