<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.3. First application based on Spring MVC &mdash; TERASOLUNA Global Framework Development Guideline 1.0.2-SNAPSHOT documentation</title>
    
    <link rel="stylesheet" href="../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.2-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="TERASOLUNA Global Framework Development Guideline 1.0.2-SNAPSHOT documentation" href="../index.html" />
    <link rel="up" title="2. Summary - Architecture of TERASOLUNA Global Framework" href="index.html" />
    <link rel="next" title="2.4. Application Layering" href="ApplicationLayering.html" />
    <link rel="prev" title="2.2. Overview of Spring MVC Architecture" href="SpringMVCOverview.html" /><script src="../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../_static/solarized-dark.css" rel="stylesheet">
<link href="../_static/jquery.treeview.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ApplicationLayering.html" title="2.4. Application Layering"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="SpringMVCOverview.html" title="2.2. Overview of Spring MVC Architecture"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">TERASOLUNA Global Framework Development Guideline 1.0.2-SNAPSHOT documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">2. Summary - Architecture of TERASOLUNA Global Framework</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2.3. First application based on Spring MVC</a><ul>
<li><a class="reference internal" href="#prerequisites">2.3.1. Prerequisites</a></li>
<li><a class="reference internal" href="#create-a-new-project">2.3.2. Create a New Project</a></li>
<li><a class="reference internal" href="#run-on-server">2.3.3. Run on Server</a></li>
<li><a class="reference internal" href="#create-an-echo-application">2.3.4. Create an Echo Application</a><ul>
<li><a class="reference internal" href="#creating-a-form-object">2.3.4.1. Creating a form object</a></li>
<li><a class="reference internal" href="#create-a-controller">2.3.4.2. Create a Controller</a></li>
<li><a class="reference internal" href="#create-jsp-files">2.3.4.3. Create JSP Files</a></li>
<li><a class="reference internal" href="#implement-input-validation">2.3.4.4. Implement Input Validation</a></li>
<li><a class="reference internal" href="#summary">2.3.4.5. Summary</a></li>
</ul>
</li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="SpringMVCOverview.html"
                        title="previous chapter">2.2. Overview of Spring MVC Architecture</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ApplicationLayering.html"
                        title="next chapter">2.4. Application Layering</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Overview/FirstApplication.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="first-application-based-on-spring-mvc">
<h1>2.3. First application based on Spring MVC<a class="headerlink" href="#first-application-based-on-spring-mvc" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="index">
<p class="topic-title first">Index</p>
<ul class="simple">
<li><a class="reference internal" href="#prerequisites" id="id1">Prerequisites</a></li>
<li><a class="reference internal" href="#create-a-new-project" id="id2">Create a New Project</a></li>
<li><a class="reference internal" href="#run-on-server" id="id3">Run on Server</a></li>
<li><a class="reference internal" href="#create-an-echo-application" id="id4">Create an Echo Application</a><ul>
<li><a class="reference internal" href="#creating-a-form-object" id="id5">Creating a form object</a></li>
<li><a class="reference internal" href="#create-a-controller" id="id6">Create a Controller</a></li>
<li><a class="reference internal" href="#create-jsp-files" id="id7">Create JSP Files</a></li>
<li><a class="reference internal" href="#implement-input-validation" id="id8">Implement Input Validation</a></li>
<li><a class="reference internal" href="#summary" id="id9">Summary</a></li>
</ul>
</li>
</ul>
</div>
<p>Before entering into the advanced usage of Spring MVC, it is better to understand Spring MVC by actually trying handson web application development using Spring MVC.
This purpose of this chapter to understand the overall picture. <strong>Note that it does not follow the recommendations given from the next chapter onwards. (for the ease of understanding)</strong>.</p>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id1">2.3.1. Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The description of this chapter has been verified on the following environment. (For other environments, replace the contents mentioned here appropriately)</p>
<table border="1" class="docutils">
<colgroup>
<col width="75%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Product</th>
<th class="head">Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>JDK</td>
<td>1.6.0_33</td>
</tr>
<tr class="row-odd"><td>Spring Tool Suite (STS)</td>
<td>3.2.0</td>
</tr>
<tr class="row-even"><td>VMware vFabric tc Server Developer Edition</td>
<td>2.8</td>
</tr>
<tr class="row-odd"><td>Fire Fox</td>
<td>21.0</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To connect to the internet via a proxy server,
STS Proxy settings and <a class="reference external" href="http://maven.apache.org/guides/mini/guide-proxies.html">Maven Proxy settings</a> are required for the following operations.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>&#8220;Spring Template Project&#8221; used in this chapter has been removed from Spiring Tool Suite 3.4; hence, the contents of this chapter can only be confirmed on &#8220;Spring Tool Suite 3.3&#8221; or before.</p>
<p>Refer to <a class="reference internal" href="../Appendix/CreateProjectFromBlank.html"><em>Create New Project From Blank</em></a> in case using Spring Tool Suite 3.4.</p>
<p class="last">We plan to update the contents of this chapter in future.</p>
</div>
</div>
<div class="section" id="create-a-new-project">
<h2><a class="toc-backref" href="#id2">2.3.2. Create a New Project</a><a class="headerlink" href="#create-a-new-project" title="Permalink to this headline">¶</a></h2>
<p>From the menu of SpringSource Tool Suite, select [File] -&gt; [New] -&gt; [Spring Template Project] -&gt; [Spring MVC Project] -&gt; [Next],
and create Spring MVC project.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If proxy server is being used, there is a possibility of not being able to select Spring Template Project.
In order to resolve this, do the following.</p>
<ul class="last simple">
<li>First select [window] -&gt; [Preferences] -&gt; [Spring] -&gt; [Template Projects] and remove all items except &#8220;spring-defaults&#8221;.</li>
<li>Then click Apply.</li>
<li>After this, when [File] -&gt; [New] -&gt; [Spring Project] is clicked, [Spring MVC Project] can be selected from Templetes.</li>
</ul>
</div>
<p>Enter &#8220;helloworld&#8221; in [Project Name], &#8220;com.example.helloworld&#8221; in [Please specify the top-level package] and click [Finish] on the next screen.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/NewSpringMVCProject.png"><img alt="New Spring MVC Project" src="../_images/NewSpringMVCProject.png" style="width: 60%;" /></a>
</div>
<p>Following project is generated in the Package Explorer (<strong>Internet access is required</strong>)</p>
<div class="figure">
<img alt="workspace" src="../_images/HelloWorldWorkspace.png" />
</div>
<p>The generated configuration file (src/main/webapp/WEB-INF/spring/appServlet/servlet-context.xml) of Spring MVC is described briefly to understand the configuration of Spring MVC.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans:beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/mvc&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xmlns:beans=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
    <span class="na">xmlns:context=</span><span class="s">&quot;http://www.springframework.org/schema/context&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd</span>
<span class="s">        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span>
<span class="s">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing</span>
<span class="c">        infrastructure --&gt;</span>

    <span class="c">&lt;!-- (1) Enables the Spring MVC @Controller programming model --&gt;</span>
    <span class="nt">&lt;annotation-driven</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving</span>
<span class="c">        up static resources in the ${webappRoot}/resources directory --&gt;</span>
    <span class="nt">&lt;resources</span> <span class="na">mapping=</span><span class="s">&quot;/resources/**&quot;</span> <span class="na">location=</span><span class="s">&quot;/resources/&quot;</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- (2) Resolves views selected for rendering by @Controllers to .jsp resources</span>
<span class="c">        in the /WEB-INF/views directory --&gt;</span>
    <span class="nt">&lt;beans:bean</span>
        <span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;beans:property</span> <span class="na">name=</span><span class="s">&quot;prefix&quot;</span> <span class="na">value=</span><span class="s">&quot;/WEB-INF/views/&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;beans:property</span> <span class="na">name=</span><span class="s">&quot;suffix&quot;</span> <span class="na">value=</span><span class="s">&quot;.jsp&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/beans:bean&gt;</span>

    <span class="c">&lt;!-- (3) --&gt;</span>
    <span class="nt">&lt;context:component-scan</span> <span class="na">base-package=</span><span class="s">&quot;com.example.helloworld&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/beans:beans&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td>Default settings of Spring MVC are configured by defining &lt;annotation-driven /&gt;. Refer to the official website <a class="reference external" href="http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-enable">Enabling the MVC Java Config or the MVC XML Namespace</a>  of Spring framework for default configuration.</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td>Define the location of View by specifying Resolver of View.</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td>Define the package which will be target of searching components used in Spring MVC.</td>
</tr>
</tbody>
</table>
<p>Following is the <tt class="docutils literal"><span class="pre">com.example.helloworld.HomeController</span></tt> (However, it is modified to simple form for explanation).</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">helloworld</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMethod</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Handles requests for the application home page.</span>
<span class="cm"> */</span>
<span class="hll"><span class="nd">@Controller</span><span class="c1">// (1)</span>
</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HomeController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">LoggerFactory</span>
            <span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">HomeController</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * Simply selects the home view to render by returning its name.</span>
<span class="cm">     */</span>
<span class="hll">    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span> <span class="c1">// (2)</span>
</span><span class="hll">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">home</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// (3)</span>
</span>        <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Welcome home!&quot;</span><span class="o">);</span>

        <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;serverTime&quot;</span><span class="o">,</span> <span class="n">date</span><span class="o">);</span>

<span class="hll">        <span class="k">return</span> <span class="s">&quot;home&quot;</span><span class="o">;</span> <span class="c1">// (4)</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>It is explained briefly.</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td>It can be read automatically by DI container if <tt class="docutils literal"><span class="pre">&#64;Controller</span></tt> annotation is used. As stated earlier in &#8220;explanation of Spring MVC configuration files (3)&#8221;, it is the target of component-scan.</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td>It gets executed when the HTTP method is GET and when the Resource is (or request URL) is &#8220;/&#8221;.</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td>Set objects to be delivered to View.</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td>Return View name. Rendering is performed by <tt class="docutils literal"><span class="pre">WEB-INF/views/home.jsp</span></tt> as per the configuration in &#8220;Explanation of Spring MVC configuration files (2)&#8221;.</td>
</tr>
</tbody>
</table>
<p>The object set in Model is set in HttpServletRequest.
The value passed from Controller can be output by mentioning <tt class="docutils literal"><span class="pre">${serverTime}</span></tt> in home.jsp as shown below.
( <strong>However, as described below, it is necessary to perform HTML escaping since there is possibility of ${XXX} becoming a target of XSS</strong> )</p>
<div class="highlight-jsp"><div class="highlight"><pre><span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">session</span><span class="o">=</span><span class="s">&quot;false&quot;</span> <span class="k">%&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>Home<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;h1&gt;</span>
	Hello world!  
<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;P&gt;</span>  The time on the server is ${serverTime}. <span class="nt">&lt;/P&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="run-on-server">
<h2><a class="toc-backref" href="#id3">2.3.3. Run on Server</a><a class="headerlink" href="#run-on-server" title="Permalink to this headline">¶</a></h2>
<p>Right click &#8220;helloworld&#8221; project in STS, and start helloworld project by executing &#8220;Run As&#8221; -&gt; &#8220;Run On Server&#8221; -&gt; &#8220;localhost&#8221; -&gt; &#8220;VMware vFabric tc Server Developer Edition v2.8&#8221; -&gt; &#8220;Finish&#8221;.
Enter &#8220;<a class="reference external" href="http://localhost:8080/helloworld/">http://localhost:8080/helloworld/</a>&#8221; in browser to display the following screen.</p>
<div class="figure">
<img alt="Hello World" src="../_images/AppHelloWorldIndex.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="create-an-echo-application">
<span id="first-application-create-an-echo-application"></span><h2><a class="toc-backref" href="#id4">2.3.4. Create an Echo Application</a><a class="headerlink" href="#create-an-echo-application" title="Permalink to this headline">¶</a></h2>
<p>Lets go ahead and reate a simple application. It is a typical eco application in which message will be displayed if name is entered in the text field as given below.</p>
<div class="figure">
<img alt="Form of Echo Application" src="../_images/AppEchoIndex.png" />
</div>
<div class="figure">
<img alt="Output of Echo Application" src="../_images/AppEchoHello.png" />
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="creating-a-form-object">
<h3><a class="toc-backref" href="#id5">2.3.4.1. Creating a form object</a><a class="headerlink" href="#creating-a-form-object" title="Permalink to this headline">¶</a></h3>
<p>First create a form object to accept the value of text field. Create <tt class="docutils literal"><span class="pre">EchoForm</span></tt> class in <tt class="docutils literal"><span class="pre">com.example.helloworld.echo</span></tt> package.
It is a simple JavaBean that has only 1 property.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">helloworld</span><span class="o">.</span><span class="na">echo</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EchoForm</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">2557725707095364445L</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="create-a-controller">
<h3><a class="toc-backref" href="#id6">2.3.4.2. Create a Controller</a><a class="headerlink" href="#create-a-controller" title="Permalink to this headline">¶</a></h3>
<p>Next, create the Controller class. create the <tt class="docutils literal"><span class="pre">EchoController</span></tt> class in &#8220;com.example.helloworld.echo&#8221; package.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">helloworld</span><span class="o">.</span><span class="na">echo</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ModelAttribute</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;echo&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EchoController</span> <span class="o">{</span>

<span class="hll">    <span class="nd">@ModelAttribute</span> <span class="c1">// (1)</span>
</span>    <span class="kd">public</span> <span class="n">EchoForm</span> <span class="nf">setUpEchoForm</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">EchoForm</span> <span class="n">form</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EchoForm</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">form</span><span class="o">;</span>
    <span class="o">}</span>

<span class="hll">    <span class="nd">@RequestMapping</span> <span class="c1">// (2)</span>
</span>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">index</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
<span class="hll">        <span class="k">return</span> <span class="s">&quot;echo/index&quot;</span><span class="o">;</span> <span class="c1">// (4)</span>
</span>    <span class="o">}</span>

<span class="hll">    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">)</span> <span class="c1">// (5)</span>
</span><span class="hll">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">(</span><span class="n">EchoForm</span> <span class="n">form</span><span class="o">,</span> <span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span><span class="c1">// (3)</span>
</span><span class="hll">        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="n">form</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span> <span class="c1">// (6)</span>
</span>        <span class="k">return</span> <span class="s">&quot;echo/hello&quot;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Add <tt class="docutils literal"><span class="pre">&#64;ModelAttribute</span></tt> annotation to the method. Return value of such a method is automatically added to the Model.</div>
<div class="line">Attribute name can be specified in <tt class="docutils literal"><span class="pre">&#64;ModelAttribute</span></tt>, but the class name with the first letter in lower case is the default attribute name.</div>
<div class="line">In this case it will be <tt class="docutils literal"><span class="pre">echoForm</span></tt>. This attribute name must match with the value of <tt class="docutils literal"><span class="pre">modelAttribute</span></tt> of <tt class="docutils literal"><span class="pre">form:form</span></tt> tag.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">When nothing is specified in <tt class="docutils literal"><span class="pre">value</span></tt> attribute of <tt class="docutils literal"><span class="pre">&#64;RequestMapping</span></tt> annotation at the method level, it is mapped to <tt class="docutils literal"><span class="pre">&#64;RequestMapping</span></tt> added at class level.</div>
<div class="line">In this case, <tt class="docutils literal"><span class="pre">index</span></tt> method is called, if <tt class="docutils literal"><span class="pre">&lt;contextPath&gt;/echo</span></tt> is accessed. When nothing is set in <tt class="docutils literal"><span class="pre">method</span></tt> attribute, mapping is done for any HTTP method.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(3)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">EchoForm object added to the model in (1) is passed as argument.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(4)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Since <tt class="docutils literal"><span class="pre">echo/index</span></tt> is returned as View name, <tt class="docutils literal"><span class="pre">WEB-INF/views/echo/index.jsp</span></tt> is rendered by ViewResolver.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(5)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Since <tt class="docutils literal"><span class="pre">hello</span></tt> is specified in <tt class="docutils literal"><span class="pre">&#64;RequestMapping</span></tt> annotation at method level, if <tt class="docutils literal"><span class="pre">&lt;contextPath&gt;/echo/hello</span></tt> is accessed, <tt class="docutils literal"><span class="pre">hello</span></tt> method is called.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(6)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><tt class="docutils literal"><span class="pre">name</span></tt> entered in form is passed as it is to the View.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="create-jsp-files">
<h3><a class="toc-backref" href="#id7">2.3.4.3. Create JSP Files</a><a class="headerlink" href="#create-jsp-files" title="Permalink to this headline">¶</a></h3>
<p>Finally create JSP of input screen and output screen. Each file path must match with View name as follows.</p>
<ul class="simple">
<li>Input Screen src/main/webapp/WEB-INF/views/echo/index.jsp</li>
</ul>
<div class="highlight-jsp"><div class="highlight"><pre><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;spring&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags/form&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;form&quot;</span><span class="k">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Echo Application<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="c">&lt;!-- (1) --&gt;</span>
  <span class="nt">&lt;form:form</span> <span class="na">modelAttribute=</span><span class="s">&quot;echoForm&quot;</span> <span class="na">action=</span><span class="s">&quot;${pageContext.request.contextPath}/echo/hello&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;form:label</span> <span class="na">path=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Input Your Name:<span class="nt">&lt;/form:label&gt;</span>
    <span class="nt">&lt;form:input</span> <span class="na">path=</span><span class="s">&quot;name&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/form:form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">HTML form is constructed by using tag library. Specify the name of form object created by Controller in <tt class="docutils literal"><span class="pre">modelAttribute</span></tt>.</div>
<div class="line">Refer <a class="reference external" href="http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/view.html#view-jsp-formtaglib-formtag">here</a>for tag library.</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The generated HTML is as follows</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;body&gt;</span>

  <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">&quot;echoForm&quot;</span> <span class="na">action=</span><span class="s">&quot;/helloworld/echo/hello&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Input Your Name:<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;name&quot;</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>Output Screen src/main/webapp/WEB-INF/views/echo/hello.jsp</li>
</ul>
<div class="highlight-jsp"><div class="highlight"><pre><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;spring&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags/form&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;form&quot;</span><span class="k">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Echo Application<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;p&gt;</span>
    Hello <span class="nt">&lt;c:out</span> <span class="na">value=</span><span class="s">&quot;${name}&quot;</span> <span class="nt">/&gt;</span>!
  <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Output <tt class="docutils literal"><span class="pre">name</span></tt> passed from Controller. Take countermeasures for XSS  using <tt class="docutils literal"><span class="pre">c:out</span></tt> tag.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Countermeasure for XSS are taken using <tt class="docutils literal"><span class="pre">c:out</span></tt> standard tag here. However, <tt class="docutils literal"><span class="pre">f:h()</span></tt> function that can be used easily is provided in common library.
Refer to <a class="reference internal" href="../Security/XSS.html"><em>XSS Countermeasures</em></a> for details.</p>
</div>
<p>Implementation of Eco application is completed here. Start the server, access the link <tt class="docutils literal"><span class="pre">http://localhost:8080/helloworld/echo</span></tt>  to access the application.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="implement-input-validation">
<h3><a class="toc-backref" href="#id8">2.3.4.4. Implement Input Validation</a><a class="headerlink" href="#implement-input-validation" title="Permalink to this headline">¶</a></h3>
<p>Input validation is not performed in this application till this point.
In Spring MVC, <a class="reference external" href="http://jcp.org/en/jsr/detail?id=303">Bean Validation</a> and annotation based input validation can be easily implemented. For example input validation of name is performed in Eco Application.</p>
<p>Following dependency is added to pom.xml for using Bean Validation.</p>
<div class="highlight-xml"><div class="highlight"><pre>        <span class="c">&lt;!-- Bean Validation (JSR-303) --&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>hibernate-validator<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;version&gt;</span>4.3.1.Final<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<p>In <tt class="docutils literal"><span class="pre">EchoForm</span></tt>, add <tt class="docutils literal"><span class="pre">&#64;NotNull</span></tt> annotation and <tt class="docutils literal"><span class="pre">&#64;Size</span></tt> annotation to <tt class="docutils literal"><span class="pre">name</span></tt> property as follows (can be added to getter method).</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">helloworld</span><span class="o">.</span><span class="na">echo</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>

<span class="hll"><span class="kn">import</span> <span class="nn">javax.validation.constraints.NotNull</span><span class="o">;</span>
</span><span class="hll"><span class="kn">import</span> <span class="nn">javax.validation.constraints.Size</span><span class="o">;</span>
</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EchoForm</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">2557725707095364446L</span><span class="o">;</span>

<span class="hll">    <span class="nd">@NotNull</span> <span class="c1">// (1)</span>
</span><span class="hll">    <span class="nd">@Size</span><span class="o">(</span><span class="n">min</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">5</span><span class="o">)</span> <span class="c1">// (2)</span>
</span>    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">By adding <tt class="docutils literal"><span class="pre">&#64;NotNull</span></tt> annotation, whether <tt class="docutils literal"><span class="pre">name</span></tt> parameter exists in HTTP request is checked.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">By adding <tt class="docutils literal"><span class="pre">&#64;Size(min=1,</span> <span class="pre">max=5)</span></tt> annotation, whether the size of <tt class="docutils literal"><span class="pre">name</span></tt> is more than or equal to 1 and less than or equal to 5 is checked.</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>In <tt class="docutils literal"><span class="pre">EchoController</span></tt> class, add <tt class="docutils literal"><span class="pre">&#64;Valid</span></tt> annotation as shown below and also use of <tt class="docutils literal"><span class="pre">hasErrors</span></tt> method.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">helloworld</span><span class="o">.</span><span class="na">echo</span><span class="o">;</span>

<span class="hll"><span class="kn">import</span> <span class="nn">javax.validation.Valid</span><span class="o">;</span>
</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="o">;</span>
<span class="hll"><span class="kn">import</span> <span class="nn">org.springframework.validation.BindingResult</span><span class="o">;</span>
</span><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ModelAttribute</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;echo&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EchoController</span> <span class="o">{</span>

    <span class="nd">@ModelAttribute</span>
    <span class="kd">public</span> <span class="n">EchoForm</span> <span class="nf">setUpEchoForm</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">EchoForm</span> <span class="n">form</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EchoForm</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">form</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@RequestMapping</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">index</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;echo/index&quot;</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">)</span>
<span class="hll">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">(</span><span class="nd">@Valid</span> <span class="n">EchoForm</span> <span class="n">form</span><span class="o">,</span> <span class="n">BindingResult</span> <span class="n">result</span><span class="o">,</span> <span class="n">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// (1)</span>
</span><span class="hll">        <span class="k">if</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">hasErrors</span><span class="o">())</span> <span class="o">{</span> <span class="c1">// (2)</span>
</span><span class="hll">            <span class="k">return</span> <span class="s">&quot;echo/index&quot;</span><span class="o">;</span>
</span><span class="hll">        <span class="o">}</span>
</span>        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="n">form</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="k">return</span> <span class="s">&quot;echo/hello&quot;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">In Controller, add <tt class="docutils literal"><span class="pre">&#64;Valid</span></tt> annotation to the argument on which validation needs to be executed. Also add <tt class="docutils literal"><span class="pre">BindingResult</span></tt> object to arguments.</div>
<div class="line">Input validation is automatically performed using Bean Validation and the result is stored in <tt class="docutils literal"><span class="pre">BindingResult</span></tt> object.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">(2)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">It can be checked whether there is error by using <tt class="docutils literal"><span class="pre">hasErrors</span></tt> method.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="highlight-jsp"><div class="highlight"><pre><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;spring&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.springframework.org/tags/form&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;form&quot;</span><span class="k">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Echo Application<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;form:form</span> <span class="na">modelAttribute=</span><span class="s">&quot;echoForm&quot;</span> <span class="na">action=</span><span class="s">&quot;${action}&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;form:label</span> <span class="na">path=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Input Your Name:<span class="nt">&lt;/form:label&gt;</span>
    <span class="nt">&lt;form:input</span> <span class="na">path=</span><span class="s">&quot;name&quot;</span> <span class="nt">/&gt;</span>
<span class="hll">    <span class="nt">&lt;form:errors</span> <span class="na">path=</span><span class="s">&quot;name&quot;</span> <span class="na">cssStyle=</span><span class="s">&quot;color:red&quot;</span> <span class="nt">/&gt;</span><span class="c">&lt;!-- (1) --&gt;</span>
</span>    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/form:form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item number</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">(1)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Add <tt class="docutils literal"><span class="pre">form:errors</span></tt> tag for displaying error message when an error occurs on input screen.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">Implementation of input validation is completed.</div>
<div class="line">Error message is displayed in the following conditions:</div>
</div>
<ul class="simple">
<li>When an empty name is sent</li>
<li>Size is more than 5 characters.</li>
</ul>
<div class="figure">
<img alt="Validation Error (name is empty)" src="../_images/AppValidationEmpty.png" />
</div>
<div class="figure">
<img alt="Validation Error (name's size is over 5)" src="../_images/AppValidationSizeOver.png" />
</div>
<p>The generated HTML is as follows</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;body&gt;</span>

  <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">&quot;echoForm&quot;</span> <span class="na">action=</span><span class="s">&quot;/helloworld/echo/hello&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Input Your Name:<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;name&quot;</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">&quot;name.errors&quot;</span> <span class="na">style=</span><span class="s">&quot;color:red&quot;</span><span class="nt">&gt;</span>size must be between 1 and 5<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h3><a class="toc-backref" href="#id9">2.3.4.5. Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h3>
<p>The following are the learnings from this chapter.</p>
<ol class="arabic simple">
<li>Setting up configuration file of Spring MVC (simplified level)</li>
<li>How to do Screen Transition (simplified level)</li>
<li>Way to pass values between screens.</li>
<li>Simple input validation</li>
</ol>
<p>If above points are still not understood, it is recommended to read this chapter again and start again from building the environment.
This will imporve the understanding of above concepts.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ApplicationLayering.html" title="2.4. Application Layering"
             >next</a> |</li>
        <li class="right" >
          <a href="SpringMVCOverview.html" title="2.2. Overview of Spring MVC Architecture"
             >previous</a> |</li>
        <li><a href="../index.html">TERASOLUNA Global Framework Development Guideline 1.0.2-SNAPSHOT documentation</a> &raquo;</li>
          <li><a href="index.html" >2. Summary - Architecture of TERASOLUNA Global Framework</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013-2015, NTT DATA.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>