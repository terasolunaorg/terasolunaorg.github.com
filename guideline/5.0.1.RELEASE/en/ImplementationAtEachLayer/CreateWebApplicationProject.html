<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>4.1. Create Web application development project &#8212; TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.1.RELEASE documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/solar.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.2. Domain Layer Implementation" href="DomainLayer.html" />
    <link rel="prev" title="4. Application Development using TERASOLUNA Server Framework for Java (5.x)" href="index.html" /><script async src="https://www.googletagmanager.com/gtag/js?id=G-847V2Q99G8"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date()); gtag('config', 'G-847V2Q99G8');
</script>
<script src="../_static/jquery.treeview.js" type="text/javascript"></script>
<!-- <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'> -->
<link href="../_static/solarized-dark.css" rel="stylesheet">
<link href="../_static/jquery.treeview.css" rel="stylesheet">
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="DomainLayer.html" title="4.2. Domain Layer Implementation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="4. Application Development using TERASOLUNA Server Framework for Java (5.x)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">4. </span>Application Development using TERASOLUNA Server Framework for Java (5.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4.1. </span>Create Web application development project</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><label><input id="scroll" type="checkbox" checked> scroll sidebar</label>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">4.1. Create Web application development project</a><ul>
<li><a class="reference internal" href="#create-development-project">4.1.1. Create development project</a></li>
<li><a class="reference internal" href="#build-development-project">4.1.2. Build development project</a><ul>
<li><a class="reference internal" href="#build-method-wherein-jar-file-of-env-module-is-not-included-in-war-file">4.1.2.1. Build method wherein jar file of env module is not included in war file</a><ul>
<li><a class="reference internal" href="#create-war-file">4.1.2.1.1. Create war file</a></li>
<li><a class="reference internal" href="#create-jar-file-of-env-module">4.1.2.1.2. Create jar file of env module</a></li>
<li><a class="reference internal" href="#deploy-on-tomcat">4.1.2.1.3. Deploy on Tomcat</a></li>
<li><a class="reference internal" href="#deploy-on-application-server-other-than-tomcat">4.1.2.1.4. Deploy on application server other than Tomcat</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-method-wherein-jar-file-of-env-module-is-included-in-war-file">4.1.2.2. Build method wherein jar file of env module is included in war file</a><ul>
<li><a class="reference internal" href="#createwebapplicationprojectbuildwarincludeenvjarwar">4.1.2.2.1. Create war file</a></li>
<li><a class="reference internal" href="#deploy">4.1.2.2.2. Deploy</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#customization-of-development-project">4.1.3. Customization of development project</a><ul>
<li><a class="reference internal" href="#pom-file-project-information">4.1.3.1. POM file project information</a></li>
<li><a class="reference internal" href="#x-xx-fw-9999-format-message-id">4.1.3.2. x.xx.fw.9999 format message ID</a></li>
<li><a class="reference internal" href="#message-wording">4.1.3.3. Message wording</a></li>
<li><a class="reference internal" href="#error-screen">4.1.3.4. Error screen</a></li>
<li><a class="reference internal" href="#screen-footer-copyright">4.1.3.5. Screen footer copyright</a></li>
<li><a class="reference internal" href="#in-memory-database-h2-database">4.1.3.6. In-memory database (H2 Database)</a></li>
<li><a class="reference internal" href="#datasource-configuration">4.1.3.7. DataSource configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#structure-of-the-development-project">4.1.4. Structure of the development project</a><ul>
<li><a class="reference internal" href="#multi-project-structure">4.1.4.1. Multi-project structure</a></li>
<li><a class="reference internal" href="#structure-of-web-module">4.1.4.2. Structure of Web module</a></li>
<li><a class="reference internal" href="#structure-of-domain-module">4.1.4.3. Structure of Domain module</a></li>
<li><a class="reference internal" href="#structure-of-env-module">4.1.4.4. Structure of Env module</a></li>
<li><a class="reference internal" href="#structure-of-initdb-module">4.1.4.5. Structure of Initdb module</a></li>
<li><a class="reference internal" href="#structure-of-selenium-module">4.1.4.6. Structure of Selenium module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix">4.1.5. Appendix</a><ul>
<li><a class="reference internal" href="#hierarchical-structure-of-the-project">4.1.5.1. Hierarchical structure of the project</a></li>
<li><a class="reference internal" href="#relationship-of-bean-definition-file-and-application-context-structure">4.1.5.2. Relationship of bean definition file and application context structure</a></li>
<li><a class="reference internal" href="#description-of-the-configuration-file">4.1.5.3. Description of the configuration file</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter"><span class="section-number">4. </span>Application Development using TERASOLUNA Server Framework for Java (5.x)</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="DomainLayer.html"
                          title="next chapter"><span class="section-number">4.2. </span>Domain Layer Implementation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ImplementationAtEachLayer/CreateWebApplicationProject.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="create-web-application-development-project">
<h1><span class="section-number">4.1. </span>Create Web application development project<a class="headerlink" href="#create-web-application-development-project" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="index">
<p class="topic-title">Index</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create-development-project" id="id5">Create development project</a></p></li>
<li><p><a class="reference internal" href="#build-development-project" id="id6">Build development project</a></p>
<ul>
<li><p><a class="reference internal" href="#build-method-wherein-jar-file-of-env-module-is-not-included-in-war-file" id="id7">Build method wherein jar file of env module is not included in war file</a></p>
<ul>
<li><p><a class="reference internal" href="#create-war-file" id="id8">Create war file</a></p></li>
<li><p><a class="reference internal" href="#create-jar-file-of-env-module" id="id9">Create jar file of env module</a></p></li>
<li><p><a class="reference internal" href="#deploy-on-tomcat" id="id10">Deploy on Tomcat</a></p></li>
<li><p><a class="reference internal" href="#deploy-on-application-server-other-than-tomcat" id="id11">Deploy on application server other than Tomcat</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#build-method-wherein-jar-file-of-env-module-is-included-in-war-file" id="id12">Build method wherein jar file of env module is included in war file</a></p>
<ul>
<li><p><a class="reference internal" href="#createwebapplicationprojectbuildwarincludeenvjarwar" id="id13">Create war file</a></p></li>
<li><p><a class="reference internal" href="#deploy" id="id14">Deploy</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#customization-of-development-project" id="id15">Customization of development project</a></p>
<ul>
<li><p><a class="reference internal" href="#pom-file-project-information" id="id16">POM file project information</a></p></li>
<li><p><a class="reference internal" href="#x-xx-fw-9999-format-message-id" id="id17">x.xx.fw.9999 format message ID</a></p></li>
<li><p><a class="reference internal" href="#message-wording" id="id18">Message wording</a></p></li>
<li><p><a class="reference internal" href="#error-screen" id="id19">Error screen</a></p></li>
<li><p><a class="reference internal" href="#screen-footer-copyright" id="id20">Screen footer copyright</a></p></li>
<li><p><a class="reference internal" href="#in-memory-database-h2-database" id="id21">In-memory database (H2 Database)</a></p></li>
<li><p><a class="reference internal" href="#datasource-configuration" id="id22">DataSource configuration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#structure-of-the-development-project" id="id23">Structure of the development project</a></p>
<ul>
<li><p><a class="reference internal" href="#multi-project-structure" id="id24">Multi-project structure</a></p></li>
<li><p><a class="reference internal" href="#structure-of-web-module" id="id25">Structure of Web module</a></p></li>
<li><p><a class="reference internal" href="#structure-of-domain-module" id="id26">Structure of Domain module</a></p></li>
<li><p><a class="reference internal" href="#structure-of-env-module" id="id27">Structure of Env module</a></p></li>
<li><p><a class="reference internal" href="#structure-of-initdb-module" id="id28">Structure of Initdb module</a></p></li>
<li><p><a class="reference internal" href="#structure-of-selenium-module" id="id29">Structure of Selenium module</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#appendix" id="id30">Appendix</a></p>
<ul>
<li><p><a class="reference internal" href="#hierarchical-structure-of-the-project" id="id31">Hierarchical structure of the project</a></p></li>
<li><p><a class="reference internal" href="#relationship-of-bean-definition-file-and-application-context-structure" id="id32">Relationship of bean definition file and application context structure</a></p></li>
<li><p><a class="reference internal" href="#description-of-the-configuration-file" id="id33">Description of the configuration file</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>In this section, how to create a web application development project is described.</p>
<p>In this guideline, it is recommended to adopt multi-project configuration.
For description of the recommended multi-project configuration, refer [<a class="reference internal" href="../Overview/ApplicationLayering.html#application-layering-project-structure"><span class="std std-ref">Project structure</span></a>].</p>
<section id="create-development-project">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">4.1.1. </span>Create development project</a><a class="headerlink" href="#create-development-project" title="Permalink to this heading">¶</a></h2>
<p>The multi-project structured development project will be created using the
<a class="reference external" href="http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html">archetype:generate</a> of the <a class="reference external" href="http://maven.apache.org/archetype/maven-archetype-plugin/">Maven Archetype Plugin</a> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Prerequisite</strong></p>
<p>In the following description,</p>
<ul class="simple">
<li><p><a class="reference external" href="http://maven.apache.org/">Maven</a> (<code class="docutils literal notranslate"><span class="pre">mvn</span></code> command) is used</p></li>
<li><p>Internet connection is used</p></li>
<li><p>If internet is connected via proxy, <a class="reference external" href="http://maven.apache.org/guides/mini/guide-proxies.html">Maven proxy setting</a>  needs to be done</p></li>
</ul>
<p>are prerequisites.</p>
<p>If prerequisite conditions are not satisfied, it is necessary to perform these setups first.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>As an Archetype following two types are provided for creating multi-project.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 30%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Archetype(ArtifactId)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>terasoluna-gfw-multi-web-blank-mybatis3-archetype</p></td>
<td><p>Archetype for generating a project to use MyBatis3 as O/R Mapper.</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>terasoluna-gfw-multi-web-blank-jpa-archetype</p></td>
<td><p>Archetype for generating a project to use JPA(with Spring Data JPA and Hibernate) as O/R Mapper.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Move to the folder where you want to create project.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd C:\work</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Create project using <a class="reference external" href="http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html">archetype:generate</a> of <a class="reference external" href="http://maven.apache.org/archetype/maven-archetype-plugin/">Maven Archetype Plugin</a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mvn archetype:generate -B^</span>
<span class="go"> -DarchetypeCatalog=http://repo.terasoluna.org/nexus/content/repositories/terasoluna-gfw-releases^</span>
<span class="go"> -DarchetypeGroupId=org.terasoluna.gfw.blank^</span>
<span class="go"> -DarchetypeArtifactId=terasoluna-gfw-multi-web-blank-mybatis3-archetype^</span>
<span class="go"> -DarchetypeVersion=5.0.1.RELEASE^</span>
<span class="go"> -DgroupId=com.example.todo^</span>
<span class="go"> -DartifactId=todo^</span>
<span class="go"> -Dversion=1.0.0-SNAPSHOT</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">-B</div>
</div>
</td>
<td><p>batch mode (skips interaction)</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-DarchetypeCatalog</div>
</div>
</td>
<td><p>Specify TERASOLUNA Server Framework for Java (5.x) repository.(Fixed)</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">-DarchetypeGroupId</div>
</div>
</td>
<td><p>Specify groupId of the blank project.(Fixed)</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-DarchetypeArtifactId</div>
</div>
</td>
<td><p>Specify archetypeId (ID to identify the template) of the blank project. <strong>(Customization required)</strong></p>
<p>specify one of the following archetypeId.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">terasoluna-gfw-multi-web-blank-mybatis3-archetype</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">terasoluna-gfw-multi-web-blank-jpa-archetype</span></code></p></li>
</ul>
<p>In above example, <code class="docutils literal notranslate"><span class="pre">terasoluna-gfw-multi-web-blank-mybatis3-archetype</span></code> is specified.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">-DarchetypeVersion</div>
</div>
</td>
<td><p>Specify version of the blank project.(Fixed)</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-DgroupId</div>
</div>
</td>
<td><p>Specify groupId of the project that you want to create. <strong>(Customization required)</strong></p>
<p>In above example, <code class="docutils literal notranslate"><span class="pre">&quot;com.example.todo&quot;</span></code> is specified.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">-DartifactId</div>
</div>
</td>
<td><p>Specify artifactId of the project that you want to create. <strong>(Customization required)</strong></p>
<p>In above example, <code class="docutils literal notranslate"><span class="pre">&quot;todo&quot;</span></code> is specified.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-Dversion</div>
</div>
</td>
<td><p>Specify version of the project that you want to create. <strong>(Customization required)</strong></p>
<p>In above example, <code class="docutils literal notranslate"><span class="pre">&quot;1.0.0-SNAPSHOT&quot;</span></code> is specified.</p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>If the project creation successes, following type of log will be printed.
(The following output is an example when project is created using the MyBatis3 Archetype)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(... omit)</span>
<span class="go">[INFO] ----------------------------------------------------------------------------</span>
<span class="go">[INFO] Using following parameters for creating project from Archetype: terasoluna-gfw-multi-web-blank-mybatis3-archetype:5.0.1.RELEASE</span>
<span class="go">[INFO] ----------------------------------------------------------------------------</span>
<span class="go">[INFO] Parameter: groupId, Value: com.example.todo</span>
<span class="go">[INFO] Parameter: artifactId, Value: todo</span>
<span class="go">[INFO] Parameter: version, Value: 1.0.0-SNAPSHOT</span>
<span class="go">[INFO] Parameter: package, Value: com.example.todo</span>
<span class="go">[INFO] Parameter: packageInPathFormat, Value: com/example/todo</span>
<span class="go">[INFO] Parameter: package, Value: com.example.todo</span>
<span class="go">[INFO] Parameter: version, Value: 1.0.0-SNAPSHOT</span>
<span class="go">[INFO] Parameter: groupId, Value: com.example.todo</span>
<span class="go">[INFO] Parameter: artifactId, Value: todo</span>
<span class="go">[INFO] Parent element not overwritten in C:\work\todo\todo-env\pom.xml</span>
<span class="go">[INFO] Parent element not overwritten in C:\work\todo\todo-domain\pom.xml</span>
<span class="go">[INFO] Parent element not overwritten in C:\work\todo\todo-web\pom.xml</span>
<span class="go">[INFO] Parent element not overwritten in C:\work\todo\todo-initdb\pom.xml</span>
<span class="go">[INFO] Parent element not overwritten in C:\work\todo\todo-selenium\pom.xml</span>
<span class="go">[INFO] project created from Archetype in dir: C:\work\todo</span>
<span class="go">[INFO] ------------------------------------------------------------------------</span>
<span class="go">[INFO] BUILD SUCCESS</span>
<span class="go">[INFO] ------------------------------------------------------------------------</span>
<span class="go">[INFO] Total time: 9.929 s</span>
<span class="go">[INFO] Finished at: 2015-07-31T12:03:21+00:00</span>
<span class="go">[INFO] Final Memory: 10M/26M</span>
<span class="go">[INFO] ------------------------------------------------------------------------</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>If the project creation successes, Maven multi-project gets created.
For detail description of the project that you have created in the Maven Archetype, Refer [<a class="reference internal" href="#createwebapplicationprojectconfiguration"><span class="std std-ref">Structure of the development project</span></a>].</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">todo</span>
<span class="go">├── pom.xml</span>
<span class="go">├── todo-domain</span>
<span class="go">├── todo-env</span>
<span class="go">├── todo-initdb</span>
<span class="go">├── todo-selenium</span>
<span class="go">└── todo-web</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="build-development-project">
<span id="createwebapplicationprojectbuild"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">4.1.2. </span>Build development project</a><a class="headerlink" href="#build-development-project" title="Permalink to this heading">¶</a></h2>
<p>The method to create a war file to be deployed on application server and a jar file of env module (module to store the file environment dependent file) is described below.</p>
<p>In case of a project created using Maven Archetype, the following 2 methods are provided as methods to create a war file.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#createwebapplicationprojectbuildwarexcludeenvjar"><span class="std std-ref">Build method wherein jar file of env module is not included in war file</span></a> (<strong>recommended</strong>)</p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectbuildwarincludeenvjar"><span class="std std-ref">Build method wherein jar file of env module is included in war file</span></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About the recommended build method</strong></p>
<p>This guideline recommends <a class="reference internal" href="#createwebapplicationprojectbuildwarexcludeenvjar"><span class="std std-ref">Build method wherein jar file of env module is not included in war file</span></a>.
For reasons why this method is recommended, refer to <a class="reference internal" href="../Appendix/EnvironmentIndependency.html"><span class="doc">Removing Environment Dependency</span></a>.
Other build method apart from those mentioned here can also be used.</p>
<p>However, <strong>the war file and jar file to be released in test environment and production environment should not be created using the functionality provided by IDE such as Eclipse.</strong>
In some of the IDE functionalities like Eclipse, class files are created using an independent compiler which has been optimized for development,
hence there could be a risk of unexpected error during the application execution due to difference in the compiler.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>About build environment</strong></p>
<p>In the example below, Windows environment is used for the build. However, you can use your own environment for doing the build.
This guideline <strong>recommends that you should do the build using the same OS and JDK version as that of the application execution environment.</strong></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line">When build is done using Maven, confirm whether home directory of JDK which is used during compilation in the environment variable JAVA_HOME, has been specified.</div>
<div class="line">If the environment variable is not set or the home directory of JDK having different version has been specified, an appropriate home directory should be specified in environment variable.</div>
</div>
<p><strong>[In case of Windows]</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo %JAVA_HOME%</span>
<span class="go">set JAVA_HOME={Please set home directory of JDK}</span>
</pre></div>
</div>
<p><strong>[In case of Linux]</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo $JAVA_HOME</span>
<span class="go">JAVA_HOME={Please set home directory of JDK}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is advisable to set the environment variable JAVA_HOME in the user environment variable of OS user wherein build is to be done.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="build-method-wherein-jar-file-of-env-module-is-not-included-in-war-file">
<span id="createwebapplicationprojectbuildwarexcludeenvjar"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">4.1.2.1. </span>Build method wherein jar file of env module is not included in war file</a><a class="headerlink" href="#build-method-wherein-jar-file-of-env-module-is-not-included-in-war-file" title="Permalink to this heading">¶</a></h3>
<section id="create-war-file">
<span id="createwebapplicationprojectbuildwarexcludeenvjarstepwar"></span><h4><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">4.1.2.1.1. </span>Create war file</a><a class="headerlink" href="#create-war-file" title="Permalink to this heading">¶</a></h4>
<p>Open the root directory of development project.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd C:\work\todo</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line">Specify <code class="docutils literal notranslate"><span class="pre">warpack</span></code> in Maven profile (<code class="docutils literal notranslate"><span class="pre">-P</span></code> parameter) and run Maven install.</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mvn -P warpack clean install</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">If the Maven package is run successfully, a war file that does not include jar file of env module is created in the target directory of web module.</div>
<div class="line">(Example: <code class="docutils literal notranslate"><span class="pre">C:\work\todo\todo-web\target\todo-web.war</span></code>)</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About the goal to be specified</strong></p>
<p>In the above example, <code class="docutils literal notranslate"><span class="pre">install</span></code> is specified in goal and war file is installed in local repository, however it is advisable to specify</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package</span></code> in goal when only creating a war file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deploy</span></code> in goal when deploying in remote repository like Nexus</p></li>
</ul>
</div></blockquote>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="create-jar-file-of-env-module">
<span id="createwebapplicationprojectbuildwarexcludeenvjarstepenvjar"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">4.1.2.1.2. </span>Create jar file of env module</a><a class="headerlink" href="#create-jar-file-of-env-module" title="Permalink to this heading">¶</a></h4>
<p>Open env module directory.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd C:\work\todo\todo-env</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Specify <strong>Profile ID to identify environment</strong> in Maven profile (<code class="docutils literal notranslate"><span class="pre">-P</span></code> parameter) and run Maven package.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mvn -P test-server clean package</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">If Maven package is run successfully, jar file for the specified environment is created in target directory of env module.</div>
<div class="line">(Example: <code class="docutils literal notranslate"><span class="pre">C:\work\todo\todo-env\target\todo-env-1.0.0-SNAPSHOT-test-server.jar</span></code>)</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About profile ID to identify environment</strong></p>
<p>In case of a project created using Maven Archetype, following profile IDs are defined by default.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">local</span></code>: Profile for local environment of the developer (for IDE development environment) (default profile)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test-server</span></code>: Profile for test environment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">production-server</span></code>: Profile for production environment</p></li>
</ul>
</div></blockquote>
<p>The above 3 profiles are provided by default; however you can add or modify them as per the environment configuration of the system to be developed.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="deploy-on-tomcat">
<span id="createwebapplicationprojectbuildwarexcludeenvjarstepdeploytotomcat"></span><h4><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">4.1.2.1.3. </span>Deploy on Tomcat</a><a class="headerlink" href="#deploy-on-tomcat" title="Permalink to this heading">¶</a></h4>
<p>Deployment method (procedure) when Tomcat is used as an application server is given below.</p>
<ul class="simple">
<li><p>Copy the jar file of env module to a predefined external directory.</p></li>
<li><p>Deploy the war file on Tomcat.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>For method to manage a jar file of env module in external directory, refer to <a class="reference internal" href="../Appendix/EnvironmentIndependency.html#environmentindependencydeploytomcat"><span class="std std-ref">Deployment in Tomcat</span></a> of Appendix.</p></li>
<li><p>For method to deploy a war file on Tomcat, refer to Tomcat manual.</p></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="deploy-on-application-server-other-than-tomcat">
<span id="createwebapplicationprojectbuildwarexcludeenvjarstepdeploytootherserver"></span><h4><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">4.1.2.1.4. </span>Deploy on application server other than Tomcat</a><a class="headerlink" href="#deploy-on-application-server-other-than-tomcat" title="Permalink to this heading">¶</a></h4>
<p>Deployment method (procedure) when server other than Tomcat is used as an application server is given below.</p>
<ul class="simple">
<li><p>Embed the jar file of env module in war file.</p></li>
<li><p>Deploy the war file in which jar file of env module is embedded on application server.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a method to deploy a war file on application server, refer to the manual of application server to be used</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Here, a method to embed the jar file of env module in war file using jar command is given.</p>
<div class="line-block">
<div class="line">Open the working directory.</div>
<div class="line">Here the in the example below, work is performed in env project.</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd C:\work\todo\todo-env</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line">Copy the created war file to the working directory.</div>
<div class="line">Here in the example below, war file is fetched from Maven repository. (war file is required to be <code class="docutils literal notranslate"><span class="pre">installed</span></code> or <code class="docutils literal notranslate"><span class="pre">deployed</span></code>.)</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mvn org.apache.maven.plugins:maven-dependency-plugin:2.5:get^</span>
<span class="go"> -DgroupId=com.example.todo^</span>
<span class="go"> -DartifactId=todo-web^</span>
<span class="go"> -Dversion=1.0.0-SNAPSHOT^</span>
<span class="go"> -Dpackaging=war^</span>
<span class="go"> -Ddest=target/todo-web.war</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">If the command is run successfully, the specified war file is copied to the target directory of env module.</div>
<div class="line">(Example: <code class="docutils literal notranslate"><span class="pre">C:\work\todo\todo-env\target\todo-web.war</span></code>)</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>An appropriate value should be specified in <code class="docutils literal notranslate"><span class="pre">-DgroupId</span></code>, <code class="docutils literal notranslate"><span class="pre">-DartifactId</span></code>, <code class="docutils literal notranslate"><span class="pre">-Dversion</span></code>, <code class="docutils literal notranslate"><span class="pre">-Ddest</span></code>.</p></li>
<li><p>When run on Linux, <code class="docutils literal notranslate"><span class="pre">^</span></code> at the end of the line should be read as <code class="docutils literal notranslate"><span class="pre">\</span></code> .</p></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Copy the created jar file to working directory (<code class="docutils literal notranslate"><span class="pre">target\WEB-INF\lib</span></code>) once and add it to the war file.</p>
<p><strong>[In case of Windows]</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mkdir target\WEB-INF\lib</span>
<span class="go">copy target\todo-env-1.0.0-SNAPSHOT-test-server.jar target\WEB-INF\lib\.</span>
<span class="go">cd target</span>
<span class="go">jar -uvf todo-web.war WEB-INF\lib</span>
</pre></div>
</div>
<p><strong>[In case of Linux]</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mkdir -p target/WEB-INF/lib</span>
<span class="go">cp target/todo-env-1.0.0-SNAPSHOT-test-server.jar target/WEB-INF/lib/.</span>
<span class="go">cd target</span>
<span class="go">jar -uvf todo-web.war WEB-INF/lib</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Measures to be taken when jar command is not found</strong></p>
<p>The problem when jar command is not found can be resolved using either of the following measures.</p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">JAVA_HOME/bin</span></code> to environment variable “PATH”.</p></li>
<li><p>Specify the jar command with full path. In case of Windows, <code class="docutils literal notranslate"><span class="pre">%JAVA_HOME%\bin\jar</span></code> and in case of Linux, <code class="docutils literal notranslate"><span class="pre">${JAVA_HOME}/bin/jar</span></code> can be specified.</p></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="build-method-wherein-jar-file-of-env-module-is-included-in-war-file">
<span id="createwebapplicationprojectbuildwarincludeenvjar"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">4.1.2.2. </span>Build method wherein jar file of env module is included in war file</a><a class="headerlink" href="#build-method-wherein-jar-file-of-env-module-is-included-in-war-file" title="Permalink to this heading">¶</a></h3>
<section id="createwebapplicationprojectbuildwarincludeenvjarwar">
<span id="id3"></span><h4><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">4.1.2.2.1. </span>Create war file</a><a class="headerlink" href="#createwebapplicationprojectbuildwarincludeenvjarwar" title="Permalink to this heading">¶</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Points to be noted when including a jar file of env module in war file</strong></p>
<p>When jar file of env module is included in war file, the war file cannot be deployed in other environment;
hence war file should be managed so that it is not deployed to other environment (especially in production environment) by mistake.</p>
<p>Moreover, when using a method in which war file is created for each environment and released in each environment,
it should be noted that war file released in production environment can never be the war file for which testing is complete.
This is for the re-compilation at the time of creating war file for the production environment.
When creating the war file and releasing the same for each environment, it is especially important to use the
VCS (Version Control System) functionality (Tag functionality etc.) like Git or Subversion and to establish a mechanism to create a war file
which is to be released in production environment and various test environments, through the use of tested source files.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Open the root directory of development project.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd C:\work\todo</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line">In Maven profile (<code class="docutils literal notranslate"><span class="pre">-P</span></code> parameter), specify <strong>Profile ID to identify environment</strong>defined in env module and <code class="docutils literal notranslate"><span class="pre">warpack-with-env</span></code>, and then run the Maven package.</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mvn -P warpack-with-env,test-server clean package</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">If Maven package is run successfully, war file which includes jar file of env module is created in target directory of web module.</div>
<div class="line">(Example: <code class="docutils literal notranslate"><span class="pre">C:\work\todo\todo-web\target\todo-web.war</span></code>)</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="deploy">
<span id="createwebapplicationprojectbuildwarincludeenvjardeploy"></span><h4><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">4.1.2.2.2. </span>Deploy</a><a class="headerlink" href="#deploy" title="Permalink to this heading">¶</a></h4>
<p>Deploy the created war file on application server.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a method to deploy a war file on application server, refer to the manual of Application Server to be used.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
</section>
<section id="customization-of-development-project">
<span id="createwebapplicationprojectcustomize"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">4.1.3. </span>Customization of development project</a><a class="headerlink" href="#customization-of-development-project" title="Permalink to this heading">¶</a></h2>
<p>Depending upon the application, there are several locations where customization is required in the Maven Archetype created project.</p>
<p>The customization required locations are described below.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizeprojectinformation"><span class="std std-ref">POM file project information</span></a></p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizemessageid"><span class="std std-ref">x.xx.fw.9999 format message ID</span></a></p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizemessagewording"><span class="std std-ref">Message wording</span></a></p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizeerrorscreen"><span class="std std-ref">Error screen</span></a></p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizecopyrightonscreenfooter"><span class="std std-ref">Screen footer copyright</span></a></p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizeinmemorydatabase"><span class="std std-ref">In-memory database (H2 Database)</span></a></p></li>
<li><p><a class="reference internal" href="#createwebapplicationprojectcustomizedatasource"><span class="std std-ref">DataSource configuration</span></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The customization points other than the above are,</p>
<ul class="simple">
<li><p>Settings of <a class="reference internal" href="../Security/Authentication.html"><span class="doc">Authentication</span></a>・<a class="reference internal" href="../Security/Authorization.html"><span class="doc">Authorization</span></a></p></li>
<li><p>Settings to enable <a class="reference internal" href="../ArchitectureInDetail/FileUpload.html"><span class="doc">File Upload</span></a></p></li>
<li><p>Setting to activate <a class="reference internal" href="../ArchitectureInDetail/Internationalization.html"><span class="doc">Internationalization</span></a></p></li>
<li><p>Definition of <a class="reference internal" href="../ArchitectureInDetail/Logging.html"><span class="doc">Logging</span></a></p></li>
<li><p>Definition of <a class="reference internal" href="../ArchitectureInDetail/ExceptionHandling.html"><span class="doc">Exception Handling</span></a></p></li>
<li><p>Apply settings of <a class="reference internal" href="../ArchitectureInDetail/REST.html"><span class="doc">RESTful Web Service</span></a></p></li>
</ul>
<p>For these customizations, Refer to “How to use” of each section and customize if required.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Part that is expressed as <code class="docutils literal notranslate"><span class="pre">artifactId</span></code> in the following description
needs to be read by replacing the <code class="docutils literal notranslate"><span class="pre">artifactId</span></code> which is specified at the time of creating a project.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="pom-file-project-information">
<span id="createwebapplicationprojectcustomizeprojectinformation"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">4.1.3.1. </span>POM file project information</a><a class="headerlink" href="#pom-file-project-information" title="Permalink to this heading">¶</a></h3>
<p>In the POM file of Maven Archetype created project,</p>
<ul class="simple">
<li><p>Project name (<code class="docutils literal notranslate"><span class="pre">name</span></code> element)</p></li>
<li><p>Project description (<code class="docutils literal notranslate"><span class="pre">description</span></code> element)</p></li>
<li><p>Project URL (<code class="docutils literal notranslate"><span class="pre">url</span></code> element)</p></li>
<li><p>Project inception year (<code class="docutils literal notranslate"><span class="pre">inceptionYear</span></code> element)</p></li>
<li><p>Project license (<code class="docutils literal notranslate"><span class="pre">licenses</span></code> element)</p></li>
<li><p>Project organization (<code class="docutils literal notranslate"><span class="pre">organization</span></code> element)</p></li>
</ul>
<p>such information set in Archetype projects.
The actual settings contents indicated below.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- ... --&gt;</span>

<span class="nt">&lt;name&gt;</span>TERASOLUNA<span class="w"> </span>Server<span class="w"> </span>Framework<span class="w"> </span>for<span class="w"> </span>Java<span class="w"> </span>(5.x)<span class="w"> </span>Web<span class="w"> </span>Blank<span class="w"> </span>Multi<span class="w"> </span>Project<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;description&gt;</span>Web<span class="w"> </span>Blank<span class="w"> </span>Multi<span class="w"> </span>Project<span class="w"> </span>using<span class="w"> </span>TERASOLUNA<span class="w"> </span>Server<span class="w"> </span>Framework<span class="w"> </span>for<span class="w"> </span>Java<span class="w"> </span>(5.x)<span class="nt">&lt;/description&gt;</span>
<span class="nt">&lt;url&gt;</span>http://terasoluna.org<span class="nt">&lt;/url&gt;</span>
<span class="nt">&lt;inceptionYear&gt;</span>2014<span class="nt">&lt;/inceptionYear&gt;</span>
<span class="nt">&lt;licenses&gt;</span>
<span class="w">    </span><span class="nt">&lt;license&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>Apache<span class="w"> </span>License,<span class="w"> </span>Version<span class="w"> </span>2.0<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;url&gt;</span>http://www.apache.org/licenses/LICENSE-2.0.txt<span class="nt">&lt;/url&gt;</span>
<span class="w">        </span><span class="nt">&lt;distribution&gt;</span>manual<span class="nt">&lt;/distribution&gt;</span>
<span class="w">    </span><span class="nt">&lt;/license&gt;</span>
<span class="nt">&lt;/licenses&gt;</span>
<span class="nt">&lt;organization&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>TERASOLUNA<span class="w"> </span>Framework<span class="w"> </span>Team<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;url&gt;</span>http://terasoluna.org<span class="nt">&lt;/url&gt;</span>
<span class="nt">&lt;/organization&gt;</span>

<span class="cm">&lt;!-- ... --&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Set the appropriate values in the project information.</strong></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>POM (Project Object Model) file that defines the overall configuration of multi-project</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/pom.xml</span></code></p>
</td>
<td><p>Set the appropriate values in the project information.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="x-xx-fw-9999-format-message-id">
<span id="createwebapplicationprojectcustomizemessageid"></span><h3><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">4.1.3.2. </span>x.xx.fw.9999 format message ID</a><a class="headerlink" href="#x-xx-fw-9999-format-message-id" title="Permalink to this heading">¶</a></h3>
<p>In the Maven Archetype created project, the <code class="docutils literal notranslate"><span class="pre">x.xx.fw.9999</span></code> format message ID used at the time of,</p>
<ul class="simple">
<li><p>Message to be displayed on the error screen</p></li>
<li><p>Error log to be output when an exception occurs</p></li>
</ul>
<p>Actual point-of-use (sampling) indicated below.</p>
<p><strong>[application-messages.properties]</strong></p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">e.xx.fw.5001</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Resource not found.</span>
</pre></div>
</div>
<p><strong>[JSP]</strong></p>
<div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;error&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${!empty exceptionCode}&quot;</span><span class="nt">&gt;</span>[${f:h(exceptionCode)}]<span class="nt">&lt;/c:if&gt;</span>
<span class="w">    </span><span class="nt">&lt;spring:message</span><span class="w"> </span><span class="na">code=</span><span class="s">&quot;e.xx.fw.5001&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p><strong>[applicationContext.xml]</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;exceptionCodeResolver&quot;</span>
<span class="w">    </span><span class="na">class=</span><span class="s">&quot;org.terasoluna.gfw.common.exception.SimpleMappingExceptionCodeResolver&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- ... --&gt;</span>
<span class="w">            </span><span class="nt">&lt;entry</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;ResourceNotFoundException&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;e.xx.fw.5001&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">x.xx.fw.9999</span></code> format message ID is
a message ID system that is introduced in [<a class="reference internal" href="../ArchitectureInDetail/MessageManagement.html"><span class="doc">Message Management</span></a>] of this guideline but,
the value of the project division is in the state of provisional value [<code class="docutils literal notranslate"><span class="pre">xx</span></code>].</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><strong>If the message ID system introduced in this guideline is used, specify the appropriate values to the project classification.</strong> For the message ID system introduced in this guideline, Refer [<a class="reference internal" href="../ArchitectureInDetail/MessageManagement.html#message-management-result-rule"><span class="std std-ref">Result messages</span></a>].</p></li>
<li><p>If the message ID system introduced in this guideline is not used, it is necessary to replace all the message IDs those are used in the customization targeted file indicated below.</p></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>Message definition file</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/resources/i18n/application-messages.properties</span></code></p>
</td>
<td><p>The provisional value [<code class="docutils literal notranslate"><span class="pre">xx</span></code>] of project classification message ID specified in the property key needs to be modified by appropriate value.</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>Error screen JSP</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/webapp/WEB-INF/views/common/error/*.jsp</span></code></p>
</td>
<td><p>The provisional value [<code class="docutils literal notranslate"><span class="pre">xx</span></code>] of project classification message ID specified in the <code class="docutils literal notranslate"><span class="pre">code</span></code> attribute of the element <code class="docutils literal notranslate"><span class="pre">&lt;spring:message&gt;</span></code> needs to be modified by appropriate value.</p></td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><p>Bean definition file to create an application context for Web applications</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/resources/META-INF/spring/applicationContext.xml</span></code></p>
</td>
<td><p>The provisional value [<code class="docutils literal notranslate"><span class="pre">xx</span></code>] of project classification exception code (message ID) specified in the Bean definition of <code class="docutils literal notranslate"><span class="pre">&quot;exceptionCodeResolver&quot;</span></code> needs to be modified by appropriate value.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="message-wording">
<span id="createwebapplicationprojectcustomizemessagewording"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">4.1.3.3. </span>Message wording</a><a class="headerlink" href="#message-wording" title="Permalink to this heading">¶</a></h3>
<p>In the Maven Archetype created project, number of message definitions are provided but,
message wordings are simple messages.
Actual messages (sampling) are indicated below.</p>
<p><strong>[application-messages.properties]</strong></p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">e.xx.fw.5001</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Resource not found.</span>

<span class="c1"># ...</span>

<span class="c1"># typemismatch</span>
<span class="na">typeMismatch</span><span class="o">=</span><span class="s">&quot;{0}&quot; is invalid.</span>

<span class="c1"># ...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Modify the message wording depending upon the application requirements (such as message terms)</strong></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>Message definition file</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/resources/i18n/application-messages.properties</span></code></p>
</td>
<td><p>Modify the messages in accordance with the application requirements.</p>
<p>The message to be displayed (Bean Validation messages) when there is an error in input check
needs to be modified (override default messages) depending upon the application requirement.
For overriding the default messages, Refer [<a class="reference internal" href="../ArchitectureInDetail/Validation.html#validation-message-def"><span class="std std-ref">Definition of error messages</span></a>].</p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="error-screen">
<span id="createwebapplicationprojectcustomizeerrorscreen"></span><h3><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">4.1.3.4. </span>Error screen</a><a class="headerlink" href="#error-screen" title="Permalink to this heading">¶</a></h3>
<p>In the Maven Archetype created project, JSP and HTML are provided for displaying an error screen for every kind of errors but,</p>
<ul class="simple">
<li><p>screen layout</p></li>
<li><p>screen title</p></li>
<li><p>wording of the message</p></li>
</ul>
<p>etc are simple implementation. Actual JSP implementation (sampling) is indicated below.</p>
<p><strong>[JSP]</strong></p>
<div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span><span class="w"> </span><span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Resource<span class="w"> </span>Not<span class="w"> </span>Found<span class="w"> </span>Error!<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;link</span><span class="w"> </span><span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span>
<span class="w">    </span><span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/resources/app/css/styles.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;wrapper&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;h1&gt;</span>Resource<span class="w"> </span>Not<span class="w"> </span>Found<span class="w"> </span>Error!<span class="nt">&lt;/h1&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;error&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${!empty exceptionCode}&quot;</span><span class="nt">&gt;</span>[${f:h(exceptionCode)}]<span class="nt">&lt;/c:if&gt;</span>
<span class="w">            </span><span class="nt">&lt;spring:message</span><span class="w"> </span><span class="na">code=</span><span class="s">&quot;e.xx.fw.5001&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/div&gt;</span>
<span class="w">        </span><span class="nt">&lt;t:messagesPanel</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;br&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- ... --&gt;</span>
<span class="w">    </span><span class="nt">&lt;br&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Modify the JSP and HTML depending upon the application requirements (such as UI terms) used for displaying an error screen.</strong></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>JSP for the error screen</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/webapp/WEB-INF/views/common/error/*.jsp</span></code></p>
</td>
<td><p>Modify depending upon the application requirements (such as UI terms).</p>
<p>Refer [<a class="reference internal" href="../ArchitectureInDetail/ExceptionHandling.html#exception-handling-how-to-use-codingpoint-jsp-label"><span class="std std-ref">Coding points (JSP)</span></a> of <a class="reference internal" href="../ArchitectureInDetail/ExceptionHandling.html"><span class="doc">Exception Handling</span></a>] for customizing the JSP to display an error screen.</p>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>HTML for the error screen</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/webapp/WEB-INF/views/common/error/unhandledSystemError.html</span></code></p>
</td>
<td><p>Modify depending upon the application requirements (such as UI terms).</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="screen-footer-copyright">
<span id="createwebapplicationprojectcustomizecopyrightonscreenfooter"></span><h3><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">4.1.3.5. </span>Screen footer copyright</a><a class="headerlink" href="#screen-footer-copyright" title="Permalink to this heading">¶</a></h3>
<p>In the Maven Archetype created project, screen layouts are configured using Tiles but,
the copyright of the screen footer portion is in a state of provisional value [<code class="docutils literal notranslate"><span class="pre">Copyright</span> <span class="pre">&amp;copy;</span> <span class="pre">20XX</span> <span class="pre">CompanyName</span></code>].
Actual JSP implementation (sampling) is indicated below.</p>
<p><strong>[template.jsp]</strong></p>
<div class="highlight-jsp notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;header&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;tiles:insertAttribute</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;hr&gt;</span>
<span class="w">  </span><span class="nt">&lt;p</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;text-align: center; background: #e5eCf9;&quot;</span><span class="nt">&gt;</span>Copyright
<span class="w">    </span><span class="ni">&amp;copy;</span><span class="w"> </span>20XX<span class="w"> </span>CompanyName<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>If screen layouts are configured using Tiles, specify appropriate value to the copyright.</strong></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>Template JSP for Tiles</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-web/src/main/webapp/WEB-INF/views/layout/template.jsp</span></code></p>
</td>
<td><p>Modify the provisional value [<code class="docutils literal notranslate"><span class="pre">Copyright</span> <span class="pre">&amp;copy;</span> <span class="pre">20XX</span> <span class="pre">CompanyName</span></code> ] of the copyright with an appropriate value.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="in-memory-database-h2-database">
<span id="createwebapplicationprojectcustomizeinmemorydatabase"></span><h3><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">4.1.3.6. </span>In-memory database (H2 Database)</a><a class="headerlink" href="#in-memory-database-h2-database" title="Permalink to this heading">¶</a></h3>
<p>In the Maven Archetype created project, in-memory database (H2 Database) setting is configured but,
these settings are done for the small operation (Prototyping and POC (Proof Of Concept)) verification.
Therefore, these could be unnecessary settings while having regular application development.</p>
<p><strong>[artifactId-env.xml]</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;jdbc:initialize-database</span><span class="w"> </span><span class="na">data-source=</span><span class="s">&quot;dataSource&quot;</span>
<span class="w">    </span><span class="na">ignore-failures=</span><span class="s">&quot;ALL&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;jdbc:script</span><span class="w"> </span><span class="na">location=</span><span class="s">&quot;classpath:/database/${database}-schema.sql&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;jdbc:script</span><span class="w"> </span><span class="na">location=</span><span class="s">&quot;classpath:/database/${database}-dataload.sql&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/jdbc:initialize-database&gt;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">└── src</span>
<span class="go">    └── main</span>
<span class="go">        └── resources</span>
<span class="go">            ├── META-INF</span>
<span class="go">          (...)</span>
<span class="go">            ├── database</span>
<span class="go">            │   ├── H2-dataload.sql</span>
<span class="go">            │   └── H2-schema.sql</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>While having regular application development, remove the directory which is maintained for definition and SQL files for setting up a In-memory database (H2 Database)</strong></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>Bean definition file for defining environment dependent components</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId-env/src/main/resources/META-INF/spring/artifactId-env.xml</span></code></p>
</td>
<td><p>Remove the <code class="docutils literal notranslate"><span class="pre">&lt;jdbc:initialize-database&gt;</span></code> element.</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>Directory that contains the SQL for configuring In-memory database (H2 Database)</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-env/src/main/resources/database/</span></code></p>
</td>
<td><p>Remove the directory.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="datasource-configuration">
<span id="createwebapplicationprojectcustomizedatasource"></span><h3><a class="toc-backref" href="#id22" role="doc-backlink"><span class="section-number">4.1.3.7. </span>DataSource configuration</a><a class="headerlink" href="#datasource-configuration" title="Permalink to this heading">¶</a></h3>
<p>In the Maven Archetype created project, DataSource setting is done for accessing in-memory database (H2 Database) but,
these settings are done for the small operation (Prototyping and POC (Proof Of Concept)) verification.
Therefore it is necessary to change the DataSource settings for accessing the actual running database application while having regular application development.</p>
<p><strong>[artifactId/artifactId-domain/pom.xml]</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.h2database<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>h2<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<p><strong>[artifactId-infra.properties]</strong></p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">database</span><span class="o">=</span><span class="s">H2</span>
<span class="na">database.url</span><span class="o">=</span><span class="s">jdbc:h2:mem:todo;DB_CLOSE_DELAY=-1</span>
<span class="na">database.username</span><span class="o">=</span><span class="s">sa</span>
<span class="na">database.password</span><span class="o">=</span>
<span class="na">database.driverClassName</span><span class="o">=</span><span class="s">org.h2.Driver</span>
<span class="c1"># connection pool</span>
<span class="na">cp.maxActive</span><span class="o">=</span><span class="s">96</span>
<span class="na">cp.maxIdle</span><span class="o">=</span><span class="s">16</span>
<span class="na">cp.minIdle</span><span class="o">=</span><span class="s">0</span>
<span class="na">cp.maxWait</span><span class="o">=</span><span class="s">60000</span>
</pre></div>
</div>
<p><strong>[artifactId-env.xml]</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;realDataSource&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.apache.commons.dbcp2.BasicDataSource&quot;</span>
<span class="w">    </span><span class="na">destroy-method=</span><span class="s">&quot;close&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;driverClassName&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${database.driverClassName}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;url&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${database.url}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;username&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${database.username}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;password&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${database.password}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;defaultAutoCommit&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;maxTotal&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${cp.maxActive}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;maxIdle&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${cp.maxIdle}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;minIdle&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${cp.minIdle}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;maxWaitMillis&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${cp.maxWait}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Change the DataSource settings for accessing the actual running database application while having regular application development.</strong></p>
<p>In the Maven Archetype created project, the use of Apache Commons DBCP is configured but,
there are many cases that adopting a method of accessing a DataSource via JNDI (Java Naming and Directory Interface)
by use of DataSource provided by the application server.</p>
<p>Again there are some cases where Apache Commons DBCP is used on development environment and
DataSource provided by the application server is used on test as well as production environment.</p>
<p>For how to set-up the DataSource, Refer [<a class="reference internal" href="../ArchitectureInDetail/DataAccessCommon.html#data-access-common-howtouse-datasource"><span class="std std-ref">Datasource settings</span></a> of <a class="reference internal" href="../ArchitectureInDetail/DataAccessCommon.html"><span class="doc">Database Access (Common)</span></a>].</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Customization method and customization targeted files are indicated below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sr. No.</p></th>
<th class="head"><p>Targeted File</p></th>
<th class="head"><p>Customization method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>POM file</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">artifactId/pom.xml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-domain/pom.xml</span></code></p></li>
</ul>
</td>
<td><p>Remove in-memory database (H2 Database) JDBC driver from the dependency library.</p>
<p>Add the JDBC driver in dependency library for accessing the actual running application database.</p>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>Property file for defining environment dependent setting</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-env/src/main/resources/META-INF/spring/artifactId-infra.properties</span></code></p>
</td>
<td><p>If Apache Commons DBCP is used as a DataSource, specify the connection information for accessing the actual running application database in below property.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">database</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">database.url</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">database.username</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">database.password</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">database.driverClassName</span></code></p></li>
</ul>
<p>Remove unnecessary property except the following property if DataSource provided by the application server is used.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">database</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><p>Bean definition file for defining environment dependent components</p>
<p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-env/src/main/resources/META-INF/spring/artifactId-env.xml</span></code></p>
</td>
<td><p>If DataSource provided by the application server is used, change the configuration to use the DataSource that is obtained via JNDI.</p>
<p>For how to set-up the DataSource, Refer [<a class="reference internal" href="../ArchitectureInDetail/DataAccessCommon.html#data-access-common-howtouse-datasource"><span class="std std-ref">Datasource settings</span></a> of <a class="reference internal" href="../ArchitectureInDetail/DataAccessCommon.html"><span class="doc">Database Access (Common)</span></a>].</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About the database property of the property file for defining environment dependent setting</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">database</span></code> property is unnecessary property if MyBatis is used as O/R Mapper.
You may remove this but you may leave the settings in order to specify the database being used.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>How to add the JDBC driver</strong></p>
<p>It is fine to remove the comment out of POM file in case of PostgreSQL or Oracle database is used..
Modify the JDBC driver version by actual use of the corresponding database version.</p>
<p>However, if Oracle is used,
it is necessary to install the Oracle JDBC driver in the local repository of Maven before removing the comment.</p>
<p>The following is an example of setting in case of PostgreSQL is used.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">artifactId/pom.xml</span></code></p></li>
</ul>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">                 </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">                     </span><span class="nt">&lt;groupId&gt;</span>org.postgresql<span class="nt">&lt;/groupId&gt;</span>
<span class="w">                     </span><span class="nt">&lt;artifactId&gt;</span>postgresql<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">                     </span><span class="nt">&lt;version&gt;</span>${postgresql.version}<span class="nt">&lt;/version&gt;</span>
<span class="w">                 </span><span class="nt">&lt;/dependency&gt;</span>
<span class="cm">&lt;!--             &lt;dependency&gt; --&gt;</span>
<span class="cm">&lt;!--                 &lt;groupId&gt;com.oracle&lt;/groupId&gt; --&gt;</span>
<span class="cm">&lt;!--                 &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt; --&gt;</span>
<span class="cm">&lt;!--                 &lt;version&gt;${ojdbc.version}&lt;/version&gt; --&gt;</span>
<span class="cm">&lt;!--             &lt;/dependency&gt; --&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ... --&gt;</span>

<span class="w">    </span><span class="nt">&lt;postgresql.version&gt;</span>9.3-1102-jdbc41<span class="nt">&lt;/postgresql.version&gt;</span>
<span class="w">    </span><span class="nt">&lt;ojdbc.version&gt;</span>12.1.0.2<span class="nt">&lt;/ojdbc.version&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">artifactId/artifactId-domain/pom.xml</span></code></p></li>
</ul>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">             </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">                 </span><span class="nt">&lt;groupId&gt;</span>org.postgresql<span class="nt">&lt;/groupId&gt;</span>
<span class="w">                 </span><span class="nt">&lt;artifactId&gt;</span>postgresql<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">                 </span><span class="nt">&lt;scope&gt;</span>provided<span class="nt">&lt;/scope&gt;</span><span class="w"> </span>--&gt;
<span class="w">             </span><span class="nt">&lt;/dependency&gt;</span><span class="w"> </span>--&gt;
<span class="cm">&lt;!--         &lt;dependency&gt; --&gt;</span>
<span class="cm">&lt;!--             &lt;groupId&gt;com.oracle&lt;/groupId&gt; --&gt;</span>
<span class="cm">&lt;!--             &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt; --&gt;</span>
<span class="cm">&lt;!--             &lt;scope&gt;provided&lt;/scope&gt; --&gt;</span>
<span class="cm">&lt;!--         &lt;/dependency&gt; --&gt;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="structure-of-the-development-project">
<span id="createwebapplicationprojectconfiguration"></span><h2><a class="toc-backref" href="#id23" role="doc-backlink"><span class="section-number">4.1.4. </span>Structure of the development project</a><a class="headerlink" href="#structure-of-the-development-project" title="Permalink to this heading">¶</a></h2>
<p>Explained the structure of the project created in Maven Archetype.</p>
<p>Below is the structure of the project created in Maven Archetype.</p>
<ul class="simple">
<li><p>Project structure of each layer that is recommended in this guideline</p></li>
<li><p>Project structure that takes into account the exclusion of environmental dependency introduced in this guideline</p></li>
<li><p>Project structure that conscious the CI (Continuous Integration)</p></li>
</ul>
<p>In addition, various settings have been included that is recommended in this guideline</p>
<ul class="simple">
<li><p>Web application configuration file (web.xml)</p></li>
<li><p>Spring Framework Bean definition file</p></li>
<li><p>Bean definition file for the Spring MVC</p></li>
<li><p>Bean definition file for the Spring Security</p></li>
<li><p>O/R Mapper configuration file</p></li>
<li><p>Tiles configuration file</p></li>
<li><p>Property file (such as message definition file)</p></li>
</ul>
<p>and, as a simple component implementation of low (=necessary to develop every kind of application) dependency on the application requirements,</p>
<ul class="simple">
<li><p>Controller and JSP for displaying Welcome page</p></li>
<li><p>JSP to display an error screen (HTML)</p></li>
<li><p>Template JSP for Tiles</p></li>
<li><p>Include JSP for reading configuration such as JSP tag library</p></li>
<li><p>CSS file that defines the screen style of entire application</p></li>
</ul>
<p>etc are provided.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Components provided as a simple implementation</strong></p>
<p>Components provided as a simple implementation can be corresponding to one of the following.</p>
<ul class="simple">
<li><p>Modification to meet the application requirements</p></li>
<li><p>Removal of unnecessary components</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Procedure to create the REST API project</strong></p>
<p>In the Maven Archetype created project,
the recommended settings are done which are required for building a traditional Web application (application that receives the request parameters and respond the HTML).</p>
<p>Therefore, unnecessary setting exists in building a REST API for handling JSON or XML.
If you want to create a project for building REST API,
need to apply the REST API related settings by referring to the [<a class="reference internal" href="../ArchitectureInDetail/REST.html#resthowtouseapplicationsettings"><span class="std std-ref">Application settings</span></a> of <a class="reference internal" href="../ArchitectureInDetail/REST.html"><span class="doc">RESTful Web Service</span></a>].</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Part that is expressed as <code class="docutils literal notranslate"><span class="pre">artifactId</span></code> in the following description
needs to be read by replacing the <code class="docutils literal notranslate"><span class="pre">artifactId</span></code> which is specified at the time of creating a project.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="multi-project-structure">
<span id="createwebapplicationprojectconfigurationmulti"></span><h3><a class="toc-backref" href="#id24" role="doc-backlink"><span class="section-number">4.1.4.1. </span>Multi-project structure</a><a class="headerlink" href="#multi-project-structure" title="Permalink to this heading">¶</a></h3>
<p>Initially entire multi-project structure is explained.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">artifactId</span>
<span class="go">    ├── pom.xml  ... (1)</span>
<span class="go">    ├── artifactId-web  ... (2)</span>
<span class="go">    ├── artifactId-domain  ... (3)</span>
<span class="go">    ├── artifactId-env  ... (4)</span>
<span class="go">    ├── artifactId-initdb  ... (5)</span>
<span class="go">    └── artifactId-selenium  ... (6)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>The entire multi-project configuration is defined in POM (Project Object Model) file.</p>
<p>Mainly following definitions are done in this file.</p>
<ul class="simple">
<li><p>Version of the dependent libraries</p></li>
<li><p>Build plug-ins settings (setting of how to build)</p></li>
</ul>
<p>Refer [<a class="reference internal" href="#createwebapplicationprojectappendixprojecthierarchicalstructure"><span class="std std-ref">Hierarchical structure of the project</span></a>] for the hierarchical relationship of multi-project.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Module that manages the application layer (Web layer) components.</p>
<p>Mainly following components and files are managed in this module.</p>
<ul class="simple">
<li><p>Controller class</p></li>
<li><p>Validator class for relational check</p></li>
<li><p>Form class (the Resource class in case of REST API)</p></li>
<li><p>View (JSP)</p></li>
<li><p>CSS file</p></li>
<li><p>JavaScript file</p></li>
<li><p>JUnit for the application layer components</p></li>
<li><p>Bean definition file for defining the application layer components</p></li>
<li><p>Web application configuration file (web.xml)</p></li>
<li><p>Message definition file</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p>Module that manages the domain layer components.</p>
<p>Mainly following components and files are managed in this module.</p>
<ul class="simple">
<li><p>Domain object such as Entity</p></li>
<li><p>Repository</p></li>
<li><p>Service</p></li>
<li><p>DTO</p></li>
<li><p>JUnit for the domain layer components</p></li>
<li><p>Bean definition file for defining the domain layer components</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><p>Module that manages the environmental dependency settings files.</p>
<p>Mainly following files are managed in this module.</p>
<ul class="simple">
<li><p>Bean definition file for defining the environment dependent components</p></li>
<li><p>Property file for defining the environment dependent properties value</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><p>Module that manages the database initialization SQL files.</p>
<p>Mainly following files are managed in this module.</p>
<ul class="simple">
<li><p>SQL file to create the database objects such as tables</p></li>
<li><p>SQL file to insert the initial data such as master data</p></li>
<li><p>SQL file to insert the test data used for E2E (End To End) test</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><p>Module that manages the Selenium used E2E testing components</p>
<p>Mainly following files are managed in this module.</p>
<ul class="simple">
<li><p>JUnit testing using Selenium operation</p></li>
<li><p>Expected value file used while Assert (if necessary)</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About a terminology definition of [multi-project] in this guideline</strong></p>
<p>The project created in Maven Archetype is the exact multi-module structured project.</p>
<p>This is supplement that the multi-module and multi-project is being used as the same meaning in this guideline.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="structure-of-web-module">
<span id="createwebapplicationprojectconfigurationweb"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink"><span class="section-number">4.1.4.2. </span>Structure of Web module</a><a class="headerlink" href="#structure-of-web-module" title="Permalink to this heading">¶</a></h3>
<p>Module that manages the application layer (Web layer) components are explained.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">artifactId-web</span>
<span class="go">    ├── pom.xml  ... (1)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>The web module configuration is defined in POM (Project Object Model) file.
Following definitions are done in this file.</p>
<ul class="simple">
<li><p>Definition of dependent libraries and build plug-ins</p></li>
<li><p>Definition to create a war file</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About the module name of the web module while creating a project for REST API</strong></p>
<p>The application type can be easily distinguished,
if the module name is assigned the name of <code class="docutils literal notranslate"><span class="pre">artifactId-api</span></code> while building a REST API.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">└── src</span>
<span class="go">    ├── main</span>
<span class="go">    │   ├── java</span>
<span class="go">    │   │   └── com</span>
<span class="go">    │   │       └── example</span>
<span class="go">    │   │           └── project</span>
<span class="go">    │   │               └── app  ... (2)</span>
<span class="go">    │   │                   └── welcome</span>
<span class="go">    │   │                       └── HelloController.java  ... (3)</span>
<span class="go">    │   ├── resources</span>
<span class="go">    │   │   ├── META-INF</span>
<span class="go">    │   │   │   ├── dozer  ... (4)</span>
<span class="go">    │   │   │   └── spring  ... (5)</span>
<span class="go">    │   │   │       ├── application.properties  ... (6)</span>
<span class="go">    │   │   │       ├── applicationContext.xml  ... (7)</span>
<span class="go">    │   │   │       ├── spring-mvc.xml  ... (8)</span>
<span class="go">    │   │   │       └── spring-security.xml  ... (9)</span>
<span class="go">    │   │   └── i18n  ... (10)</span>
<span class="go">    │   │       └── application-messages.properties  ... (11)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Package for storing the  application layer classes.</p>
<p>The component type can be easily distinguished,
if the package name is assigned the name of <code class="docutils literal notranslate"><span class="pre">api</span></code> while building a REST API.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p>The controller class for receiving a request to display the Welcome page.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><p>The directory in which a mapping definition file of Dozer (Bean Mapper) is stored,
Refer to [<a class="reference internal" href="../ArchitectureInDetail/Utilities/Dozer.html"><span class="doc">Bean Mapping (Dozer)</span></a>] for Dozer.</p>
<p>It is an empty directory at the time of creation.
If the mapping file is required (if high mapping is required),
it gets automatically read in case of stored under this directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Following files are stored under this directory.</p>
<ul class="simple">
<li><p>Definition file for mapping the application layer JavaBean with domain layer JavaBean</p></li>
<li><p>Definition file for each other mapping of application layer JavaBean</p></li>
</ul>
<p>It is recommended to store each other mapping of domain layer JavaBean in domain layer directory.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><p>Directory contains the property file and Spring Framework bean definition file.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><p>Properties file that defines the settings to be used in the application layer.</p>
<p>It is an empty file at the time of creation.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(7)</div>
</div>
</td>
<td><p>Bean definition file to create an application context for Web applications.</p>
<p>Following beans are defined in this file.</p>
<ul class="simple">
<li><p>Components to be used in the entire Web application</p></li>
<li><p>Domain layer components (Import the bean definition file in which domain layer components are defined)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(8)</div>
</div>
</td>
<td><p>Bean definition file to create an application context for the <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>.</p>
<p>Following beans are defined in this file.</p>
<ul class="simple">
<li><p>Spring MVC components</p></li>
<li><p>application layer components</p></li>
</ul>
<p>The application type can be easily distinguished, if the file name is assigned the name of <code class="docutils literal notranslate"><span class="pre">spring-mvc-api.xml</span></code> while building a REST API.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(9)</div>
</div>
</td>
<td><p>Bean definition file for defining the Spring Security components.</p>
<p>This file is read when you create an application context for the Web application.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(10)</div>
</div>
</td>
<td><p>Directory that contains the message definition file to be used in the application layer.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(11)</div>
</div>
</td>
<td><p>Property file that defines the messages to be used in the application layer.</p>
<p>Some of the generic messages are defined at the time of creation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Messages should be modified according to the application requirements (Such as message Terms).</strong>
For the message definition, Refer [<a class="reference internal" href="../ArchitectureInDetail/MessageManagement.html"><span class="doc">Message Management</span></a>].</p>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer [<a class="reference internal" href="#createwebapplicationprojectappendixapplicationcontext"><span class="std std-ref">Relationship of bean definition file and application context structure</span></a>] for the application context and bean definition file related.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">│   └── webapp</span>
<span class="go">│       ├── WEB-INF</span>
<span class="go">│       │   ├── tiles  ... (12)</span>
<span class="go">│       │   │   └── tiles-definitions.xml</span>
<span class="go">│       │   ├── views  ... (13)</span>
<span class="go">│       │   │   ├── common</span>
<span class="go">│       │   │   │   ├── error  ... (14)</span>
<span class="go">│       │   │   │   │   ├── accessDeniedError.jsp</span>
<span class="go">│       │   │   │   │   ├── businessError.jsp</span>
<span class="go">│       │   │   │   │   ├── dataAccessError.jsp</span>
<span class="go">│       │   │   │   │   ├── invalidCsrfTokenError.jsp</span>
<span class="go">│       │   │   │   │   ├── missingCsrfTokenError.jsp</span>
<span class="go">│       │   │   │   │   ├── resourceNotFoundError.jsp</span>
<span class="go">│       │   │   │   │   ├── systemError.jsp</span>
<span class="go">│       │   │   │   │   ├── transactionTokenError.jsp</span>
<span class="go">│       │   │   │   │   └── unhandledSystemError.html</span>
<span class="go">│       │   │   │   └── include.jsp  ... (15)</span>
<span class="go">│       │   │   ├── layout  ... (16)</span>
<span class="go">│       │   │   │   ├── header.jsp</span>
<span class="go">│       │   │   │   └── template.jsp</span>
<span class="go">│       │   │   └── welcome</span>
<span class="go">│       │   │       └── home.jsp  ... (17)</span>
<span class="go">│       │   └── web.xml  ... (18)</span>
<span class="go">│       └── resources  ... (19)</span>
<span class="go">│           └── app</span>
<span class="go">│               └── css</span>
<span class="go">│                   └── styles.css  ... (20)</span>
<span class="go">└── test</span>
<span class="go">    ├── java</span>
<span class="go">    └── resources</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(12)</div>
</div>
</td>
<td><p>Directory that contains the Tiles configuration files.
Refer [<a class="reference internal" href="../ArchitectureInDetail/TilesLayout.html"><span class="doc">Screen Layout using Tiles</span></a>] for the Tiles configuration files.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(13)</div>
</div>
</td>
<td><p>Directory that contains the View generation templates (jsp etc).</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(14)</div>
</div>
</td>
<td><p>Directory that contains the JSP and HTML for displaying error screens.</p>
<p>At the time of creation, JSPs (HTMLs) are stored corresponding to the errors that may occur during application execution.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Error screen JSP and HTML should be modified according to the application requirements (Such as UI Terms).</strong></p>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(15)</div>
</div>
</td>
<td><p>Common JSP files for include.</p>
<p>This file is included at the beginning of all JSP files.
Refer [<a class="reference internal" href="ApplicationLayer.html#view-jsp-include-label"><span class="std std-ref">Creating common JSP for include</span></a>] for common JSP files for include.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(16)</div>
</div>
</td>
<td><p>Directory that contains the JSP files for the Tiles layout.
Refer [<a class="reference internal" href="../ArchitectureInDetail/TilesLayout.html"><span class="doc">Screen Layout using Tiles</span></a>] for JSP files for the Tiles layout.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(17)</div>
</div>
</td>
<td><p>JSP file that displays the Welcome page.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(18)</div>
</div>
</td>
<td><p>Configuration definition file for the Web application.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(19)</div>
</div>
</td>
<td><p>Directory that contains the static resource files.</p>
<p>This directory contains such files whose response contents are not going to change depending upon the request contents.
Specifically following files are stored.</p>
<ul class="simple">
<li><p>JavaScript files</p></li>
<li><p>CSS files</p></li>
<li><p>Image files</p></li>
<li><p>HTML files</p></li>
</ul>
<p>Here adopted a dedicated directory mechanism for managing static resources offered by Spring MVC.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(20)</div>
</div>
</td>
<td><p>CSS file that defines the screen style applied to the entire application.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="structure-of-domain-module">
<span id="createwebapplicationprojectconfigurationdomain"></span><h3><a class="toc-backref" href="#id26" role="doc-backlink"><span class="section-number">4.1.4.3. </span>Structure of Domain module</a><a class="headerlink" href="#structure-of-domain-module" title="Permalink to this heading">¶</a></h3>
<p>Module that manages the domain layer components are explained.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">artifactId-domain</span>
<span class="go">    ├── pom.xml  ... (1)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>The domain module configuration is defined in POM (Project Object Model) file.
Following definitions are done in this file.</p>
<ul class="simple">
<li><p>Definition of dependent libraries and build plug-ins</p></li>
<li><p>Definition to create a jar file</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">└── src</span>
<span class="go">    ├── main</span>
<span class="go">    │   ├── java</span>
<span class="go">    │   │   └── com</span>
<span class="go">    │   │       └── example</span>
<span class="go">    │   │           └── project</span>
<span class="go">    │   │               └── domain  ... (2)</span>
<span class="go">    │   │                   ├── model</span>
<span class="go">    │   │                   ├── repository</span>
<span class="go">    │   │                   └── service</span>
<span class="go">    │   └── resources</span>
<span class="go">    │       └── META-INF</span>
<span class="go">    │           ├── dozer  ... (3)</span>
<span class="go">    │           └── spring  ... (4)</span>
<span class="go">    │               ├── artifactId-codelist.xml  ... (5)</span>
<span class="go">    │               ├── artifactId-domain.xml  ... (6)</span>
<span class="go">    │               └── artifactId-infra.xml  ... (7)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Package for storing the  domain layer classes.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p>The directory in which a mapping definition file of Dozer (Bean Mapper) is stored,
Refer to [<a class="reference internal" href="../ArchitectureInDetail/Utilities/Dozer.html"><span class="doc">Bean Mapping (Dozer)</span></a>] for Dozer.</p>
<p>It is an empty directory at the time of creation.
If the mapping file is required (if high mapping is required),
it gets automatically read in case of stored under this directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Following files are stored under this directory.</p>
<ul class="simple">
<li><p>Definition file for each other mapping of domain layer JavaBean</p></li>
</ul>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><p>Directory contains the property file and Spring Framework bean definition file.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><p>Bean definition file for defining the code list.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><p>Bean definition file for defining the domain layer components.</p>
<p>Following beans are defined in this file.</p>
<ul class="simple">
<li><p>Domain layer components (Service, Repository etc)</p></li>
<li><p>Infrastructure layer components (Import the bean definition file that the component has been defined in the Infrastructure layer)</p></li>
<li><p>Components for transaction management provided from Spring Framework.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(7)</div>
</div>
</td>
<td><p>Bean definition file for defining the Infrastructure layer components.</p>
<p>O/R Mapper etc beans are defined in this file.</p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">└── test</span>
<span class="go">    ├── java</span>
<span class="go">    │   └── com</span>
<span class="go">    │       └── example</span>
<span class="go">    │           └── project</span>
<span class="go">    │               └── domain</span>
<span class="go">    │                   ├── repository</span>
<span class="go">    │                   └── service</span>
<span class="go">    └── resources</span>
<span class="go">        └── test-context.xml  ... (8)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(8)</div>
</div>
</td>
<td><p>Bean definition file for defining the domain layer unit test components.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>In case of project created for MyBatis3</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">└── src</span>
<span class="go">    ├── main</span>
<span class="go">    │   ├── java</span>
<span class="go">   (...)</span>
<span class="go">    │   └── resources</span>
<span class="go">    │       ├── META-INF</span>
<span class="go">    │       │   ├── dozer</span>
<span class="go">    │       │   ├── mybatis  ... (9)</span>
<span class="go">    │       │   │   └── mybatis-config.xml  ... (10)</span>
<span class="go">    │       │   └── spring</span>
<span class="go">   (...)</span>
<span class="go">    │       └── com</span>
<span class="go">    │           └── example</span>
<span class="go">    │               └── project</span>
<span class="go">    │                   └── domain</span>
<span class="go">    │                       └── repository  ... (11)</span>
<span class="go">    │                           └── sample</span>
<span class="go">    │                               └── SampleRepository.xml  ... (12)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(9)</div>
</div>
</td>
<td><p>Directory that contains the MyBatis3 configuration files</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(10)</div>
</div>
</td>
<td><p>MyBatis3 configuration files.</p>
<p>Some of the recommended settings are defined at the time of creation.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(11)</div>
</div>
</td>
<td><p>Directory that contains the MyBatis3 Mapper files.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(12)</div>
</div>
</td>
<td><p>Sample file of MyBatis3 Mapper file.</p>
<p>Sample implementation is in commented out state at the time of creation
<strong>Lastly, these files will not required.</strong></p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="structure-of-env-module">
<span id="createwebapplicationprojectconfigurationenv"></span><h3><a class="toc-backref" href="#id27" role="doc-backlink"><span class="section-number">4.1.4.4. </span>Structure of Env module</a><a class="headerlink" href="#structure-of-env-module" title="Permalink to this heading">¶</a></h3>
<p>Module that manages the environment dependent configuration files are explained.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">artifactId-env</span>
<span class="go">    ├── configs  ... (1)</span>
<span class="go">    │   ├── production-server  ... (2)</span>
<span class="go">    │   │   └── resources</span>
<span class="go">    │   └── test-server</span>
<span class="go">    │       └── resources</span>
<span class="go">    ├── pom.xml  ... (3)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>Directory for managing the environment dependent configuration files.</p>
<p>Manage environment dependent configuration file by creating subdirectories of each environment.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Directory for managing the each environment configuration file.</p>
<p>At the time of creation, following directories (directory template) are provided as most simple configuration.</p>
<ul class="simple">
<li><p>production-server (Directory that contains the production environment configuration files)</p></li>
<li><p>test-server (Directory that contains the test environment configuration files)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p>The env module configuration is defined in POM (Project Object Model) file.
Following definitions are done in this file.</p>
<ul class="simple">
<li><p>Definition of dependent libraries and build plug-ins</p></li>
<li><p>Definition of Profile to create a jar file for each environment</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">└── src</span>
<span class="go">    └── main</span>
<span class="go">        └── resources  ... (4)</span>
<span class="go">            ├── META-INF</span>
<span class="go">            │   └── spring</span>
<span class="go">            │       ├── artifactId-env.xml  ... (5)</span>
<span class="go">            │       └── artifactId-infra.properties  ... (6)</span>
<span class="go">            ├── database  ... (7)</span>
<span class="go">            │   ├── H2-dataload.sql</span>
<span class="go">            │   └── H2-schema.sql</span>
<span class="go">            ├── dozer.properties  ... (8)</span>
<span class="go">            ├── log4jdbc.properties  ... (9)</span>
<span class="go">            └── logback.xml  ... (10)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><p>Directory for managing configuration files of the development.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><p>Bean definition file that defines the environment dependent components.</p>
<p>Following beans are defined in this file.</p>
<ul class="simple">
<li><p>Datasource</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JodaTimeDateFactory</span></code> offered by common library (In case of different implementations depending on the environment)</p></li>
<li><p>Components for transaction management provided by Spring Framework (In case of different implementations depending on the environment)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(6)</div>
</div>
</td>
<td><p>Property file that defines the environment dependent settings.</p>
<p>At the time of creation, the DataSource settings are defined (Setting of the connection and connection pool)</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(7)</div>
</div>
</td>
<td><p>Directory that contains the SQL to set up an in-memory database (H2 Database).</p>
<p>This directory is prepared while performing small operation verification .
<strong>Basically remove this directory because this directory is not intended to use in the actual application development.</strong></p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(8)</div>
</div>
</td>
<td><p>Property file for carrying out the Dozer (Bean Mapper) global settings. For Dozer refer [Bean Mapping (Dozer)].</p>
<p>It is an empty file at the time of creation. (The warning log appears at the start-up time if file is not exist, the empty file is prepared in order to prevent it)</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(9)</div>
</div>
</td>
<td><p>Property file for carrying out the Log4jdbc-remix (library to perform the JDBC-related log output) global settings. For Log4jdbc-remix, refer [<a class="reference internal" href="../ArchitectureInDetail/DataAccessCommon.html#dataaccesscommondatasourcedebug"><span class="std std-ref">JDBC debug log settings</span></a>].</p>
<p>At the time of creation, new line character related setting are specified for those SQLs which are going to be printed in log.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(10)</div>
</div>
</td>
<td><p>Configuration file of the Logback (log output).
For the log output refer [<a class="reference internal" href="../ArchitectureInDetail/Logging.html"><span class="doc">Logging</span></a>].</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="structure-of-initdb-module">
<span id="createwebapplicationprojectconfigurationinitdb"></span><h3><a class="toc-backref" href="#id28" role="doc-backlink"><span class="section-number">4.1.4.5. </span>Structure of Initdb module</a><a class="headerlink" href="#structure-of-initdb-module" title="Permalink to this heading">¶</a></h3>
<p>Module that manages the SQL file to initialize the database is explained.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">artifactId-initdb</span>
<span class="go">    ├── pom.xml  ... (1)</span>
<span class="go">    └── src</span>
<span class="go">        └── main</span>
<span class="go">            └── sqls  ... (2)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>The initdb module configuration is defined in POM (Project Object Model) file.
Following definitions are done in this file.</p>
<ul class="simple">
<li><p>Definition of build plug-ins (<a class="reference external" href="http://mojo.codehaus.org/sql-maven-plugin/index.html">SQL Maven Plugin</a>)</p></li>
</ul>
<p>Simple configuration for PostgreSQL is defined at the time of creation.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Directory for storing the database initialization SQL files.</p>
<p>It is an empty directory at the time of creation.
For how to create, Refer <a class="reference external" href="https://github.com/terasolunaorg/terasoluna-tourreservation-mybatis3/tree/master/terasoluna-tourreservation-initdb/src/sqls">Sample application of initdb project</a>.</p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="structure-of-selenium-module">
<span id="createwebapplicationprojectconfigurationselenium"></span><h3><a class="toc-backref" href="#id29" role="doc-backlink"><span class="section-number">4.1.4.6. </span>Structure of Selenium module</a><a class="headerlink" href="#structure-of-selenium-module" title="Permalink to this heading">¶</a></h3>
<p>Module that manages the E2E (End To End) testing components used in Selenium explained.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">artifactId-selenium</span>
<span class="go">    ├── pom.xml  ... (1)</span>
<span class="go">    └── src</span>
<span class="go">        └── test  ... (2)</span>
<span class="go">            ├── java</span>
<span class="go">            └── resources</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>The selenium module configuration is defined in POM (Project Object Model) file.</p>
<p>Following definitions are done in this file.</p>
<ul class="simple">
<li><p>Definition of dependent libraries and build plug-ins</p></li>
<li><p>Definition to create a war file</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Directory that contains the configuration files and testing components.</p>
<p>For how to create, Refer <a class="reference external" href="https://github.com/terasolunaorg/terasoluna-tourreservation-mybatis3/tree/master/terasoluna-tourreservation-selenium">Sample application of selenium project</a>.</p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="appendix">
<span id="createwebapplicationprojectappendix"></span><h2><a class="toc-backref" href="#id30" role="doc-backlink"><span class="section-number">4.1.5. </span>Appendix</a><a class="headerlink" href="#appendix" title="Permalink to this heading">¶</a></h2>
<section id="hierarchical-structure-of-the-project">
<span id="createwebapplicationprojectappendixprojecthierarchicalstructure"></span><h3><a class="toc-backref" href="#id31" role="doc-backlink"><span class="section-number">4.1.5.1. </span>Hierarchical structure of the project</a><a class="headerlink" href="#hierarchical-structure-of-the-project" title="Permalink to this heading">¶</a></h3>
<p>The hierarchical structure of the project indicated below which is created in Maven Archetype.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/CreateWebApplicationProjectHierarchicalStructure.png"><img alt="../_images/CreateWebApplicationProjectHierarchicalStructure.png" src="../_images/CreateWebApplicationProjectHierarchicalStructure.png" style="width: 100%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>Project created in Maven Archetype.</p>
<p>The project created in Maven Archetype has become a multi-module configuration,
parent project and each sub-module have a cross-reference relationship.</p>
<p>In the project created in version 5.0.1.RELEASE Maven Archetype,
[org.terasoluna.gfw:terasoluna-gfw-parent:5.0.1.RELEASE] is specified as a parent project.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>TERASOLUNA Server Framework for Java (5.x) Parent project.</p>
<p>In the TERASOLUNA Server Framework for Java (5.x) Parent project,</p>
<ul class="simple">
<li><p>Plug-ins settings for build</p></li>
<li><p>Customization of libraries that is managed through Spring IO Platform (adjusted version)</p></li>
<li><p>Version management of recommended libraries that is not managed by Spring IO Platform</p></li>
</ul>
<p>are performed.</p>
<p>Furthermore, in order to version management of the dependent libraries via Spring IO Platform, imported the [io.spring.platform:platform-bom:1.1.3.RELEASE] into <code class="docutils literal notranslate"><span class="pre">&lt;dependencyManagement&gt;</span></code> of the current project.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(3)</div>
</div>
</td>
<td><p>Spring IO Platform project.</p>
<p>Since [org.springframework.boot:spring-boot-starter-parent:1.2.5.RELEASE] is specified as a parent project, the definition of <code class="docutils literal notranslate"><span class="pre">&lt;dependencyManagement&gt;</span></code> defined into pom file of the spring-boot-starter-parent also imported into pom file of the terasoluna-gfw-parent.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(4)</div>
</div>
</td>
<td><p>Spring Boot Starter Parent project.</p>
<p>Since [org.springframework.boot:spring-boot-dependencies:1.2.5.RELEASE] is specified as a parent project,  the definition of <code class="docutils literal notranslate"><span class="pre">&lt;dependencyManagement&gt;</span></code> defined into pom file of the spring-boot-dependencies also imported into pom file of the terasoluna-gfw-parent.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(5)</div>
</div>
</td>
<td><p>Spring Boot Dependencies project.</p></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The configuration has been changed like <code class="docutils literal notranslate"><span class="pre">&lt;dependencyManagement&gt;</span></code> of Spring IO Platform is imported from version 5.0.0.RELEASE,
we have adopted a style that version management of recommended libraries are done in Spring IO Platform.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since the configuration has been changed like <code class="docutils literal notranslate"><span class="pre">&lt;dependencyManagement&gt;</span></code> of Spring IO Platform is imported from version 5.0.0.RELEASE,
You are no longer able to access the version management properties from the child project.</p>
<p>Therefore, if property values are referring or overwriting at the child project, pom file should be modified while upgrading from version 1.0.x.</p>
<p>Furthermore, it is possible to access the conventional version management properties for recommended libraries (TERASOLUNA Server Framework for Java (5.x) recommended library)
which are not managed by the Spring IO Platform.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="relationship-of-bean-definition-file-and-application-context-structure">
<span id="createwebapplicationprojectappendixapplicationcontext"></span><h3><a class="toc-backref" href="#id32" role="doc-backlink"><span class="section-number">4.1.5.2. </span>Relationship of bean definition file and application context structure</a><a class="headerlink" href="#relationship-of-bean-definition-file-and-application-context-structure" title="Permalink to this heading">¶</a></h3>
<p>Relationship of bean definition file and structure of the Spring Framework application context (DI container) indicated below.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/CreateWebApplicationProjectApplicationContext.png"><img alt="../_images/CreateWebApplicationProjectApplicationContext.png" src="../_images/CreateWebApplicationProjectApplicationContext.png" style="width: 100%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Sr. No.</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(1)</div>
</div>
</td>
<td><p>Application context for the Web application.</p>
<p>As shown in above diagram, Components defined in</p>
<ul class="simple">
<li><p>artifactId-web/src/main/resource/META-INF/spring/applicationContext.xml</p></li>
<li><p>artifactId-domain/src/main/resource/META-INF/spring/artifactId-domain.xml</p></li>
<li><p>artifactId-domain/src/main/resource/META-INF/spring/artifactId-infra.xml</p></li>
<li><p>artifactId-env/src/main/resource/META-INF/spring/artifactId-env.xml</p></li>
<li><p>artifactId-domain/src/main/resource/META-INF/spring/artifactId-codelist.xml</p></li>
<li><p>artifactId-web/src/main/resource/META-INF/spring/spring-security.xml</p></li>
</ul>
<p>are registered in the application context (DI container) for the Web application..</p>
<p>Components registered in the application context for the Web application are
mechanized such a way that it can be referred by the application context of each <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(2)</div>
</div>
</td>
<td><p>Application context for <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>.</p>
<p>As shown in above diagram, Components defined in</p>
<ul class="simple">
<li><p>artifactId-web/src/main/resource/META-INF/spring/spring-mvc.xml</p></li>
</ul>
<p>are registered in the application context (DI container) for the <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>.</p>
<p>Components not stored in the application context for the <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code> are
mechanized such a way that it can be obtained by referring the application context of the Web application (parent context),
hence it is possible to inject domain layer components for the application layer component.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>About the operation when registered the same components in both application contexts.</strong></p>
<p>If same components are registered in both application context for web application and application context for <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>,
injected component will be the registered component in the same application context(Application context for <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>) and this point is supplemented here.</p>
<p>In particular, it is necessary to be careful that do not register the domain layer component (such as Service and Repository) to application context for the <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>.</p>
<p>If domain layer components are registered to the application context for the <code class="docutils literal notranslate"><span class="pre">DispatcherServlet</span></code>,
trouble like the database operations are not committed occurs due to component that performs the transaction control (AOP) is not enabled.</p>
<p>Furthermore, the settings are done in the project created using Maven Archetype so that the above events don’t occur.
It is necessary to be careful while performing modification or addition of the settings.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="description-of-the-configuration-file">
<span id="createwebapplicationprojectappendixdescribeconfigurationfile"></span><h3><a class="toc-backref" href="#id33" role="doc-backlink"><span class="section-number">4.1.5.3. </span>Description of the configuration file</a><a class="headerlink" href="#description-of-the-configuration-file" title="Permalink to this heading">¶</a></h3>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>In order to increase the understanding of various settings, planning to add explanation of a configuration file.</p>
<ul class="simple">
<li><p>If functional description is explained somewhere, Reference to the functional description will be noted down.</p></li>
<li><p>If functional description is explained anywhere, description will be done here.</p></li>
</ul>
<p>Specific time-line is not decided yet.</p>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="DomainLayer.html" title="4.2. Domain Layer Implementation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="4. Application Development using TERASOLUNA Server Framework for Java (5.x)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TERASOLUNA Server Framework for Java (5.x) Development Guideline 5.0.1.RELEASE documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">4. </span>Application Development using TERASOLUNA Server Framework for Java (5.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4.1. </span>Create Web application development project</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013-2015, NTT DATA.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 5.3.0.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
    
    <script>
    
    $(function() {
    	var $sidebar	= $('.sphinxsidebar'),
    		$window		= $(window),
    		offset		= $sidebar.offset(),
    		topPadding	= 3,
    		$scroll		= $('#scroll');
    	
    	$window.scroll(function() {
    		if ($scroll.is(':checked')) {
				if ($window.scrollTop() > offset.top) {
					$sidebar.stop().animate({
						marginTop:$window.scrollTop() - offset.top + topPadding
					});
				} else {
					$sidebar.stop().animate({
						marginTop:0
					});
				}
			}
		});
    	
    	var $navList = $('ul:first', $sidebar);
    	$('li:first', $navList).addClass('open');
    	
    	$navList.treeview({
    		persist: "location",
    		collapsed: true,
    		unique: false
    	});
    	
	});
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46550814-1', 'terasolunaorg.github.io');
    ga('send', 'pageview');
    </script>
  </body>
</html>